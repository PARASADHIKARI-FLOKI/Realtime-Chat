var ZR=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var S6=ZR((R6,Mf)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function JR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gp={exports:{}},Vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function eI(){if(kT)return Vu;kT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Vu.Fragment=e,Vu.jsx=n,Vu.jsxs=n,Vu}var MT;function tI(){return MT||(MT=1,Gp.exports=eI()),Gp.exports}var re=tI(),Wp={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function nI(){if(NT)return Oe;NT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),E=Symbol.iterator;function A(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,z={};function P(x,ne,_e){this.props=x,this.context=ne,this.refs=z,this.updater=_e||C}P.prototype.isReactComponent={},P.prototype.setState=function(x,ne){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ne,"setState")},P.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function H(){}H.prototype=P.prototype;function W(x,ne,_e){this.props=x,this.context=ne,this.refs=z,this.updater=_e||C}var Y=W.prototype=new H;Y.constructor=W,M(Y,P.prototype),Y.isPureReactComponent=!0;var ee=Array.isArray,se={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function k(x,ne,_e,ue,ce,Me){return _e=Me.ref,{$$typeof:t,type:x,key:ne,ref:_e!==void 0?_e:null,props:Me}}function R(x,ne){return k(x.type,ne,void 0,void 0,void 0,x.props)}function b(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function D(x){var ne={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(_e){return ne[_e]})}var N=/\/+/g;function L(x,ne){return typeof x=="object"&&x!==null&&x.key!=null?D(""+x.key):ne.toString(36)}function O(){}function bt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(O,O):(x.status="pending",x.then(function(ne){x.status==="pending"&&(x.status="fulfilled",x.value=ne)},function(ne){x.status==="pending"&&(x.status="rejected",x.reason=ne)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function mt(x,ne,_e,ue,ce){var Me=typeof x;(Me==="undefined"||Me==="boolean")&&(x=null);var De=!1;if(x===null)De=!0;else switch(Me){case"bigint":case"string":case"number":De=!0;break;case"object":switch(x.$$typeof){case t:case e:De=!0;break;case T:return De=x._init,mt(De(x._payload),ne,_e,ue,ce)}}if(De)return ce=ce(x),De=ue===""?"."+L(x,0):ue,ee(ce)?(_e="",De!=null&&(_e=De.replace(N,"$&/")+"/"),mt(ce,ne,_e,"",function(Tt){return Tt})):ce!=null&&(b(ce)&&(ce=R(ce,_e+(ce.key==null||x&&x.key===ce.key?"":(""+ce.key).replace(N,"$&/")+"/")+De)),ne.push(ce)),1;De=0;var Ot=ue===""?".":ue+":";if(ee(x))for(var We=0;We<x.length;We++)ue=x[We],Me=Ot+L(ue,We),De+=mt(ue,ne,_e,Me,ce);else if(We=A(x),typeof We=="function")for(x=We.call(x),We=0;!(ue=x.next()).done;)ue=ue.value,Me=Ot+L(ue,We++),De+=mt(ue,ne,_e,Me,ce);else if(Me==="object"){if(typeof x.then=="function")return mt(bt(x),ne,_e,ue,ce);throw ne=String(x),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return De}function oe(x,ne,_e){if(x==null)return x;var ue=[],ce=0;return mt(x,ue,"","",function(Me){return ne.call(_e,Me,ce++)}),ue}function we(x){if(x._status===-1){var ne=x._result;ne=ne(),ne.then(function(_e){(x._status===0||x._status===-1)&&(x._status=1,x._result=_e)},function(_e){(x._status===0||x._status===-1)&&(x._status=2,x._result=_e)}),x._status===-1&&(x._status=0,x._result=ne)}if(x._status===1)return x._result.default;throw x._result}var ge=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function et(){}return Oe.Children={map:oe,forEach:function(x,ne,_e){oe(x,function(){ne.apply(this,arguments)},_e)},count:function(x){var ne=0;return oe(x,function(){ne++}),ne},toArray:function(x){return oe(x,function(ne){return ne})||[]},only:function(x){if(!b(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Oe.Component=P,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=W,Oe.StrictMode=r,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Oe.cache=function(x){return function(){return x.apply(null,arguments)}},Oe.cloneElement=function(x,ne,_e){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ue=M({},x.props),ce=x.key,Me=void 0;if(ne!=null)for(De in ne.ref!==void 0&&(Me=void 0),ne.key!==void 0&&(ce=""+ne.key),ne)!me.call(ne,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ne.ref===void 0||(ue[De]=ne[De]);var De=arguments.length-2;if(De===1)ue.children=_e;else if(1<De){for(var Ot=Array(De),We=0;We<De;We++)Ot[We]=arguments[We+2];ue.children=Ot}return k(x.type,ce,void 0,void 0,Me,ue)},Oe.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},Oe.createElement=function(x,ne,_e){var ue,ce={},Me=null;if(ne!=null)for(ue in ne.key!==void 0&&(Me=""+ne.key),ne)me.call(ne,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ce[ue]=ne[ue]);var De=arguments.length-2;if(De===1)ce.children=_e;else if(1<De){for(var Ot=Array(De),We=0;We<De;We++)Ot[We]=arguments[We+2];ce.children=Ot}if(x&&x.defaultProps)for(ue in De=x.defaultProps,De)ce[ue]===void 0&&(ce[ue]=De[ue]);return k(x,Me,void 0,void 0,null,ce)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(x){return{$$typeof:d,render:x}},Oe.isValidElement=b,Oe.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:we}},Oe.memo=function(x,ne){return{$$typeof:g,type:x,compare:ne===void 0?null:ne}},Oe.startTransition=function(x){var ne=se.T,_e={};se.T=_e;try{var ue=x(),ce=se.S;ce!==null&&ce(_e,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(et,ge)}catch(Me){ge(Me)}finally{se.T=ne}},Oe.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Oe.use=function(x){return se.H.use(x)},Oe.useActionState=function(x,ne,_e){return se.H.useActionState(x,ne,_e)},Oe.useCallback=function(x,ne){return se.H.useCallback(x,ne)},Oe.useContext=function(x){return se.H.useContext(x)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(x,ne){return se.H.useDeferredValue(x,ne)},Oe.useEffect=function(x,ne){return se.H.useEffect(x,ne)},Oe.useId=function(){return se.H.useId()},Oe.useImperativeHandle=function(x,ne,_e){return se.H.useImperativeHandle(x,ne,_e)},Oe.useInsertionEffect=function(x,ne){return se.H.useInsertionEffect(x,ne)},Oe.useLayoutEffect=function(x,ne){return se.H.useLayoutEffect(x,ne)},Oe.useMemo=function(x,ne){return se.H.useMemo(x,ne)},Oe.useOptimistic=function(x,ne){return se.H.useOptimistic(x,ne)},Oe.useReducer=function(x,ne,_e){return se.H.useReducer(x,ne,_e)},Oe.useRef=function(x){return se.H.useRef(x)},Oe.useState=function(x){return se.H.useState(x)},Oe.useSyncExternalStore=function(x,ne,_e){return se.H.useSyncExternalStore(x,ne,_e)},Oe.useTransition=function(){return se.H.useTransition()},Oe.version="19.0.0",Oe}var xT;function ry(){return xT||(xT=1,Wp.exports=nI()),Wp.exports}var F=ry();const Xe=JR(F);var Kp={exports:{}},Uu={},Qp={exports:{}},$p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function iI(){return PT||(PT=1,function(t){function e(oe,we){var ge=oe.length;oe.push(we);e:for(;0<ge;){var et=ge-1>>>1,x=oe[et];if(0<a(x,we))oe[et]=we,oe[ge]=x,ge=et;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var we=oe[0],ge=oe.pop();if(ge!==we){oe[0]=ge;e:for(var et=0,x=oe.length,ne=x>>>1;et<ne;){var _e=2*(et+1)-1,ue=oe[_e],ce=_e+1,Me=oe[ce];if(0>a(ue,ge))ce<x&&0>a(Me,ue)?(oe[et]=Me,oe[ce]=ge,et=ce):(oe[et]=ue,oe[_e]=ge,et=_e);else if(ce<x&&0>a(Me,ge))oe[et]=Me,oe[ce]=ge,et=ce;else break e}}return we}function a(oe,we){var ge=oe.sortIndex-we.sortIndex;return ge!==0?ge:oe.id-we.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],g=[],T=1,E=null,A=3,C=!1,M=!1,z=!1,P=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function Y(oe){for(var we=n(g);we!==null;){if(we.callback===null)r(g);else if(we.startTime<=oe)r(g),we.sortIndex=we.expirationTime,e(p,we);else break;we=n(g)}}function ee(oe){if(z=!1,Y(oe),!M)if(n(p)!==null)M=!0,bt();else{var we=n(g);we!==null&&mt(ee,we.startTime-oe)}}var se=!1,me=-1,k=5,R=-1;function b(){return!(t.unstable_now()-R<k)}function D(){if(se){var oe=t.unstable_now();R=oe;var we=!0;try{e:{M=!1,z&&(z=!1,H(me),me=-1),C=!0;var ge=A;try{t:{for(Y(oe),E=n(p);E!==null&&!(E.expirationTime>oe&&b());){var et=E.callback;if(typeof et=="function"){E.callback=null,A=E.priorityLevel;var x=et(E.expirationTime<=oe);if(oe=t.unstable_now(),typeof x=="function"){E.callback=x,Y(oe),we=!0;break t}E===n(p)&&r(p),Y(oe)}else r(p);E=n(p)}if(E!==null)we=!0;else{var ne=n(g);ne!==null&&mt(ee,ne.startTime-oe),we=!1}}break e}finally{E=null,A=ge,C=!1}we=void 0}}finally{we?N():se=!1}}}var N;if(typeof W=="function")N=function(){W(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,O=L.port2;L.port1.onmessage=D,N=function(){O.postMessage(null)}}else N=function(){P(D,0)};function bt(){se||(se=!0,N())}function mt(oe,we){me=P(function(){oe(t.unstable_now())},we)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){M||C||(M=!0,bt())},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(oe){switch(A){case 1:case 2:case 3:var we=3;break;default:we=A}var ge=A;A=we;try{return oe()}finally{A=ge}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,we){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ge=A;A=oe;try{return we()}finally{A=ge}},t.unstable_scheduleCallback=function(oe,we,ge){var et=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?et+ge:et):ge=et,oe){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ge+x,oe={id:T++,callback:we,priorityLevel:oe,startTime:ge,expirationTime:x,sortIndex:-1},ge>et?(oe.sortIndex=ge,e(g,oe),n(p)===null&&oe===n(g)&&(z?(H(me),me=-1):z=!0,mt(ee,ge-et))):(oe.sortIndex=x,e(p,oe),M||C||(M=!0,bt())),oe},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(oe){var we=A;return function(){var ge=A;A=we;try{return oe.apply(this,arguments)}finally{A=ge}}}}($p)),$p}var VT;function rI(){return VT||(VT=1,Qp.exports=iI()),Qp.exports}var Xp={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function sI(){if(UT)return cn;UT=1;var t=ry();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,T){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:p,containerInfo:g,implementation:T}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,T)},cn.flushSync=function(p){var g=c.T,T=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=T,r.d.f()}},cn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},cn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},cn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,E=d(T,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:C}):T==="script"&&r.d.X(p,{crossOrigin:E,integrity:A,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},cn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},cn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,E=d(T,g.crossOrigin);r.d.L(p,T,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},cn.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},cn.requestFormReset=function(p){r.d.r(p)},cn.unstable_batchedUpdates=function(p,g){return p(g)},cn.useFormState=function(p,g,T){return c.H.useFormState(p,g,T)},cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},cn.version="19.0.0",cn}var LT;function aI(){if(LT)return Xp.exports;LT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xp.exports=sI(),Xp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT;function oI(){if(zT)return Uu;zT=1;var t=rI(),e=ry(),n=aI();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),ee=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function R(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case p:return"Fragment";case d:return"Portal";case T:return"Profiler";case g:return"StrictMode";case z:return"Suspense";case P:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case C:return(i.displayName||"Context")+".Provider";case A:return(i._context.displayName||"Context")+".Consumer";case M:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case H:return s=i.displayName||null,s!==null?s:R(i.type)||"Memo";case W:s=i._payload,i=i._init;try{return R(i(s))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,N,L;function O(i){if(N===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);N=s&&s[1]||"",L=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+i+L}var bt=!1;function mt(i,s){if(!i||bt)return"";bt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var G=Q}Reflect.construct(i,[],te)}else{try{te.call()}catch(Q){G=Q}i.call(te.prototype)}}else{try{throw Error()}catch(Q){G=Q}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),v=m[0],w=m[1];if(v&&w){var I=v.split(`
`),U=w.split(`
`);for(f=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(u===I.length||f===U.length)for(u=I.length-1,f=U.length-1;1<=u&&0<=f&&I[u]!==U[f];)f--;for(;1<=u&&0<=f;u--,f--)if(I[u]!==U[f]){if(u!==1||f!==1)do if(u--,f--,0>f||I[u]!==U[f]){var $=`
`+I[u].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=u&&0<=f);break}}}finally{bt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?O(o):""}function oe(i){switch(i.tag){case 26:case 27:case 5:return O(i.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return i=mt(i.type,!1),i;case 11:return i=mt(i.type.render,!1),i;case 1:return i=mt(i.type,!0),i;default:return""}}function we(i){try{var s="";do s+=oe(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ge(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function et(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function x(i){if(ge(i)!==i)throw Error(r(188))}function ne(i){var s=i.alternate;if(!s){if(s=ge(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return x(f),i;if(m===u)return x(f),s;m=m.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=m;else{for(var v=!1,w=f.child;w;){if(w===o){v=!0,o=f,u=m;break}if(w===u){v=!0,u=f,o=m;break}w=w.sibling}if(!v){for(w=m.child;w;){if(w===o){v=!0,o=m,u=f;break}if(w===u){v=!0,u=m,o=f;break}w=w.sibling}if(!v)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function _e(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=_e(i),s!==null)return s;i=i.sibling}return null}var ue=Array.isArray,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},De=[],Ot=-1;function We(i){return{current:i}}function Tt(i){0>Ot||(i.current=De[Ot],De[Ot]=null,Ot--)}function it(i,s){Ot++,De[Ot]=i.current,i.current=s}var yn=We(null),tr=We(null),Hn=We(null),$r=We(null);function Xr(i,s){switch(it(Hn,s),it(tr,i),it(yn,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?aT(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=aT(i),s=oT(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Tt(yn),it(yn,s)}function nr(){Tt(yn),Tt(tr),Tt(Hn)}function kl(i){i.memoizedState!==null&&it($r,i);var s=yn.current,o=oT(s,i.type);s!==o&&(it(tr,i),it(yn,o))}function so(i){tr.current===i&&(Tt(yn),Tt(tr)),$r.current===i&&(Tt($r),ku._currentValue=Me)}var ao=Object.prototype.hasOwnProperty,sa=t.unstable_scheduleCallback,oo=t.unstable_cancelCallback,Kd=t.unstable_shouldYield,Ml=t.unstable_requestPaint,An=t.unstable_now,Lc=t.unstable_getCurrentPriorityLevel,Ut=t.unstable_ImmediatePriority,Gt=t.unstable_UserBlockingPriority,ir=t.unstable_NormalPriority,zc=t.unstable_LowPriority,Nl=t.unstable_IdlePriority,Qd=t.log,aa=t.unstable_setDisableYieldValue,Zr=null,ln=null;function xl(i){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Zr,i,void 0,(i.current.flags&128)===128)}catch{}}function wi(i){if(typeof Qd=="function"&&aa(i),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Zr,i)}catch{}}var _n=Math.clz32?Math.clz32:jc,Pl=Math.log,Bc=Math.LN2;function jc(i){return i>>>=0,i===0?32:31-(Pl(i)/Bc|0)|0}var Si=128,Jr=4194304;function ui(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Fn(i,s){var o=i.pendingLanes;if(o===0)return 0;var u=0,f=i.suspendedLanes,m=i.pingedLanes,v=i.warmLanes;i=i.finishedLanes!==0;var w=o&134217727;return w!==0?(o=w&~f,o!==0?u=ui(o):(m&=w,m!==0?u=ui(m):i||(v=w&~v,v!==0&&(u=ui(v))))):(w=o&~f,w!==0?u=ui(w):m!==0?u=ui(m):i||(v=o&~v,v!==0&&(u=ui(v)))),u===0?0:s!==0&&s!==u&&(s&f)===0&&(f=u&-u,v=s&-s,f>=v||f===32&&(v&4194176)!==0)?s:u}function es(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function lo(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vl(){var i=Si;return Si<<=1,(Si&4194176)===0&&(Si=128),i}function ts(){var i=Jr;return Jr<<=1,(Jr&62914560)===0&&(Jr=4194304),i}function uo(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Rt(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Hc(i,s,o,u,f,m){var v=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,I=i.expirationTimes,U=i.hiddenUpdates;for(o=v&~o;0<o;){var $=31-_n(o),te=1<<$;w[$]=0,I[$]=-1;var G=U[$];if(G!==null)for(U[$]=null,$=0;$<G.length;$++){var Q=G[$];Q!==null&&(Q.lane&=-536870913)}o&=~te}u!==0&&ns(i,u,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(v&~s))}function ns(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-_n(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194218}function is(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-_n(o),f=1<<u;f&s|i[u]&s&&(i[u]|=s),o&=~f}}function Fc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function qc(){var i=ce.p;return i!==0?i:(i=window.event,i===void 0?32:bT(i.type))}function rs(i,s){var o=ce.p;try{return ce.p=i,s()}finally{ce.p=o}}var Ai=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Ai,Lt="__reactProps$"+Ai,rr="__reactContainer$"+Ai,oa="__reactEvents$"+Ai,co="__reactListeners$"+Ai,bi="__reactHandles$"+Ai,Ul="__reactResources$"+Ai,ss="__reactMarker$"+Ai;function la(i){delete i[Wt],delete i[Lt],delete i[oa],delete i[co],delete i[bi]}function ci(i){var s=i[Wt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[rr]||o[Wt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=cT(i);i!==null;){if(o=i[Wt])return o;i=cT(i)}return s}i=o,o=i.parentNode}return null}function sr(i){if(i=i[Wt]||i[rr]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function as(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function os(i){var s=i[Ul];return s||(s=i[Ul]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function pt(i){i[ss]=!0}var Ll=new Set,ho={};function On(i,s){bn(i,s),bn(i+"Capture",s)}function bn(i,s){for(ho[i]=s,i=0;i<s.length;i++)Ll.add(s[i])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$d=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zl={},Bl={};function Yc(i){return ao.call(Bl,i)?!0:ao.call(zl,i)?!1:$d.test(i)?Bl[i]=!0:(zl[i]=!0,!1)}function ls(i,s,o){if(Yc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function us(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function qn(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function vn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Gc(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xd(i){var s=Gc(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){u=""+v,m.call(this,v)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ua(i){i._valueTracker||(i._valueTracker=Xd(i))}function jl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Gc(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function fo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ar=/[\n"\\]/g;function Et(i){return i.replace(ar,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function cs(i,s,o,u,f,m,v,w){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),s!=null?v==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+vn(s)):i.value!==""+vn(s)&&(i.value=""+vn(s)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),s!=null?mo(i,v,vn(s)):o!=null?mo(i,v,vn(o)):u!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+vn(w):i.removeAttribute("name")}function ca(i,s,o,u,f,m,v,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+vn(o):"",s=s!=null?""+vn(s):o,w||s===i.value||(i.value=s),i.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v)}function mo(i,s,o){s==="number"&&fo(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ke(i,s,o,u){if(i=i.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=s.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+vn(o),s=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function ha(i,s,o){if(s!=null&&(s=""+vn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+vn(o):""}function hs(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ue(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=vn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Yn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Zd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hl(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Zd.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Wc(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Hl(i,f,u)}else for(var m in s)s.hasOwnProperty(m)&&Hl(i,m,s[m])}function Fl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),em=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(i){return em.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Gn=null;function po(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var or=null,lr=null;function ur(i){var s=sr(i);if(s&&(i=s.stateNode)){var o=i[Lt]||null;e:switch(i=s.stateNode,s.type){case"input":if(cs(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Et(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var f=u[Lt]||null;if(!f)throw Error(r(90));cs(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&jl(u)}break e;case"textarea":ha(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ke(i,!!o.multiple,s,!1)}}}var ql=!1;function Kc(i,s,o){if(ql)return i(s,o);ql=!0;try{var u=i(s);return u}finally{if(ql=!1,(or!==null||lr!==null)&&(zh(),or&&(s=or,i=lr,lr=or=null,ur(s),i)))for(s=0;s<i.length;s++)ur(i[s])}}function fa(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Lt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Wn=!1;if(kn)try{var da={};Object.defineProperty(da,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Wn=!1}var Ii=null,fs=null,cr=null;function Yl(){if(cr)return cr;var i,s=fs,o=s.length,u,f="value"in Ii?Ii.value:Ii.textContent,m=f.length;for(i=0;i<o&&s[i]===f[i];i++);var v=o-i;for(u=1;u<=v&&s[o-u]===f[m-u];u++);return cr=f.slice(i,1<u?1-u:void 0)}function Ci(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Di(){return!0}function Gl(){return!1}function Kt(i){function s(o,u,f,m,v){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Di:Gl,this.isPropagationStopped=Gl,this}return D(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),s}var tt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=Kt(tt),ma=D({},tt,{view:0,detail:0}),Qc=Kt(ma),yo,_o,Oi,pa=D({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Oi&&(Oi&&i.type==="mousemove"?(yo=i.screenX-Oi.screenX,_o=i.screenY-Oi.screenY):_o=yo=0,Oi=i),yo)},movementY:function(i){return"movementY"in i?i.movementY:_o}}),Kn=Kt(pa),$c=D({},pa,{dataTransfer:0}),tm=Kt($c),ga=D({},ma,{relatedTarget:0}),vo=Kt(ga),Wl=D({},tt,{animationName:0,elapsedTime:0,pseudoElement:0}),To=Kt(Wl),Xc=D({},tt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Eo=Kt(Xc),nm=D({},tt,{data:0}),Kl=Kt(nm),ya={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ql(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Jc[i])?!!s[i]:!1}function _a(){return Ql}var eh=D({},ma,{key:function(i){if(i.key){var s=ya[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ci(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(i){return i.type==="keypress"?Ci(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ci(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),wo=Kt(eh),th=D({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$l=Kt(th),hr=D({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),nh=Kt(hr),ih=D({},tt,{propertyName:0,elapsedTime:0,pseudoElement:0}),rh=Kt(ih),sh=D({},pa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),So=Kt(sh),Tn=D({},tt,{newState:0,oldState:0}),ah=Kt(Tn),oh=[9,13,27,32],ki=kn&&"CompositionEvent"in window,h=null;kn&&"documentMode"in document&&(h=document.documentMode);var y=kn&&"TextEvent"in window&&!h,_=kn&&(!ki||h&&8<h&&11>=h),S=" ",j=!1;function K(i,s){switch(i){case"keyup":return oh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var He=!1;function zt(i,s){switch(i){case"compositionend":return ae(s);case"keypress":return s.which!==32?null:(j=!0,S);case"textInput":return i=s.data,i===S&&j?null:i;default:return null}}function Fe(i,s){if(He)return i==="compositionend"||!ki&&K(i,s)?(i=Yl(),cr=fs=Ii=null,He=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Qt[i.type]:s==="textarea"}function fr(i,s,o,u){or?lr?lr.push(u):lr=[u]:or=u,s=qh(s,"onChange"),0<s.length&&(o=new go("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var en=null,Mi=null;function Xl(i){tT(i,0)}function lh(i){var s=as(i);if(jl(s))return i}function O_(i,s){if(i==="change")return s}var k_=!1;if(kn){var im;if(kn){var rm="oninput"in document;if(!rm){var M_=document.createElement("div");M_.setAttribute("oninput","return;"),rm=typeof M_.oninput=="function"}im=rm}else im=!1;k_=im&&(!document.documentMode||9<document.documentMode)}function N_(){en&&(en.detachEvent("onpropertychange",x_),Mi=en=null)}function x_(i){if(i.propertyName==="value"&&lh(Mi)){var s=[];fr(s,Mi,i,po(i)),Kc(Xl,s)}}function C1(i,s,o){i==="focusin"?(N_(),en=s,Mi=o,en.attachEvent("onpropertychange",x_)):i==="focusout"&&N_()}function D1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lh(Mi)}function O1(i,s){if(i==="click")return lh(s)}function k1(i,s){if(i==="input"||i==="change")return lh(s)}function M1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Mn=typeof Object.is=="function"?Object.is:M1;function Zl(i,s){if(Mn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!ao.call(s,f)||!Mn(i[f],s[f]))return!1}return!0}function P_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function V_(i,s){var o=P_(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=P_(o)}}function U_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?U_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function L_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=fo(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=fo(i.document)}return s}function sm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function N1(i,s){var o=L_(s);s=i.focusedElem;var u=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&U_(s.ownerDocument.documentElement,s)){if(u!==null&&sm(s)){if(i=u.start,o=u.end,o===void 0&&(o=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(o,s.value.length);else if(o=(i=s.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var f=s.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!o.extend&&m>u&&(f=u,u=m,m=f),f=V_(s,m);var v=V_(s,u);f&&v&&(o.rangeCount!==1||o.anchorNode!==f.node||o.anchorOffset!==f.offset||o.focusNode!==v.node||o.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),o.removeAllRanges(),m>u?(o.addRange(i),o.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),o.addRange(i)))}}for(i=[],o=s;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)o=i[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var x1=kn&&"documentMode"in document&&11>=document.documentMode,Ao=null,am=null,Jl=null,om=!1;function z_(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;om||Ao==null||Ao!==fo(u)||(u=Ao,"selectionStart"in u&&sm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Jl&&Zl(Jl,u)||(Jl=u,u=qh(am,"onSelect"),0<u.length&&(s=new go("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Ao)))}function va(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var bo={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},lm={},B_={};kn&&(B_=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Ta(i){if(lm[i])return lm[i];if(!bo[i])return i;var s=bo[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in B_)return lm[i]=s[o];return i}var j_=Ta("animationend"),H_=Ta("animationiteration"),F_=Ta("animationstart"),P1=Ta("transitionrun"),V1=Ta("transitionstart"),U1=Ta("transitioncancel"),q_=Ta("transitionend"),Y_=new Map,G_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function hi(i,s){Y_.set(i,s),On(s,[i])}var Qn=[],Ro=0,um=0;function uh(){for(var i=Ro,s=um=Ro=0;s<i;){var o=Qn[s];Qn[s++]=null;var u=Qn[s];Qn[s++]=null;var f=Qn[s];Qn[s++]=null;var m=Qn[s];if(Qn[s++]=null,u!==null&&f!==null){var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}m!==0&&W_(o,f,m)}}function ch(i,s,o,u){Qn[Ro++]=i,Qn[Ro++]=s,Qn[Ro++]=o,Qn[Ro++]=u,um|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function cm(i,s,o,u){return ch(i,s,o,u),hh(i)}function ds(i,s){return ch(i,null,null,s),hh(i)}function W_(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=i.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;f&&s!==null&&i.tag===3&&(m=i.stateNode,f=31-_n(o),m=m.hiddenUpdates,i=m[f],i===null?m[f]=[s]:i.push(s),s.lane=o|536870912)}function hh(i){if(50<Au)throw Au=0,gp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Io={},K_=new WeakMap;function $n(i,s){if(typeof i=="object"&&i!==null){var o=K_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:we(s)},K_.set(i,s),s)}return{value:i,source:s,stack:we(s)}}var Co=[],Do=0,fh=null,dh=0,Xn=[],Zn=0,Ea=null,dr=1,mr="";function wa(i,s){Co[Do++]=dh,Co[Do++]=fh,fh=i,dh=s}function Q_(i,s,o){Xn[Zn++]=dr,Xn[Zn++]=mr,Xn[Zn++]=Ea,Ea=i;var u=dr;i=mr;var f=32-_n(u)-1;u&=~(1<<f),o+=1;var m=32-_n(s)+f;if(30<m){var v=f-f%5;m=(u&(1<<v)-1).toString(32),u>>=v,f-=v,dr=1<<32-_n(s)+f|o<<f|u,mr=m+i}else dr=1<<m|o<<f|u,mr=i}function hm(i){i.return!==null&&(wa(i,1),Q_(i,1,0))}function fm(i){for(;i===fh;)fh=Co[--Do],Co[Do]=null,dh=Co[--Do],Co[Do]=null;for(;i===Ea;)Ea=Xn[--Zn],Xn[Zn]=null,mr=Xn[--Zn],Xn[Zn]=null,dr=Xn[--Zn],Xn[Zn]=null}var En=null,tn=null,Qe=!1,fi=null,Ni=!1,dm=Error(r(519));function Sa(i){var s=Error(r(418,""));throw nu($n(s,i)),dm}function $_(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Wt]=i,s[Lt]=u,o){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(o=0;o<Ru.length;o++)Be(Ru[o],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),ca(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ua(s);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),hs(s,u.value,u.defaultValue,u.children),ua(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||sT(s.textContent,o)?(u.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),u.onScroll!=null&&Be("scroll",s),u.onScrollEnd!=null&&Be("scrollend",s),u.onClick!=null&&(s.onclick=Yh),s=!0):s=!1,s||Sa(i)}function X_(i){for(En=i.return;En;)switch(En.tag){case 3:case 27:Ni=!0;return;case 5:case 13:Ni=!1;return;default:En=En.return}}function eu(i){if(i!==En)return!1;if(!Qe)return X_(i),Qe=!0,!1;var s=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Np(i.type,i.memoizedProps)),o=!o),o&&(s=!0),s&&tn&&Sa(i),X_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){tn=mi(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}tn=null}}else tn=En?mi(i.stateNode.nextSibling):null;return!0}function tu(){tn=En=null,Qe=!1}function nu(i){fi===null?fi=[i]:fi.push(i)}var iu=Error(r(460)),Z_=Error(r(474)),mm={then:function(){}};function J_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function mh(){}function ev(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(mh,mh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===iu?Error(r(483)):i;default:if(typeof s.status=="string")s.then(mh,mh);else{if(i=lt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===iu?Error(r(483)):i}throw ru=s,iu}}var ru=null;function tv(){if(ru===null)throw Error(r(459));var i=ru;return ru=null,i}var Oo=null,su=0;function ph(i){var s=su;return su+=1,Oo===null&&(Oo=[]),ev(Oo,i,s)}function au(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function gh(i,s){throw s.$$typeof===l?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function nv(i){var s=i._init;return s(i._payload)}function iv(i){function s(B,V){if(i){var q=B.deletions;q===null?(B.deletions=[V],B.flags|=16):q.push(V)}}function o(B,V){if(!i)return null;for(;V!==null;)s(B,V),V=V.sibling;return null}function u(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function f(B,V){return B=bs(B,V),B.index=0,B.sibling=null,B}function m(B,V,q){return B.index=q,i?(q=B.alternate,q!==null?(q=q.index,q<V?(B.flags|=33554434,V):q):(B.flags|=33554434,V)):(B.flags|=1048576,V)}function v(B){return i&&B.alternate===null&&(B.flags|=33554434),B}function w(B,V,q,X){return V===null||V.tag!==6?(V=lp(q,B.mode,X),V.return=B,V):(V=f(V,q),V.return=B,V)}function I(B,V,q,X){var pe=q.type;return pe===p?$(B,V,q.props.children,X,q.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===W&&nv(pe)===V.type)?(V=f(V,q.props),au(V,q),V.return=B,V):(V=xh(q.type,q.key,q.props,null,B.mode,X),au(V,q),V.return=B,V)}function U(B,V,q,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=up(q,B.mode,X),V.return=B,V):(V=f(V,q.children||[]),V.return=B,V)}function $(B,V,q,X,pe){return V===null||V.tag!==7?(V=Na(q,B.mode,X,pe),V.return=B,V):(V=f(V,q),V.return=B,V)}function te(B,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=lp(""+V,B.mode,q),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case c:return q=xh(V.type,V.key,V.props,null,B.mode,q),au(q,V),q.return=B,q;case d:return V=up(V,B.mode,q),V.return=B,V;case W:var X=V._init;return V=X(V._payload),te(B,V,q)}if(ue(V)||me(V))return V=Na(V,B.mode,q,null),V.return=B,V;if(typeof V.then=="function")return te(B,ph(V),q);if(V.$$typeof===C)return te(B,kh(B,V),q);gh(B,V)}return null}function G(B,V,q,X){var pe=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:w(B,V,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case c:return q.key===pe?I(B,V,q,X):null;case d:return q.key===pe?U(B,V,q,X):null;case W:return pe=q._init,q=pe(q._payload),G(B,V,q,X)}if(ue(q)||me(q))return pe!==null?null:$(B,V,q,X,null);if(typeof q.then=="function")return G(B,V,ph(q),X);if(q.$$typeof===C)return G(B,V,kh(B,q),X);gh(B,q)}return null}function Q(B,V,q,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return B=B.get(q)||null,w(V,B,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case c:return B=B.get(X.key===null?q:X.key)||null,I(V,B,X,pe);case d:return B=B.get(X.key===null?q:X.key)||null,U(V,B,X,pe);case W:var xe=X._init;return X=xe(X._payload),Q(B,V,q,X,pe)}if(ue(X)||me(X))return B=B.get(q)||null,$(V,B,X,pe,null);if(typeof X.then=="function")return Q(B,V,q,ph(X),pe);if(X.$$typeof===C)return Q(B,V,q,kh(V,X),pe);gh(V,X)}return null}function ye(B,V,q,X){for(var pe=null,xe=null,ve=V,Se=V=0,Zt=null;ve!==null&&Se<q.length;Se++){ve.index>Se?(Zt=ve,ve=null):Zt=ve.sibling;var $e=G(B,ve,q[Se],X);if($e===null){ve===null&&(ve=Zt);break}i&&ve&&$e.alternate===null&&s(B,ve),V=m($e,V,Se),xe===null?pe=$e:xe.sibling=$e,xe=$e,ve=Zt}if(Se===q.length)return o(B,ve),Qe&&wa(B,Se),pe;if(ve===null){for(;Se<q.length;Se++)ve=te(B,q[Se],X),ve!==null&&(V=m(ve,V,Se),xe===null?pe=ve:xe.sibling=ve,xe=ve);return Qe&&wa(B,Se),pe}for(ve=u(ve);Se<q.length;Se++)Zt=Q(ve,B,Se,q[Se],X),Zt!==null&&(i&&Zt.alternate!==null&&ve.delete(Zt.key===null?Se:Zt.key),V=m(Zt,V,Se),xe===null?pe=Zt:xe.sibling=Zt,xe=Zt);return i&&ve.forEach(function(Ms){return s(B,Ms)}),Qe&&wa(B,Se),pe}function Ie(B,V,q,X){if(q==null)throw Error(r(151));for(var pe=null,xe=null,ve=V,Se=V=0,Zt=null,$e=q.next();ve!==null&&!$e.done;Se++,$e=q.next()){ve.index>Se?(Zt=ve,ve=null):Zt=ve.sibling;var Ms=G(B,ve,$e.value,X);if(Ms===null){ve===null&&(ve=Zt);break}i&&ve&&Ms.alternate===null&&s(B,ve),V=m(Ms,V,Se),xe===null?pe=Ms:xe.sibling=Ms,xe=Ms,ve=Zt}if($e.done)return o(B,ve),Qe&&wa(B,Se),pe;if(ve===null){for(;!$e.done;Se++,$e=q.next())$e=te(B,$e.value,X),$e!==null&&(V=m($e,V,Se),xe===null?pe=$e:xe.sibling=$e,xe=$e);return Qe&&wa(B,Se),pe}for(ve=u(ve);!$e.done;Se++,$e=q.next())$e=Q(ve,B,Se,$e.value,X),$e!==null&&(i&&$e.alternate!==null&&ve.delete($e.key===null?Se:$e.key),V=m($e,V,Se),xe===null?pe=$e:xe.sibling=$e,xe=$e);return i&&ve.forEach(function(XR){return s(B,XR)}),Qe&&wa(B,Se),pe}function At(B,V,q,X){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case c:e:{for(var pe=q.key;V!==null;){if(V.key===pe){if(pe=q.type,pe===p){if(V.tag===7){o(B,V.sibling),X=f(V,q.props.children),X.return=B,B=X;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===W&&nv(pe)===V.type){o(B,V.sibling),X=f(V,q.props),au(X,q),X.return=B,B=X;break e}o(B,V);break}else s(B,V);V=V.sibling}q.type===p?(X=Na(q.props.children,B.mode,X,q.key),X.return=B,B=X):(X=xh(q.type,q.key,q.props,null,B.mode,X),au(X,q),X.return=B,B=X)}return v(B);case d:e:{for(pe=q.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){o(B,V.sibling),X=f(V,q.children||[]),X.return=B,B=X;break e}else{o(B,V);break}else s(B,V);V=V.sibling}X=up(q,B.mode,X),X.return=B,B=X}return v(B);case W:return pe=q._init,q=pe(q._payload),At(B,V,q,X)}if(ue(q))return ye(B,V,q,X);if(me(q)){if(pe=me(q),typeof pe!="function")throw Error(r(150));return q=pe.call(q),Ie(B,V,q,X)}if(typeof q.then=="function")return At(B,V,ph(q),X);if(q.$$typeof===C)return At(B,V,kh(B,q),X);gh(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(o(B,V.sibling),X=f(V,q),X.return=B,B=X):(o(B,V),X=lp(q,B.mode,X),X.return=B,B=X),v(B)):o(B,V)}return function(B,V,q,X){try{su=0;var pe=At(B,V,q,X);return Oo=null,pe}catch(ve){if(ve===iu)throw ve;var xe=ni(29,ve,null,B.mode);return xe.lanes=X,xe.return=B,xe}finally{}}}var Aa=iv(!0),rv=iv(!1),ko=We(null),yh=We(0);function sv(i,s){i=br,it(yh,i),it(ko,s),br=i|s.baseLanes}function pm(){it(yh,br),it(ko,ko.current)}function gm(){br=yh.current,Tt(ko),Tt(yh)}var Jn=We(null),xi=null;function ms(i){var s=i.alternate;it(jt,jt.current&1),it(Jn,i),xi===null&&(s===null||ko.current!==null||s.memoizedState!==null)&&(xi=i)}function av(i){if(i.tag===22){if(it(jt,jt.current),it(Jn,i),xi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(xi=i)}}else ps()}function ps(){it(jt,jt.current),it(Jn,Jn.current)}function pr(i){Tt(Jn),xi===i&&(xi=null),Tt(jt)}var jt=We(0);function _h(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var L1=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},z1=t.unstable_scheduleCallback,B1=t.unstable_NormalPriority,Ht={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ym(){return{controller:new L1,data:new Map,refCount:0}}function ou(i){i.refCount--,i.refCount===0&&z1(B1,function(){i.controller.abort()})}var lu=null,_m=0,Mo=0,No=null;function j1(i,s){if(lu===null){var o=lu=[];_m=0,Mo=Ap(),No={status:"pending",value:void 0,then:function(u){o.push(u)}}}return _m++,s.then(ov,ov),s}function ov(){if(--_m===0&&lu!==null){No!==null&&(No.status="fulfilled");var i=lu;lu=null,Mo=0,No=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function H1(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var lv=b.S;b.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&j1(i,s),lv!==null&&lv(i,s)};var ba=We(null);function vm(){var i=ba.current;return i!==null?i:lt.pooledCache}function vh(i,s){s===null?it(ba,ba.current):it(ba,s.pool)}function uv(){var i=vm();return i===null?null:{parent:Ht._currentValue,pool:i}}var gs=0,Ne=null,rt=null,kt=null,Th=!1,xo=!1,Ra=!1,Eh=0,uu=0,Po=null,F1=0;function It(){throw Error(r(321))}function Tm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Mn(i[o],s[o]))return!1;return!0}function Em(i,s,o,u,f,m){return gs=m,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,b.H=i===null||i.memoizedState===null?Ia:ys,Ra=!1,m=o(u,f),Ra=!1,xo&&(m=hv(s,o,u,f)),cv(i),m}function cv(i){b.H=Pi;var s=rt!==null&&rt.next!==null;if(gs=0,kt=rt=Ne=null,Th=!1,uu=0,Po=null,s)throw Error(r(300));i===null||$t||(i=i.dependencies,i!==null&&Oh(i)&&($t=!0))}function hv(i,s,o,u){Ne=i;var f=0;do{if(xo&&(Po=null),uu=0,xo=!1,25<=f)throw Error(r(301));if(f+=1,kt=rt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}b.H=Ca,m=s(o,u)}while(xo);return m}function q1(){var i=b.H,s=i.useState()[0];return s=typeof s.then=="function"?cu(s):s,i=i.useState()[0],(rt!==null?rt.memoizedState:null)!==i&&(Ne.flags|=1024),s}function wm(){var i=Eh!==0;return Eh=0,i}function Sm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Am(i){if(Th){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Th=!1}gs=0,kt=rt=Ne=null,xo=!1,uu=Eh=0,Po=null}function Rn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ne.memoizedState=kt=i:kt=kt.next=i,kt}function Mt(){if(rt===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=rt.next;var s=kt===null?Ne.memoizedState:kt.next;if(s!==null)kt=s,rt=i;else{if(i===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));rt=i,i={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},kt===null?Ne.memoizedState=kt=i:kt=kt.next=i}return kt}var wh;wh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cu(i){var s=uu;return uu+=1,Po===null&&(Po=[]),i=ev(Po,i,s),s=Ne,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,b.H=s===null||s.memoizedState===null?Ia:ys),i}function Sh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return cu(i);if(i.$$typeof===C)return un(i)}throw Error(r(438,String(i)))}function bm(i){var s=null,o=Ne.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=wh(),Ne.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=ee;return s.index++,o}function gr(i,s){return typeof s=="function"?s(i):s}function Ah(i){var s=Mt();return Rm(s,rt,i)}function Rm(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=i.baseQueue,m=u.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}s.baseQueue=f=m,u.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{s=f.next;var w=v=null,I=null,U=s,$=!1;do{var te=U.lane&-536870913;if(te!==U.lane?(qe&te)===te:(gs&te)===te){var G=U.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),te===Mo&&($=!0);else if((gs&G)===G){U=U.next,G===Mo&&($=!0);continue}else te={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(w=I=te,v=m):I=I.next=te,Ne.lanes|=G,Rs|=G;te=U.action,Ra&&o(m,te),m=U.hasEagerState?U.eagerState:o(m,te)}else G={lane:te,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(w=I=G,v=m):I=I.next=G,Ne.lanes|=te,Rs|=te;U=U.next}while(U!==null&&U!==s);if(I===null?v=m:I.next=w,!Mn(m,i.memoizedState)&&($t=!0,$&&(o=No,o!==null)))throw o;i.memoizedState=m,i.baseState=v,i.baseQueue=I,u.lastRenderedState=m}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Im(i){var s=Mt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var v=f=f.next;do m=i(m,v.action),v=v.next;while(v!==f);Mn(m,s.memoizedState)||($t=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function fv(i,s,o){var u=Ne,f=Mt(),m=Qe;if(m){if(o===void 0)throw Error(r(407));o=o()}else o=s();var v=!Mn((rt||f).memoizedState,o);if(v&&(f.memoizedState=o,$t=!0),f=f.queue,Om(pv.bind(null,u,f,i),[i]),f.getSnapshot!==s||v||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,Vo(9,mv.bind(null,u,f,o,s),{destroy:void 0},null),lt===null)throw Error(r(349));m||(gs&60)!==0||dv(u,s,o)}return o}function dv(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ne.updateQueue,s===null?(s=wh(),Ne.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function mv(i,s,o,u){s.value=o,s.getSnapshot=u,gv(s)&&yv(i)}function pv(i,s,o){return o(function(){gv(s)&&yv(i)})}function gv(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Mn(i,o)}catch{return!0}}function yv(i){var s=ds(i,2);s!==null&&wn(s,i,2)}function Cm(i){var s=Rn();if(typeof i=="function"){var o=i;if(i=o(),Ra){wi(!0);try{o()}finally{wi(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:i},s}function _v(i,s,o,u){return i.baseState=o,Rm(i,rt,typeof u=="function"?u:gr)}function Y1(i,s,o,u,f){if(Ih(i))throw Error(r(485));if(i=s.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};b.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,vv(s,m)):(m.next=o.next,s.pending=o.next=m)}}function vv(i,s){var o=s.action,u=s.payload,f=i.state;if(s.isTransition){var m=b.T,v={};b.T=v;try{var w=o(f,u),I=b.S;I!==null&&I(v,w),Tv(i,s,w)}catch(U){Dm(i,s,U)}finally{b.T=m}}else try{m=o(f,u),Tv(i,s,m)}catch(U){Dm(i,s,U)}}function Tv(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Ev(i,s,u)},function(u){return Dm(i,s,u)}):Ev(i,s,o)}function Ev(i,s,o){s.status="fulfilled",s.value=o,wv(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,vv(i,o)))}function Dm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,wv(s),s=s.next;while(s!==u)}i.action=null}function wv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Sv(i,s){return s}function Av(i,s){if(Qe){var o=lt.formState;if(o!==null){e:{var u=Ne;if(Qe){if(tn){t:{for(var f=tn,m=Ni;f.nodeType!==8;){if(!m){f=null;break t}if(f=mi(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){tn=mi(f.nextSibling),u=f.data==="F!";break e}}Sa(u)}u=!1}u&&(s=o[0])}}return o=Rn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sv,lastRenderedState:s},o.queue=u,o=Hv.bind(null,Ne,u),u.dispatch=o,u=Cm(!1),m=Pm.bind(null,Ne,!1,u.queue),u=Rn(),f={state:s,dispatch:null,action:i,pending:null},u.queue=f,o=Y1.bind(null,Ne,f,m,o),f.dispatch=o,u.memoizedState=i,[s,o,!1]}function bv(i){var s=Mt();return Rv(s,rt,i)}function Rv(i,s,o){s=Rm(i,s,Sv)[0],i=Ah(gr)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?cu(s):s;var u=Mt(),f=u.queue,m=f.dispatch;return o!==u.memoizedState&&(Ne.flags|=2048,Vo(9,G1.bind(null,f,o),{destroy:void 0},null)),[s,m,i]}function G1(i,s){i.action=s}function Iv(i){var s=Mt(),o=rt;if(o!==null)return Rv(s,o,i);Mt(),s=s.memoizedState,o=Mt();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function Vo(i,s,o,u){return i={tag:i,create:s,inst:o,deps:u,next:null},s=Ne.updateQueue,s===null&&(s=wh(),Ne.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function Cv(){return Mt().memoizedState}function bh(i,s,o,u){var f=Rn();Ne.flags|=i,f.memoizedState=Vo(1|s,o,{destroy:void 0},u===void 0?null:u)}function Rh(i,s,o,u){var f=Mt();u=u===void 0?null:u;var m=f.memoizedState.inst;rt!==null&&u!==null&&Tm(u,rt.memoizedState.deps)?f.memoizedState=Vo(s,o,m,u):(Ne.flags|=i,f.memoizedState=Vo(1|s,o,m,u))}function Dv(i,s){bh(8390656,8,i,s)}function Om(i,s){Rh(2048,8,i,s)}function Ov(i,s){return Rh(4,2,i,s)}function kv(i,s){return Rh(4,4,i,s)}function Mv(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Nv(i,s,o){o=o!=null?o.concat([i]):null,Rh(4,4,Mv.bind(null,s,i),o)}function km(){}function xv(i,s){var o=Mt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Tm(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function Pv(i,s){var o=Mt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Tm(s,u[1]))return u[0];if(u=i(),Ra){wi(!0);try{i()}finally{wi(!1)}}return o.memoizedState=[u,s],u}function Mm(i,s,o){return o===void 0||(gs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=U0(),Ne.lanes|=i,Rs|=i,o)}function Vv(i,s,o,u){return Mn(o,s)?o:ko.current!==null?(i=Mm(i,o,u),Mn(i,s)||($t=!0),i):(gs&42)===0?($t=!0,i.memoizedState=o):(i=U0(),Ne.lanes|=i,Rs|=i,s)}function Uv(i,s,o,u,f){var m=ce.p;ce.p=m!==0&&8>m?m:8;var v=b.T,w={};b.T=w,Pm(i,!1,s,o);try{var I=f(),U=b.S;if(U!==null&&U(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=H1(I,u);hu(i,s,$,Vn(i))}else hu(i,s,u,Vn(i))}catch(te){hu(i,s,{then:function(){},status:"rejected",reason:te},Vn())}finally{ce.p=m,b.T=v}}function W1(){}function Nm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var f=Lv(i).queue;Uv(i,f,s,Me,o===null?W1:function(){return zv(i),o(u)})}function Lv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:Me},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function zv(i){var s=Lv(i).next.queue;hu(i,s,{},Vn())}function xm(){return un(ku)}function Bv(){return Mt().memoizedState}function jv(){return Mt().memoizedState}function K1(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Vn();i=Ts(o);var u=Es(s,i,o);u!==null&&(wn(u,s,o),mu(u,s,o)),s={cache:ym()},i.payload=s;return}s=s.return}}function Q1(i,s,o){var u=Vn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ih(i)?Fv(s,o):(o=cm(i,s,o,u),o!==null&&(wn(o,i,u),qv(o,s,u)))}function Hv(i,s,o){var u=Vn();hu(i,s,o,u)}function hu(i,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ih(i))Fv(s,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,w=m(v,o);if(f.hasEagerState=!0,f.eagerState=w,Mn(w,v))return ch(i,s,f,0),lt===null&&uh(),!1}catch{}finally{}if(o=cm(i,s,f,u),o!==null)return wn(o,i,u),qv(o,s,u),!0}return!1}function Pm(i,s,o,u){if(u={lane:2,revertLane:Ap(),action:u,hasEagerState:!1,eagerState:null,next:null},Ih(i)){if(s)throw Error(r(479))}else s=cm(i,o,u,2),s!==null&&wn(s,i,2)}function Ih(i){var s=i.alternate;return i===Ne||s!==null&&s===Ne}function Fv(i,s){xo=Th=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function qv(i,s,o){if((o&4194176)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,is(i,o)}}var Pi={readContext:un,use:Sh,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It};Pi.useCacheRefresh=It,Pi.useMemoCache=It,Pi.useHostTransitionStatus=It,Pi.useFormState=It,Pi.useActionState=It,Pi.useOptimistic=It;var Ia={readContext:un,use:Sh,useCallback:function(i,s){return Rn().memoizedState=[i,s===void 0?null:s],i},useContext:un,useEffect:Dv,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,bh(4194308,4,Mv.bind(null,s,i),o)},useLayoutEffect:function(i,s){return bh(4194308,4,i,s)},useInsertionEffect:function(i,s){bh(4,2,i,s)},useMemo:function(i,s){var o=Rn();s=s===void 0?null:s;var u=i();if(Ra){wi(!0);try{i()}finally{wi(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=Rn();if(o!==void 0){var f=o(s);if(Ra){wi(!0);try{o(s)}finally{wi(!1)}}}else f=s;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=Q1.bind(null,Ne,i),[u.memoizedState,i]},useRef:function(i){var s=Rn();return i={current:i},s.memoizedState=i},useState:function(i){i=Cm(i);var s=i.queue,o=Hv.bind(null,Ne,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:km,useDeferredValue:function(i,s){var o=Rn();return Mm(o,i,s)},useTransition:function(){var i=Cm(!1);return i=Uv.bind(null,Ne,i.queue,!0,!1),Rn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ne,f=Rn();if(Qe){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),lt===null)throw Error(r(349));(qe&60)!==0||dv(u,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,Dv(pv.bind(null,u,m,i),[i]),u.flags|=2048,Vo(9,mv.bind(null,u,m,o,s),{destroy:void 0},null),o},useId:function(){var i=Rn(),s=lt.identifierPrefix;if(Qe){var o=mr,u=dr;o=(u&~(1<<32-_n(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Eh++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=F1++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return Rn().memoizedState=K1.bind(null,Ne)}};Ia.useMemoCache=bm,Ia.useHostTransitionStatus=xm,Ia.useFormState=Av,Ia.useActionState=Av,Ia.useOptimistic=function(i){var s=Rn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Pm.bind(null,Ne,!0,o),o.dispatch=s,[i,s]};var ys={readContext:un,use:Sh,useCallback:xv,useContext:un,useEffect:Om,useImperativeHandle:Nv,useInsertionEffect:Ov,useLayoutEffect:kv,useMemo:Pv,useReducer:Ah,useRef:Cv,useState:function(){return Ah(gr)},useDebugValue:km,useDeferredValue:function(i,s){var o=Mt();return Vv(o,rt.memoizedState,i,s)},useTransition:function(){var i=Ah(gr)[0],s=Mt().memoizedState;return[typeof i=="boolean"?i:cu(i),s]},useSyncExternalStore:fv,useId:Bv};ys.useCacheRefresh=jv,ys.useMemoCache=bm,ys.useHostTransitionStatus=xm,ys.useFormState=bv,ys.useActionState=bv,ys.useOptimistic=function(i,s){var o=Mt();return _v(o,rt,i,s)};var Ca={readContext:un,use:Sh,useCallback:xv,useContext:un,useEffect:Om,useImperativeHandle:Nv,useInsertionEffect:Ov,useLayoutEffect:kv,useMemo:Pv,useReducer:Im,useRef:Cv,useState:function(){return Im(gr)},useDebugValue:km,useDeferredValue:function(i,s){var o=Mt();return rt===null?Mm(o,i,s):Vv(o,rt.memoizedState,i,s)},useTransition:function(){var i=Im(gr)[0],s=Mt().memoizedState;return[typeof i=="boolean"?i:cu(i),s]},useSyncExternalStore:fv,useId:Bv};Ca.useCacheRefresh=jv,Ca.useMemoCache=bm,Ca.useHostTransitionStatus=xm,Ca.useFormState=Iv,Ca.useActionState=Iv,Ca.useOptimistic=function(i,s){var o=Mt();return rt!==null?_v(o,rt,i,s):(o.baseState=i,[i,o.queue.dispatch])};function Vm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:D({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Um={isMounted:function(i){return(i=i._reactInternals)?ge(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Vn(),f=Ts(u);f.payload=s,o!=null&&(f.callback=o),s=Es(i,f,u),s!==null&&(wn(s,i,u),mu(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Vn(),f=Ts(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Es(i,f,u),s!==null&&(wn(s,i,u),mu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Vn(),u=Ts(o);u.tag=2,s!=null&&(u.callback=s),s=Es(i,u,o),s!==null&&(wn(s,i,o),mu(s,i,o))}};function Yv(i,s,o,u,f,m,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,v):s.prototype&&s.prototype.isPureReactComponent?!Zl(o,u)||!Zl(f,m):!0}function Gv(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Um.enqueueReplaceState(s,s.state,null)}function Da(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=D({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var Ch=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Wv(i){Ch(i)}function Kv(i){console.error(i)}function Qv(i){Ch(i)}function Dh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function $v(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Lm(i,s,o){return o=Ts(o),o.tag=3,o.payload={element:null},o.callback=function(){Dh(i,s)},o}function Xv(i){return i=Ts(i),i.tag=3,i}function Zv(i,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;i.payload=function(){return f(m)},i.callback=function(){$v(s,o,u)}}var v=o.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){$v(s,o,u),typeof f!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function $1(i,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&du(s,o,f,!0),o=Jn.current,o!==null){switch(o.tag){case 13:return xi===null?vp():o.alternate===null&&St===0&&(St=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===mm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Ep(i,u,f)),!1;case 22:return o.flags|=65536,u===mm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Ep(i,u,f)),!1}throw Error(r(435,o.tag))}return Ep(i,u,f),vp(),!1}if(Qe)return s=Jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==dm&&(i=Error(r(422),{cause:u}),nu($n(i,o)))):(u!==dm&&(s=Error(r(423),{cause:u}),nu($n(s,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=$n(u,o),f=Lm(i.stateNode,u,f),Jm(i,f),St!==4&&(St=2)),!1;var m=Error(r(520),{cause:u});if(m=$n(m,o),wu===null?wu=[m]:wu.push(m),St!==4&&(St=2),s===null)return!0;u=$n(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Lm(o.stateNode,u,i),Jm(o,i),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Is===null||!Is.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Xv(f),Zv(f,i,o,u),Jm(o,f),!1}o=o.return}while(o!==null);return!1}var Jv=Error(r(461)),$t=!1;function nn(i,s,o,u){s.child=i===null?rv(s,null,o,u):Aa(s,i.child,o,u)}function e0(i,s,o,u,f){o=o.render;var m=s.ref;if("ref"in u){var v={};for(var w in u)w!=="ref"&&(v[w]=u[w])}else v=u;return ka(s),u=Em(i,s,o,v,m,f),w=wm(),i!==null&&!$t?(Sm(i,s,f),yr(i,s,f)):(Qe&&w&&hm(s),s.flags|=1,nn(i,s,u,f),s.child)}function t0(i,s,o,u,f){if(i===null){var m=o.type;return typeof m=="function"&&!op(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,n0(i,s,m,u,f)):(i=xh(o.type,null,u,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,!Wm(i,f)){var v=m.memoizedProps;if(o=o.compare,o=o!==null?o:Zl,o(v,u)&&i.ref===s.ref)return yr(i,s,f)}return s.flags|=1,i=bs(m,u),i.ref=s.ref,i.return=s,s.child=i}function n0(i,s,o,u,f){if(i!==null){var m=i.memoizedProps;if(Zl(m,u)&&i.ref===s.ref)if($t=!1,s.pendingProps=u=m,Wm(i,f))(i.flags&131072)!==0&&($t=!0);else return s.lanes=i.lanes,yr(i,s,f)}return zm(i,s,o,u,f)}function i0(i,s,o){var u=s.pendingProps,f=u.children,m=(s.stateNode._pendingVisibility&2)!==0,v=i!==null?i.memoizedState:null;if(fu(i,s),u.mode==="hidden"||m){if((s.flags&128)!==0){if(u=v!==null?v.baseLanes|o:o,i!==null){for(f=s.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return r0(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&vh(s,v!==null?v.cachePool:null),v!==null?sv(s,v):pm(),av(s);else return s.lanes=s.childLanes=536870912,r0(i,s,v!==null?v.baseLanes|o:o,o)}else v!==null?(vh(s,v.cachePool),sv(s,v),ps(),s.memoizedState=null):(i!==null&&vh(s,null),pm(),ps());return nn(i,s,f,o),s.child}function r0(i,s,o,u){var f=vm();return f=f===null?null:{parent:Ht._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},i!==null&&vh(s,null),pm(),av(s),i!==null&&du(i,s,u,!0),null}function fu(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=2097664)}}function zm(i,s,o,u,f){return ka(s),o=Em(i,s,o,u,void 0,f),u=wm(),i!==null&&!$t?(Sm(i,s,f),yr(i,s,f)):(Qe&&u&&hm(s),s.flags|=1,nn(i,s,o,f),s.child)}function s0(i,s,o,u,f,m){return ka(s),s.updateQueue=null,o=hv(s,u,o,f),cv(i),u=wm(),i!==null&&!$t?(Sm(i,s,m),yr(i,s,m)):(Qe&&u&&hm(s),s.flags|=1,nn(i,s,o,m),s.child)}function a0(i,s,o,u,f){if(ka(s),s.stateNode===null){var m=Io,v=o.contextType;typeof v=="object"&&v!==null&&(m=un(v)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Um,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},Xm(s),v=o.contextType,m.context=typeof v=="object"&&v!==null?un(v):Io,m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Vm(s,o,v,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&Um.enqueueReplaceState(m,m.state,null),gu(s,u,m,f),pu(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){m=s.stateNode;var w=s.memoizedProps,I=Da(o,w);m.props=I;var U=m.context,$=o.contextType;v=Io,typeof $=="object"&&$!==null&&(v=un($));var te=o.getDerivedStateFromProps;$=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||U!==v)&&Gv(s,m,u,v),vs=!1;var G=s.memoizedState;m.state=G,gu(s,u,m,f),pu(),U=s.memoizedState,w||G!==U||vs?(typeof te=="function"&&(Vm(s,o,te,u),U=s.memoizedState),(I=vs||Yv(s,o,I,u,G,U,v))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=U),m.props=u,m.state=U,m.context=v,u=I):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,Zm(i,s),v=s.memoizedProps,$=Da(o,v),m.props=$,te=s.pendingProps,G=m.context,U=o.contextType,I=Io,typeof U=="object"&&U!==null&&(I=un(U)),w=o.getDerivedStateFromProps,(U=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==te||G!==I)&&Gv(s,m,u,I),vs=!1,G=s.memoizedState,m.state=G,gu(s,u,m,f),pu();var Q=s.memoizedState;v!==te||G!==Q||vs||i!==null&&i.dependencies!==null&&Oh(i.dependencies)?(typeof w=="function"&&(Vm(s,o,w,u),Q=s.memoizedState),($=vs||Yv(s,o,$,u,G,Q,I)||i!==null&&i.dependencies!==null&&Oh(i.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Q,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Q,I)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),m.props=u,m.state=Q,m.context=I,u=$):(typeof m.componentDidUpdate!="function"||v===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),u=!1)}return m=u,fu(i,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,i!==null&&u?(s.child=Aa(s,i.child,null,f),s.child=Aa(s,null,o,f)):nn(i,s,o,f),s.memoizedState=m.state,i=s.child):i=yr(i,s,f),i}function o0(i,s,o,u){return tu(),s.flags|=256,nn(i,s,o,u),s.child}var Bm={dehydrated:null,treeContext:null,retryLane:0};function jm(i){return{baseLanes:i,cachePool:uv()}}function Hm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=ii),i}function l0(i,s,o){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,v;if((v=m)||(v=i!==null&&i.memoizedState===null?!1:(jt.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,i===null){if(Qe){if(f?ms(s):ps(),Qe){var w=tn,I;if(I=w){e:{for(I=w,w=Ni;I.nodeType!==8;){if(!w){w=null;break e}if(I=mi(I.nextSibling),I===null){w=null;break e}}w=I}w!==null?(s.memoizedState={dehydrated:w,treeContext:Ea!==null?{id:dr,overflow:mr}:null,retryLane:536870912},I=ni(18,null,null,0),I.stateNode=w,I.return=s,s.child=I,En=s,tn=null,I=!0):I=!1}I||Sa(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?s.lanes=16:s.lanes=536870912,null;pr(s)}return w=u.children,u=u.fallback,f?(ps(),f=s.mode,w=qm({mode:"hidden",children:w},f),u=Na(u,f,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,f=s.child,f.memoizedState=jm(o),f.childLanes=Hm(i,v,o),s.memoizedState=Bm,u):(ms(s),Fm(s,w))}if(I=i.memoizedState,I!==null&&(w=I.dehydrated,w!==null)){if(m)s.flags&256?(ms(s),s.flags&=-257,s=Ym(i,s,o)):s.memoizedState!==null?(ps(),s.child=i.child,s.flags|=128,s=null):(ps(),f=u.fallback,w=s.mode,u=qm({mode:"visible",children:u.children},w),f=Na(f,w,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,Aa(s,i.child,null,o),u=s.child,u.memoizedState=jm(o),u.childLanes=Hm(i,v,o),s.memoizedState=Bm,s=f);else if(ms(s),w.data==="$!"){if(v=w.nextSibling&&w.nextSibling.dataset,v)var U=v.dgst;v=U,u=Error(r(419)),u.stack="",u.digest=v,nu({value:u,source:null,stack:null}),s=Ym(i,s,o)}else if($t||du(i,s,o,!1),v=(o&i.childLanes)!==0,$t||v){if(v=lt,v!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(v.suspendedLanes|o))!==0?0:u,u!==0&&u!==I.retryLane)throw I.retryLane=u,ds(i,u),wn(v,i,u),Jv}w.data==="$?"||vp(),s=Ym(i,s,o)}else w.data==="$?"?(s.flags|=128,s.child=i.child,s=hR.bind(null,i),w._reactRetry=s,s=null):(i=I.treeContext,tn=mi(w.nextSibling),En=s,Qe=!0,fi=null,Ni=!1,i!==null&&(Xn[Zn++]=dr,Xn[Zn++]=mr,Xn[Zn++]=Ea,dr=i.id,mr=i.overflow,Ea=s),s=Fm(s,u.children),s.flags|=4096);return s}return f?(ps(),f=u.fallback,w=s.mode,I=i.child,U=I.sibling,u=bs(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&31457280,U!==null?f=bs(U,f):(f=Na(f,w,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,w=i.child.memoizedState,w===null?w=jm(o):(I=w.cachePool,I!==null?(U=Ht._currentValue,I=I.parent!==U?{parent:U,pool:U}:I):I=uv(),w={baseLanes:w.baseLanes|o,cachePool:I}),f.memoizedState=w,f.childLanes=Hm(i,v,o),s.memoizedState=Bm,u):(ms(s),o=i.child,i=o.sibling,o=bs(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(v=s.deletions,v===null?(s.deletions=[i],s.flags|=16):v.push(i)),s.child=o,s.memoizedState=null,o)}function Fm(i,s){return s=qm({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function qm(i,s){return x0(i,s,0,null)}function Ym(i,s,o){return Aa(s,i.child,null,o),i=Fm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function u0(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Qm(i.return,s,o)}function Gm(i,s,o,u,f){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function c0(i,s,o){var u=s.pendingProps,f=u.revealOrder,m=u.tail;if(nn(i,s,u.children,o),u=jt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&u0(i,o,s);else if(i.tag===19)u0(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(it(jt,u),f){case"forwards":for(o=s.child,f=null;o!==null;)i=o.alternate,i!==null&&_h(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Gm(s,!1,f,o,m);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&_h(i)===null){s.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Gm(s,!0,o,null,m);break;case"together":Gm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function yr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Rs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(du(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=bs(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=bs(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Wm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Oh(i)))}function X1(i,s,o){switch(s.tag){case 3:Xr(s,s.stateNode.containerInfo),_s(s,Ht,i.memoizedState.cache),tu();break;case 27:case 5:kl(s);break;case 4:Xr(s,s.stateNode.containerInfo);break;case 10:_s(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ms(s),s.flags|=128,null):(o&s.child.childLanes)!==0?l0(i,s,o):(ms(s),i=yr(i,s,o),i!==null?i.sibling:null);ms(s);break;case 19:var f=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(du(i,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return c0(i,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(jt,jt.current),u)break;return null;case 22:case 23:return s.lanes=0,i0(i,s,o);case 24:_s(s,Ht,i.memoizedState.cache)}return yr(i,s,o)}function h0(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)$t=!0;else{if(!Wm(i,o)&&(s.flags&128)===0)return $t=!1,X1(i,s,o);$t=(i.flags&131072)!==0}else $t=!1,Qe&&(s.flags&1048576)!==0&&Q_(s,dh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")op(u)?(i=Da(u,i),s.tag=1,s=a0(null,s,u,i,o)):(s.tag=0,s=zm(null,s,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===M){s.tag=11,s=e0(null,s,u,i,o);break e}else if(f===H){s.tag=14,s=t0(null,s,u,i,o);break e}}throw s=R(u)||u,Error(r(306,s,""))}}return s;case 0:return zm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=Da(u,s.pendingProps),a0(i,s,u,f,o);case 3:e:{if(Xr(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var m=s.pendingProps;f=s.memoizedState,u=f.element,Zm(i,s),gu(s,m,null,o);var v=s.memoizedState;if(m=v.cache,_s(s,Ht,m),m!==f.cache&&$m(s,[Ht],o,!0),pu(),m=v.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=o0(i,s,m,o);break e}else if(m!==u){u=$n(Error(r(424)),s),nu(u),s=o0(i,s,m,o);break e}else for(tn=mi(s.stateNode.containerInfo.firstChild),En=s,Qe=!0,fi=null,Ni=!0,o=rv(s,null,m,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(tu(),m===u){s=yr(i,s,o);break e}nn(i,s,m,o)}s=s.child}return s;case 26:return fu(i,s),i===null?(o=mT(s.type,null,s.pendingProps,null))?s.memoizedState=o:Qe||(o=s.type,i=s.pendingProps,u=Gh(Hn.current).createElement(o),u[Wt]=s,u[Lt]=i,rn(u,o,i),pt(u),s.stateNode=u):s.memoizedState=mT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return kl(s),i===null&&Qe&&(u=s.stateNode=hT(s.type,s.pendingProps,Hn.current),En=s,Ni=!0,tn=mi(u.firstChild)),u=s.pendingProps.children,i!==null||Qe?nn(i,s,u,o):s.child=Aa(s,null,u,o),fu(i,s),s.child;case 5:return i===null&&Qe&&((f=u=tn)&&(u=IR(u,s.type,s.pendingProps,Ni),u!==null?(s.stateNode=u,En=s,tn=mi(u.firstChild),Ni=!1,f=!0):f=!1),f||Sa(s)),kl(s),f=s.type,m=s.pendingProps,v=i!==null?i.memoizedProps:null,u=m.children,Np(f,m)?u=null:v!==null&&Np(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=Em(i,s,q1,null,null,o),ku._currentValue=f),fu(i,s),nn(i,s,u,o),s.child;case 6:return i===null&&Qe&&((i=o=tn)&&(o=CR(o,s.pendingProps,Ni),o!==null?(s.stateNode=o,En=s,tn=null,i=!0):i=!1),i||Sa(s)),null;case 13:return l0(i,s,o);case 4:return Xr(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=Aa(s,null,u,o):nn(i,s,u,o),s.child;case 11:return e0(i,s,s.type,s.pendingProps,o);case 7:return nn(i,s,s.pendingProps,o),s.child;case 8:return nn(i,s,s.pendingProps.children,o),s.child;case 12:return nn(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,_s(s,s.type,u.value),nn(i,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ka(s),f=un(f),u=u(f),s.flags|=1,nn(i,s,u,o),s.child;case 14:return t0(i,s,s.type,s.pendingProps,o);case 15:return n0(i,s,s.type,s.pendingProps,o);case 19:return c0(i,s,o);case 22:return i0(i,s,o);case 24:return ka(s),u=un(Ht),i===null?(f=vm(),f===null&&(f=lt,m=ym(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),s.memoizedState={parent:u,cache:f},Xm(s),_s(s,Ht,f)):((i.lanes&o)!==0&&(Zm(i,s),gu(s,null,null,o),pu()),f=i.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),_s(s,Ht,u)):(u=m.cache,_s(s,Ht,u),u!==f.cache&&$m(s,[Ht],o,!0))),nn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var Km=We(null),Oa=null,_r=null;function _s(i,s,o){it(Km,s._currentValue),s._currentValue=o}function vr(i){i._currentValue=Km.current,Tt(Km)}function Qm(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function $m(i,s,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var I=0;I<s.length;I++)if(w.context===s[I]){m.lanes|=o,w=m.alternate,w!==null&&(w.lanes|=o),Qm(m.return,o,i),u||(v=null);break e}m=w.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=o,m=v.alternate,m!==null&&(m.lanes|=o),Qm(v,o,i),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===i){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function du(i,s,o,u){i=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var w=f.type;Mn(f.pendingProps.value,v.value)||(i!==null?i.push(w):i=[w])}}else if(f===$r.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(ku):i=[ku])}f=f.return}i!==null&&$m(s,i,o,u),s.flags|=262144}function Oh(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ka(i){Oa=i,_r=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function un(i){return f0(Oa,i)}function kh(i,s){return Oa===null&&ka(i),f0(i,s)}function f0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},_r===null){if(i===null)throw Error(r(308));_r=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else _r=_r.next=s;return o}var vs=!1;function Xm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ts(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Es(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(yt&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=hh(i),W_(i,null,o),s}return ch(i,u,s,o),hh(i)}function mu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,is(i,o)}}function Jm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var v={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var ep=!1;function pu(){if(ep){var i=No;if(i!==null)throw i}}function gu(i,s,o,u){ep=!1;var f=i.updateQueue;vs=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var I=w,U=I.next;I.next=null,v===null?m=U:v.next=U,v=I;var $=i.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==v&&(w===null?$.firstBaseUpdate=U:w.next=U,$.lastBaseUpdate=I))}if(m!==null){var te=f.baseState;v=0,$=U=I=null,w=m;do{var G=w.lane&-536870913,Q=G!==w.lane;if(Q?(qe&G)===G:(u&G)===G){G!==0&&G===Mo&&(ep=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ye=i,Ie=w;G=s;var At=o;switch(Ie.tag){case 1:if(ye=Ie.payload,typeof ye=="function"){te=ye.call(At,te,G);break e}te=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ie.payload,G=typeof ye=="function"?ye.call(At,te,G):ye,G==null)break e;te=D({},te,G);break e;case 2:vs=!0}}G=w.callback,G!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(U=$=Q,I=te):$=$.next=Q,v|=G;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);$===null&&(I=te),f.baseState=I,f.firstBaseUpdate=U,f.lastBaseUpdate=$,m===null&&(f.shared.lanes=0),Rs|=v,i.lanes=v,i.memoizedState=te}}function d0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function m0(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)d0(o[i],s)}function yu(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var m=o.create,v=o.inst;u=m(),v.destroy=u}o=o.next}while(o!==f)}}catch(w){ot(s,s.return,w)}}function ws(i,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){var v=u.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,f=s;var I=o;try{w()}catch(U){ot(f,I,U)}}}u=u.next}while(u!==m)}}catch(U){ot(s,s.return,U)}}function p0(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{m0(s,o)}catch(u){ot(i,i.return,u)}}}function g0(i,s,o){o.props=Da(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ot(i,s,u)}}function Ma(i,s){try{var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof o=="function"?i.refCleanup=o(f):o.current=f}}catch(m){ot(i,s,m)}}function Nn(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ot(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ot(i,s,f)}else o.current=null}function y0(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ot(i,i.return,f)}}function _0(i,s,o){try{var u=i.stateNode;wR(u,i.type,o,s),u[Lt]=s}catch(f){ot(i,i.return,f)}}function v0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function tp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||v0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function np(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Yh));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(np(i,s,o),i=i.sibling;i!==null;)np(i,s,o),i=i.sibling}function Mh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Mh(i,s,o),i=i.sibling;i!==null;)Mh(i,s,o),i=i.sibling}var Tr=!1,wt=!1,ip=!1,T0=typeof WeakSet=="function"?WeakSet:Set,Xt=null,E0=!1;function Z1(i,s){if(i=i.containerInfo,kp=Zh,i=L_(i),sm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var v=0,w=-1,I=-1,U=0,$=0,te=i,G=null;t:for(;;){for(var Q;te!==o||f!==0&&te.nodeType!==3||(w=v+f),te!==m||u!==0&&te.nodeType!==3||(I=v+u),te.nodeType===3&&(v+=te.nodeValue.length),(Q=te.firstChild)!==null;)G=te,te=Q;for(;;){if(te===i)break t;if(G===o&&++U===f&&(w=v),G===m&&++$===u&&(I=v),(Q=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Q}o=w===-1||I===-1?null:{start:w,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(Mp={focusedElem:i,selectionRange:o},Zh=!1,Xt=s;Xt!==null;)if(s=Xt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Xt=i;else for(;Xt!==null;){switch(s=Xt,m=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=s,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var ye=Da(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(ye,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ie){ot(o,o.return,Ie)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Vp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Vp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Xt=i;break}Xt=s.return}return ye=E0,E0=!1,ye}function w0(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:wr(i,o),u&4&&yu(5,o);break;case 1:if(wr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(w){ot(o,o.return,w)}else{var f=Da(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){ot(o,o.return,w)}}u&64&&p0(o),u&512&&Ma(o,o.return);break;case 3:if(wr(i,o),u&64&&(u=o.updateQueue,u!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{m0(u,i)}catch(w){ot(o,o.return,w)}}break;case 26:wr(i,o),u&512&&Ma(o,o.return);break;case 27:case 5:wr(i,o),s===null&&u&4&&y0(o),u&512&&Ma(o,o.return);break;case 12:wr(i,o);break;case 13:wr(i,o),u&4&&b0(i,o);break;case 22:if(f=o.memoizedState!==null||Tr,!f){s=s!==null&&s.memoizedState!==null||wt;var m=Tr,v=wt;Tr=f,(wt=s)&&!v?Ss(i,o,(o.subtreeFlags&8772)!==0):wr(i,o),Tr=m,wt=v}u&512&&(o.memoizedProps.mode==="manual"?Ma(o,o.return):Nn(o,o.return));break;default:wr(i,o)}}function S0(i){var s=i.alternate;s!==null&&(i.alternate=null,S0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&la(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Nt=null,xn=!1;function Er(i,s,o){for(o=o.child;o!==null;)A0(i,s,o),o=o.sibling}function A0(i,s,o){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Zr,o)}catch{}switch(o.tag){case 26:wt||Nn(o,s),Er(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:wt||Nn(o,s);var u=Nt,f=xn;for(Nt=o.stateNode,Er(i,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);la(o),Nt=u,xn=f;break;case 5:wt||Nn(o,s);case 6:f=Nt;var m=xn;if(Nt=null,Er(i,s,o),Nt=f,xn=m,Nt!==null)if(xn)try{i=Nt,u=o.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(v){ot(o,s,v)}else try{Nt.removeChild(o.stateNode)}catch(v){ot(o,s,v)}break;case 18:Nt!==null&&(xn?(s=Nt,o=o.stateNode,s.nodeType===8?Pp(s.parentNode,o):s.nodeType===1&&Pp(s,o),Pu(s)):Pp(Nt,o.stateNode));break;case 4:u=Nt,f=xn,Nt=o.stateNode.containerInfo,xn=!0,Er(i,s,o),Nt=u,xn=f;break;case 0:case 11:case 14:case 15:wt||ws(2,o,s),wt||ws(4,o,s),Er(i,s,o);break;case 1:wt||(Nn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&g0(o,s,u)),Er(i,s,o);break;case 21:Er(i,s,o);break;case 22:wt||Nn(o,s),wt=(u=wt)||o.memoizedState!==null,Er(i,s,o),wt=u;break;default:Er(i,s,o)}}function b0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Pu(i)}catch(o){ot(s,s.return,o)}}function J1(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new T0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new T0),s;default:throw Error(r(435,i.tag))}}function rp(i,s){var o=J1(i);s.forEach(function(u){var f=fR.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function ei(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=i,v=s,w=v;e:for(;w!==null;){switch(w.tag){case 27:case 5:Nt=w.stateNode,xn=!1;break e;case 3:Nt=w.stateNode.containerInfo,xn=!0;break e;case 4:Nt=w.stateNode.containerInfo,xn=!0;break e}w=w.return}if(Nt===null)throw Error(r(160));A0(m,v,f),Nt=null,xn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)R0(s,i),s=s.sibling}var di=null;function R0(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ei(s,i),ti(i),u&4&&(ws(3,i,i.return),yu(3,i),ws(5,i,i.return));break;case 1:ei(s,i),ti(i),u&512&&(wt||o===null||Nn(o,o.return)),u&64&&Tr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=di;if(ei(s,i),ti(i),u&512&&(wt||o===null||Nn(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ss]||m[Wt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),rn(m,u,o),m[Wt]=i,pt(m),u=m;break e;case"link":var v=yT("link","href",f).get(u+(o.href||""));if(v){for(var w=0;w<v.length;w++)if(m=v[w],m.getAttribute("href")===(o.href==null?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){v.splice(w,1);break t}}m=f.createElement(u),rn(m,u,o),f.head.appendChild(m);break;case"meta":if(v=yT("meta","content",f).get(u+(o.content||""))){for(w=0;w<v.length;w++)if(m=v[w],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){v.splice(w,1);break t}}m=f.createElement(u),rn(m,u,o),f.head.appendChild(m);break;default:throw Error(r(468,u))}m[Wt]=i,pt(m),u=m}i.stateNode=u}else _T(f,i.type,i.stateNode);else i.stateNode=gT(f,u,i.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?_T(f,i.type,i.stateNode):gT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&_0(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){f=i.stateNode,m=i.memoizedProps;try{for(var I=f.firstChild;I;){var U=I.nextSibling,$=I.nodeName;I[ss]||$==="HEAD"||$==="BODY"||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&I.rel.toLowerCase()==="stylesheet"||f.removeChild(I),I=U}for(var te=i.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);rn(f,te,m),f[Wt]=i,f[Lt]=m}catch(ye){ot(i,i.return,ye)}}case 5:if(ei(s,i),ti(i),u&512&&(wt||o===null||Nn(o,o.return)),i.flags&32){f=i.stateNode;try{Yn(f,"")}catch(ye){ot(i,i.return,ye)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,_0(i,f,o!==null?o.memoizedProps:f)),u&1024&&(ip=!0);break;case 6:if(ei(s,i),ti(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ye){ot(i,i.return,ye)}}break;case 3:if(Qh=null,f=di,di=Wh(s.containerInfo),ei(s,i),di=f,ti(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Pu(s.containerInfo)}catch(ye){ot(i,i.return,ye)}ip&&(ip=!1,I0(i));break;case 4:u=di,di=Wh(i.stateNode.containerInfo),ei(s,i),ti(i),di=u;break;case 12:ei(s,i),ti(i);break;case 13:ei(s,i),ti(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(dp=An()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,rp(i,u)));break;case 22:if(u&512&&(wt||o===null||Nn(o,o.return)),I=i.memoizedState!==null,U=o!==null&&o.memoizedState!==null,$=Tr,te=wt,Tr=$||I,wt=te||U,ei(s,i),wt=te,Tr=$,ti(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=I?s._visibility&-2:s._visibility|1,I&&(s=Tr||wt,o===null||U||s||Uo(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(o=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){U=o=s;try{if(f=U.stateNode,I)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=U.stateNode,w=U.memoizedProps.style;var Q=w!=null&&w.hasOwnProperty("display")?w.display:null;v.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ye){ot(U,U.return,ye)}}}else if(s.tag===6){if(o===null){U=s;try{U.stateNode.nodeValue=I?"":U.memoizedProps}catch(ye){ot(U,U.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,rp(i,o))));break;case 19:ei(s,i),ti(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,rp(i,u)));break;case 21:break;default:ei(s,i),ti(i)}}function ti(i){var s=i.flags;if(s&2){try{if(i.tag!==27){e:{for(var o=i.return;o!==null;){if(v0(o)){var u=o;break e}o=o.return}throw Error(r(160))}switch(u.tag){case 27:var f=u.stateNode,m=tp(i);Mh(i,m,f);break;case 5:var v=u.stateNode;u.flags&32&&(Yn(v,""),u.flags&=-33);var w=tp(i);Mh(i,w,v);break;case 3:case 4:var I=u.stateNode.containerInfo,U=tp(i);np(i,U,I);break;default:throw Error(r(161))}}}catch($){ot(i,i.return,$)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function I0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;I0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function wr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)w0(i,s.alternate,s),s=s.sibling}function Uo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ws(4,s,s.return),Uo(s);break;case 1:Nn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&g0(s,s.return,o),Uo(s);break;case 26:case 27:case 5:Nn(s,s.return),Uo(s);break;case 22:Nn(s,s.return),s.memoizedState===null&&Uo(s);break;default:Uo(s)}i=i.sibling}}function Ss(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=i,m=s,v=m.flags;switch(m.tag){case 0:case 11:case 15:Ss(f,m,o),yu(4,m);break;case 1:if(Ss(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){ot(u,u.return,U)}if(u=m,f=u.updateQueue,f!==null){var w=u.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)d0(I[f],w)}catch(U){ot(u,u.return,U)}}o&&v&64&&p0(m),Ma(m,m.return);break;case 26:case 27:case 5:Ss(f,m,o),o&&u===null&&v&4&&y0(m),Ma(m,m.return);break;case 12:Ss(f,m,o);break;case 13:Ss(f,m,o),o&&v&4&&b0(f,m);break;case 22:m.memoizedState===null&&Ss(f,m,o),Ma(m,m.return);break;default:Ss(f,m,o)}s=s.sibling}}function sp(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&ou(o))}function ap(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ou(i))}function As(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)C0(i,s,o,u),s=s.sibling}function C0(i,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:As(i,s,o,u),f&2048&&yu(9,s);break;case 3:As(i,s,o,u),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ou(i)));break;case 12:if(f&2048){As(i,s,o,u),i=s.stateNode;try{var m=s.memoizedProps,v=m.id,w=m.onPostCommit;typeof w=="function"&&w(v,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){ot(s,s.return,I)}}else As(i,s,o,u);break;case 23:break;case 22:m=s.stateNode,s.memoizedState!==null?m._visibility&4?As(i,s,o,u):_u(i,s):m._visibility&4?As(i,s,o,u):(m._visibility|=4,Lo(i,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&sp(s.alternate,s);break;case 24:As(i,s,o,u),f&2048&&ap(s.alternate,s);break;default:As(i,s,o,u)}}function Lo(i,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=i,v=s,w=o,I=u,U=v.flags;switch(v.tag){case 0:case 11:case 15:Lo(m,v,w,I,f),yu(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&4?Lo(m,v,w,I,f):_u(m,v):($._visibility|=4,Lo(m,v,w,I,f)),f&&U&2048&&sp(v.alternate,v);break;case 24:Lo(m,v,w,I,f),f&&U&2048&&ap(v.alternate,v);break;default:Lo(m,v,w,I,f)}s=s.sibling}}function _u(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,f=u.flags;switch(u.tag){case 22:_u(o,u),f&2048&&sp(u.alternate,u);break;case 24:_u(o,u),f&2048&&ap(u.alternate,u);break;default:_u(o,u)}s=s.sibling}}var vu=8192;function zo(i){if(i.subtreeFlags&vu)for(i=i.child;i!==null;)D0(i),i=i.sibling}function D0(i){switch(i.tag){case 26:zo(i),i.flags&vu&&i.memoizedState!==null&&jR(di,i.memoizedState,i.memoizedProps);break;case 5:zo(i);break;case 3:case 4:var s=di;di=Wh(i.stateNode.containerInfo),zo(i),di=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=vu,vu=16777216,zo(i),vu=s):zo(i));break;default:zo(i)}}function O0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Tu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Xt=u,M0(u,i)}O0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)k0(i),i=i.sibling}function k0(i){switch(i.tag){case 0:case 11:case 15:Tu(i),i.flags&2048&&ws(9,i,i.return);break;case 3:Tu(i);break;case 12:Tu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,Nh(i)):Tu(i);break;default:Tu(i)}}function Nh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Xt=u,M0(u,i)}O0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ws(8,s,s.return),Nh(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Nh(s));break;default:Nh(s)}i=i.sibling}}function M0(i,s){for(;Xt!==null;){var o=Xt;switch(o.tag){case 0:case 11:case 15:ws(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ou(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Xt=u;else e:for(o=i;Xt!==null;){u=Xt;var f=u.sibling,m=u.return;if(S0(u),u===o){Xt=null;break e}if(f!==null){f.return=m,Xt=f;break e}Xt=m}}}function eR(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(i,s,o,u){return new eR(i,s,o,u)}function op(i){return i=i.prototype,!(!i||!i.isReactComponent)}function bs(i,s){var o=i.alternate;return o===null?(o=ni(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function N0(i,s){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function xh(i,s,o,u,f,m){var v=0;if(u=i,typeof i=="function")op(i)&&(v=1);else if(typeof i=="string")v=zR(i,o,yn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case p:return Na(o.children,f,m,s);case g:v=8,f|=24;break;case T:return i=ni(12,o,s,f|2),i.elementType=T,i.lanes=m,i;case z:return i=ni(13,o,s,f),i.elementType=z,i.lanes=m,i;case P:return i=ni(19,o,s,f),i.elementType=P,i.lanes=m,i;case Y:return x0(o,f,m,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:case C:v=10;break e;case A:v=9;break e;case M:v=11;break e;case H:v=14;break e;case W:v=16,u=null;break e}v=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=ni(v,o,s,f),s.elementType=i,s.type=u,s.lanes=m,s}function Na(i,s,o,u){return i=ni(7,i,u,s),i.lanes=o,i}function x0(i,s,o,u){i=ni(22,i,u,s),i.elementType=Y,i.lanes=o;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(r(456));if((f._pendingVisibility&2)===0){var v=ds(m,2);v!==null&&(f._pendingVisibility|=2,wn(v,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(r(456));if((f._pendingVisibility&2)!==0){var v=ds(m,2);v!==null&&(f._pendingVisibility&=-3,wn(v,m,2))}}};return i.stateNode=f,i}function lp(i,s,o){return i=ni(6,i,null,s),i.lanes=o,i}function up(i,s,o){return s=ni(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Sr(i){i.flags|=4}function P0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!vT(s)){if(s=Jn.current,s!==null&&((qe&4194176)===qe?xi!==null:(qe&62914560)!==qe&&(qe&536870912)===0||s!==xi))throw ru=mm,Z_;i.flags|=8192}}function Ph(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ts():536870912,i.lanes|=s,jo|=s)}function Eu(i,s){if(!Qe)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function gt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function tR(i,s,o){var u=s.pendingProps;switch(fm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),vr(Ht),nr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(eu(s)?Sr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fi!==null&&(yp(fi),fi=null))),gt(s),null;case 26:return o=s.memoizedState,i===null?(Sr(s),o!==null?(gt(s),P0(s,o)):(gt(s),s.flags&=-16777217)):o?o!==i.memoizedState?(Sr(s),gt(s),P0(s,o)):(gt(s),s.flags&=-16777217):(i.memoizedProps!==u&&Sr(s),gt(s),s.flags&=-16777217),null;case 27:so(s),o=Hn.current;var f=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Sr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return gt(s),null}i=yn.current,eu(s)?$_(s):(i=hT(f,u,o),s.stateNode=i,Sr(s))}return gt(s),null;case 5:if(so(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Sr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return gt(s),null}if(i=yn.current,eu(s))$_(s);else{switch(f=Gh(Hn.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[Wt]=s,i[Lt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=i;e:switch(rn(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Sr(s)}}return gt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Sr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Hn.current,eu(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,f=En,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Wt]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||sT(i.nodeValue,o)),i||Sa(s)}else i=Gh(i).createTextNode(u),i[Wt]=s,s.stateNode=i}return gt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=eu(s),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Wt]=s}else tu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),f=!1}else fi!==null&&(yp(fi),fi=null),f=!0;if(!f)return s.flags&256?(pr(s),s):(pr(s),null)}if(pr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),Ph(s,s.updateQueue),gt(s),null;case 4:return nr(),i===null&&Cp(s.stateNode.containerInfo),gt(s),null;case 10:return vr(s.type),gt(s),null;case 19:if(Tt(jt),f=s.memoizedState,f===null)return gt(s),null;if(u=(s.flags&128)!==0,m=f.rendering,m===null)if(u)Eu(f,!1);else{if(St!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(m=_h(i),m!==null){for(s.flags|=128,Eu(f,!1),i=m.updateQueue,s.updateQueue=i,Ph(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)N0(o,i),o=o.sibling;return it(jt,jt.current&1|2),s.child}i=i.sibling}f.tail!==null&&An()>Vh&&(s.flags|=128,u=!0,Eu(f,!1),s.lanes=4194304)}else{if(!u)if(i=_h(m),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Ph(s,i),Eu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Qe)return gt(s),null}else 2*An()-f.renderingStartTime>Vh&&o!==536870912&&(s.flags|=128,u=!0,Eu(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(i=f.last,i!==null?i.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=An(),s.sibling=null,i=jt.current,it(jt,u?i&1|2:i&1),s):(gt(s),null);case 22:case 23:return pr(s),gm(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&Ph(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&Tt(ba),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),vr(Ht),gt(s),null;case 25:return null}throw Error(r(156,s.tag))}function nR(i,s){switch(fm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return vr(Ht),nr(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return so(s),null;case 13:if(pr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));tu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Tt(jt),null;case 4:return nr(),null;case 10:return vr(s.type),null;case 22:case 23:return pr(s),gm(),i!==null&&Tt(ba),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return vr(Ht),null;case 25:return null;default:return null}}function V0(i,s){switch(fm(s),s.tag){case 3:vr(Ht),nr();break;case 26:case 27:case 5:so(s);break;case 4:nr();break;case 13:pr(s);break;case 19:Tt(jt);break;case 10:vr(s.type);break;case 22:case 23:pr(s),gm(),i!==null&&Tt(ba);break;case 24:vr(Ht)}}var iR={getCacheForType:function(i){var s=un(Ht),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},rR=typeof WeakMap=="function"?WeakMap:Map,yt=0,lt=null,Pe=null,qe=0,ut=0,Pn=null,Ar=!1,Bo=!1,cp=!1,br=0,St=0,Rs=0,xa=0,hp=0,ii=0,jo=0,wu=null,Vi=null,fp=!1,dp=0,Vh=1/0,Uh=null,Is=null,Lh=!1,Pa=null,Su=0,mp=0,pp=null,Au=0,gp=null;function Vn(){if((yt&2)!==0&&qe!==0)return qe&-qe;if(b.T!==null){var i=Mo;return i!==0?i:Ap()}return qc()}function U0(){ii===0&&(ii=(qe&536870912)===0||Qe?Vl():536870912);var i=Jn.current;return i!==null&&(i.flags|=32),ii}function wn(i,s,o){(i===lt&&ut===2||i.cancelPendingCommit!==null)&&(Ho(i,0),Rr(i,qe,ii,!1)),Rt(i,o),((yt&2)===0||i!==lt)&&(i===lt&&((yt&2)===0&&(xa|=o),St===4&&Rr(i,qe,ii,!1)),Ui(i))}function L0(i,s,o){if((yt&6)!==0)throw Error(r(327));var u=!o&&(s&60)===0&&(s&i.expiredLanes)===0||es(i,s),f=u?oR(i,s):Tp(i,s,!0),m=u;do{if(f===0){Bo&&!u&&Rr(i,s,0,!1);break}else if(f===6)Rr(i,s,0,!Ar);else{if(o=i.current.alternate,m&&!sR(o)){f=Tp(i,s,!1),m=!1;continue}if(f===2){if(m=s,i.errorRecoveryDisabledLanes&m)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var w=i;f=wu;var I=w.current.memoizedState.isDehydrated;if(I&&(Ho(w,v).flags|=256),v=Tp(w,v,!1),v!==2){if(cp&&!I){w.errorRecoveryDisabledLanes|=m,xa|=m,f=4;break e}m=Vi,Vi=f,m!==null&&yp(m)}f=v}if(m=!1,f!==2)continue}}if(f===1){Ho(i,0),Rr(i,s,0,!0);break}e:{switch(u=i,f){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){Rr(u,s,ii,!Ar);break e}break;case 2:Vi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(m=dp+300-An(),10<m)){if(Rr(u,s,ii,!Ar),Fn(u,0)!==0)break e;u.timeoutHandle=lT(z0.bind(null,u,o,Vi,Uh,fp,s,ii,xa,jo,Ar,2,-0,0),m);break e}z0(u,o,Vi,Uh,fp,s,ii,xa,jo,Ar,0,-0,0)}}break}while(!0);Ui(i)}function yp(i){Vi===null?Vi=i:Vi.push.apply(Vi,i)}function z0(i,s,o,u,f,m,v,w,I,U,$,te,G){var Q=s.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Ou={stylesheets:null,count:0,unsuspend:BR},D0(s),s=HR(),s!==null)){i.cancelPendingCommit=s(G0.bind(null,i,o,u,f,v,w,I,1,te,G)),Rr(i,m,v,!U);return}G0(i,o,u,f,v,w,I,$,te,G)}function sR(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Mn(m(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Rr(i,s,o,u){s&=~hp,s&=~xa,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var f=s;0<f;){var m=31-_n(f),v=1<<m;u[m]=-1,f&=~v}o!==0&&ns(i,o,s)}function zh(){return(yt&6)===0?(bu(0),!1):!0}function _p(){if(Pe!==null){if(ut===0)var i=Pe.return;else i=Pe,_r=Oa=null,Am(i),Oo=null,su=0,i=Pe;for(;i!==null;)V0(i.alternate,i),i=i.return;Pe=null}}function Ho(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,AR(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),_p(),lt=i,Pe=o=bs(i.current,null),qe=s,ut=0,Pn=null,Ar=!1,Bo=es(i,s),cp=!1,jo=ii=hp=xa=Rs=St=0,Vi=wu=null,fp=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var f=31-_n(u),m=1<<f;s|=i[f],u&=~m}return br=s,uh(),o}function B0(i,s){Ne=null,b.H=Pi,s===iu?(s=tv(),ut=3):s===Z_?(s=tv(),ut=4):ut=s===Jv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pn=s,Pe===null&&(St=1,Dh(i,$n(s,i.current)))}function j0(){var i=b.H;return b.H=Pi,i===null?Pi:i}function H0(){var i=b.A;return b.A=iR,i}function vp(){St=4,Ar||(qe&4194176)!==qe&&Jn.current!==null||(Bo=!0),(Rs&134217727)===0&&(xa&134217727)===0||lt===null||Rr(lt,qe,ii,!1)}function Tp(i,s,o){var u=yt;yt|=2;var f=j0(),m=H0();(lt!==i||qe!==s)&&(Uh=null,Ho(i,s)),s=!1;var v=St;e:do try{if(ut!==0&&Pe!==null){var w=Pe,I=Pn;switch(ut){case 8:_p(),v=6;break e;case 3:case 2:case 6:Jn.current===null&&(s=!0);var U=ut;if(ut=0,Pn=null,Fo(i,w,I,U),o&&Bo){v=0;break e}break;default:U=ut,ut=0,Pn=null,Fo(i,w,I,U)}}aR(),v=St;break}catch($){B0(i,$)}while(!0);return s&&i.shellSuspendCounter++,_r=Oa=null,yt=u,b.H=f,b.A=m,Pe===null&&(lt=null,qe=0,uh()),v}function aR(){for(;Pe!==null;)F0(Pe)}function oR(i,s){var o=yt;yt|=2;var u=j0(),f=H0();lt!==i||qe!==s?(Uh=null,Vh=An()+500,Ho(i,s)):Bo=es(i,s);e:do try{if(ut!==0&&Pe!==null){s=Pe;var m=Pn;t:switch(ut){case 1:ut=0,Pn=null,Fo(i,s,m,1);break;case 2:if(J_(m)){ut=0,Pn=null,q0(s);break}s=function(){ut===2&&lt===i&&(ut=7),Ui(i)},m.then(s,s);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:J_(m)?(ut=0,Pn=null,q0(s)):(ut=0,Pn=null,Fo(i,s,m,7));break;case 5:var v=null;switch(Pe.tag){case 26:v=Pe.memoizedState;case 5:case 27:var w=Pe;if(!v||vT(v)){ut=0,Pn=null;var I=w.sibling;if(I!==null)Pe=I;else{var U=w.return;U!==null?(Pe=U,Bh(U)):Pe=null}break t}}ut=0,Pn=null,Fo(i,s,m,5);break;case 6:ut=0,Pn=null,Fo(i,s,m,6);break;case 8:_p(),St=6;break e;default:throw Error(r(462))}}lR();break}catch($){B0(i,$)}while(!0);return _r=Oa=null,b.H=u,b.A=f,yt=o,Pe!==null?0:(lt=null,qe=0,uh(),St)}function lR(){for(;Pe!==null&&!Kd();)F0(Pe)}function F0(i){var s=h0(i.alternate,i,br);i.memoizedProps=i.pendingProps,s===null?Bh(i):Pe=s}function q0(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=s0(o,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=s0(o,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:Am(s);default:V0(o,s),s=Pe=N0(s,br),s=h0(o,s,br)}i.memoizedProps=i.pendingProps,s===null?Bh(i):Pe=s}function Fo(i,s,o,u){_r=Oa=null,Am(s),Oo=null,su=0;var f=s.return;try{if($1(i,f,s,o,qe)){St=1,Dh(i,$n(o,i.current)),Pe=null;return}}catch(m){if(f!==null)throw Pe=f,m;St=1,Dh(i,$n(o,i.current)),Pe=null;return}s.flags&32768?(Qe||u===1?i=!0:Bo||(qe&536870912)!==0?i=!1:(Ar=i=!0,(u===2||u===3||u===6)&&(u=Jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Y0(s,i)):Bh(s)}function Bh(i){var s=i;do{if((s.flags&32768)!==0){Y0(s,Ar);return}i=s.return;var o=tR(s.alternate,s,br);if(o!==null){Pe=o;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=i}while(s!==null);St===0&&(St=5)}function Y0(i,s){do{var o=nR(i.alternate,i);if(o!==null){o.flags&=32767,Pe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Pe=i;return}Pe=i=o}while(i!==null);St=6,Pe=null}function G0(i,s,o,u,f,m,v,w,I,U){var $=b.T,te=ce.p;try{ce.p=2,b.T=null,uR(i,s,o,u,te,f,m,v,w,I,U)}finally{b.T=$,ce.p=te}}function uR(i,s,o,u,f,m,v,w){do qo();while(Pa!==null);if((yt&6)!==0)throw Error(r(327));var I=i.finishedWork;if(u=i.finishedLanes,I===null)return null;if(i.finishedWork=null,i.finishedLanes=0,I===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var U=I.lanes|I.childLanes;if(U|=um,Hc(i,u,U,m,v,w),i===lt&&(Pe=lt=null,qe=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||Lh||(Lh=!0,mp=U,pp=o,dR(ir,function(){return qo(),null})),o=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||o?(o=b.T,b.T=null,m=ce.p,ce.p=2,v=yt,yt|=4,Z1(i,I),R0(I,i),N1(Mp,i.containerInfo),Zh=!!kp,Mp=kp=null,i.current=I,w0(i,I.alternate,I),Ml(),yt=v,ce.p=m,b.T=o):i.current=I,Lh?(Lh=!1,Pa=i,Su=u):W0(i,U),U=i.pendingLanes,U===0&&(Is=null),xl(I.stateNode),Ui(i),s!==null)for(f=i.onRecoverableError,I=0;I<s.length;I++)U=s[I],f(U.value,{componentStack:U.stack});return(Su&3)!==0&&qo(),U=i.pendingLanes,(u&4194218)!==0&&(U&42)!==0?i===gp?Au++:(Au=0,gp=i):Au=0,bu(0),null}function W0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ou(s)))}function qo(){if(Pa!==null){var i=Pa,s=mp;mp=0;var o=Fc(Su),u=b.T,f=ce.p;try{if(ce.p=32>o?32:o,b.T=null,Pa===null)var m=!1;else{o=pp,pp=null;var v=Pa,w=Su;if(Pa=null,Su=0,(yt&6)!==0)throw Error(r(331));var I=yt;if(yt|=4,k0(v.current),C0(v,v.current,w,o),yt=I,bu(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Zr,v)}catch{}m=!0}return m}finally{ce.p=f,b.T=u,W0(i,s)}}return!1}function K0(i,s,o){s=$n(o,s),s=Lm(i.stateNode,s,2),i=Es(i,s,2),i!==null&&(Rt(i,2),Ui(i))}function ot(i,s,o){if(i.tag===3)K0(i,i,o);else for(;s!==null;){if(s.tag===3){K0(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Is===null||!Is.has(u))){i=$n(o,i),o=Xv(2),u=Es(s,o,2),u!==null&&(Zv(o,u,s,i),Rt(u,2),Ui(u));break}}s=s.return}}function Ep(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new rR;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(cp=!0,f.add(o),i=cR.bind(null,i,s,o),s.then(i,i))}function cR(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,lt===i&&(qe&o)===o&&(St===4||St===3&&(qe&62914560)===qe&&300>An()-dp?(yt&2)===0&&Ho(i,0):hp|=o,jo===qe&&(jo=0)),Ui(i)}function Q0(i,s){s===0&&(s=ts()),i=ds(i,s),i!==null&&(Rt(i,s),Ui(i))}function hR(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Q0(i,o)}function fR(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Q0(i,o)}function dR(i,s){return sa(i,s)}var jh=null,Yo=null,wp=!1,Hh=!1,Sp=!1,Va=0;function Ui(i){i!==Yo&&i.next===null&&(Yo===null?jh=Yo=i:Yo=Yo.next=i),Hh=!0,wp||(wp=!0,pR(mR))}function bu(i,s){if(!Sp&&Hh){Sp=!0;do for(var o=!1,u=jh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var v=u.suspendedLanes,w=u.pingedLanes;m=(1<<31-_n(42|i)+1)-1,m&=f&~(v&~w),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(o=!0,Z0(u,m))}else m=qe,m=Fn(u,u===lt?m:0),(m&3)===0||es(u,m)||(o=!0,Z0(u,m));u=u.next}while(o);Sp=!1}}function mR(){Hh=wp=!1;var i=0;Va!==0&&(SR()&&(i=Va),Va=0);for(var s=An(),o=null,u=jh;u!==null;){var f=u.next,m=$0(u,s);m===0?(u.next=null,o===null?jh=f:o.next=f,f===null&&(Yo=o)):(o=u,(i!==0||(m&3)!==0)&&(Hh=!0)),u=f}bu(i)}function $0(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var v=31-_n(m),w=1<<v,I=f[v];I===-1?((w&o)===0||(w&u)!==0)&&(f[v]=lo(w,s)):I<=s&&(i.expiredLanes|=w),m&=~w}if(s=lt,o=qe,o=Fn(i,i===s?o:0),u=i.callbackNode,o===0||i===s&&ut===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&oo(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||es(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&oo(u),Fc(o)){case 2:case 8:o=Gt;break;case 32:o=ir;break;case 268435456:o=Nl;break;default:o=ir}return u=X0.bind(null,i),o=sa(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&oo(u),i.callbackPriority=2,i.callbackNode=null,2}function X0(i,s){var o=i.callbackNode;if(qo()&&i.callbackNode!==o)return null;var u=qe;return u=Fn(i,i===lt?u:0),u===0?null:(L0(i,u,s),$0(i,An()),i.callbackNode!=null&&i.callbackNode===o?X0.bind(null,i):null)}function Z0(i,s){if(qo())return null;L0(i,s,!0)}function pR(i){bR(function(){(yt&6)!==0?sa(Ut,i):i()})}function Ap(){return Va===0&&(Va=Vl()),Va}function J0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ri(""+i)}function eT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function gR(i,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var m=J0((f[Lt]||null).action),v=u.submitter;v&&(s=(s=v[Lt]||null)?J0(s.formAction):v.getAttribute("formAction"),s!==null&&(m=s,v=null));var w=new go("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Va!==0){var I=v?eT(f,v):new FormData(f);Nm(o,{pending:!0,data:I,method:f.method,action:m},null,I)}}else typeof m=="function"&&(w.preventDefault(),I=v?eT(f,v):new FormData(f),Nm(o,{pending:!0,data:I,method:f.method,action:m},m,I))},currentTarget:f}]})}}for(var bp=0;bp<G_.length;bp++){var Rp=G_[bp],yR=Rp.toLowerCase(),_R=Rp[0].toUpperCase()+Rp.slice(1);hi(yR,"on"+_R)}hi(j_,"onAnimationEnd"),hi(H_,"onAnimationIteration"),hi(F_,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(P1,"onTransitionRun"),hi(V1,"onTransitionStart"),hi(U1,"onTransitionCancel"),hi(q_,"onTransitionEnd"),bn("onMouseEnter",["mouseout","mouseover"]),bn("onMouseLeave",["mouseout","mouseover"]),bn("onPointerEnter",["pointerout","pointerover"]),bn("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function tT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var v=u.length-1;0<=v;v--){var w=u[v],I=w.instance,U=w.currentTarget;if(w=w.listener,I!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=U;try{m(f)}catch($){Ch($)}f.currentTarget=null,m=I}else for(v=0;v<u.length;v++){if(w=u[v],I=w.instance,U=w.currentTarget,w=w.listener,I!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=U;try{m(f)}catch($){Ch($)}f.currentTarget=null,m=I}}}}function Be(i,s){var o=s[oa];o===void 0&&(o=s[oa]=new Set);var u=i+"__bubble";o.has(u)||(nT(s,i,2,!1),o.add(u))}function Ip(i,s,o){var u=0;s&&(u|=4),nT(o,i,u,s)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function Cp(i){if(!i[Fh]){i[Fh]=!0,Ll.forEach(function(o){o!=="selectionchange"&&(vR.has(o)||Ip(o,!1,i),Ip(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Fh]||(s[Fh]=!0,Ip("selectionchange",!1,s))}}function nT(i,s,o,u){switch(bT(s)){case 2:var f=YR;break;case 8:f=GR;break;default:f=jp}o=f.bind(null,s,o,i),f=void 0,!Wn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(s,o,{capture:!0,passive:f}):i.addEventListener(s,o,!0):f!==void 0?i.addEventListener(s,o,{passive:f}):i.addEventListener(s,o,!1)}function Dp(i,s,o,u,f){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var w=u.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(v===4)for(v=u.return;v!==null;){var I=v.tag;if((I===3||I===4)&&(I=v.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;v=v.return}for(;w!==null;){if(v=ci(w),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){u=m=v;continue e}w=w.parentNode}}u=u.return}Kc(function(){var U=m,$=po(o),te=[];e:{var G=Y_.get(i);if(G!==void 0){var Q=go,ye=i;switch(i){case"keypress":if(Ci(o)===0)break e;case"keydown":case"keyup":Q=wo;break;case"focusin":ye="focus",Q=vo;break;case"focusout":ye="blur",Q=vo;break;case"beforeblur":case"afterblur":Q=vo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=nh;break;case j_:case H_:case F_:Q=To;break;case q_:Q=rh;break;case"scroll":case"scrollend":Q=Qc;break;case"wheel":Q=So;break;case"copy":case"cut":case"paste":Q=Eo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=$l;break;case"toggle":case"beforetoggle":Q=ah}var Ie=(s&4)!==0,At=!Ie&&(i==="scroll"||i==="scrollend"),B=Ie?G!==null?G+"Capture":null:G;Ie=[];for(var V=U,q;V!==null;){var X=V;if(q=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||q===null||B===null||(X=fa(V,B),X!=null&&Ie.push(Iu(V,X,q))),At)break;V=V.return}0<Ie.length&&(G=new Q(G,ye,null,o,$),te.push({event:G,listeners:Ie}))}}if((s&7)===0){e:{if(G=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",G&&o!==Gn&&(ye=o.relatedTarget||o.fromElement)&&(ci(ye)||ye[rr]))break e;if((Q||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(ye=o.relatedTarget||o.toElement,Q=U,ye=ye?ci(ye):null,ye!==null&&(At=ge(ye),Ie=ye.tag,ye!==At||Ie!==5&&Ie!==27&&Ie!==6)&&(ye=null)):(Q=null,ye=U),Q!==ye)){if(Ie=Kn,X="onMouseLeave",B="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=$l,X="onPointerLeave",B="onPointerEnter",V="pointer"),At=Q==null?G:as(Q),q=ye==null?G:as(ye),G=new Ie(X,V+"leave",Q,o,$),G.target=At,G.relatedTarget=q,X=null,ci($)===U&&(Ie=new Ie(B,V+"enter",ye,o,$),Ie.target=q,Ie.relatedTarget=At,X=Ie),At=X,Q&&ye)t:{for(Ie=Q,B=ye,V=0,q=Ie;q;q=Go(q))V++;for(q=0,X=B;X;X=Go(X))q++;for(;0<V-q;)Ie=Go(Ie),V--;for(;0<q-V;)B=Go(B),q--;for(;V--;){if(Ie===B||B!==null&&Ie===B.alternate)break t;Ie=Go(Ie),B=Go(B)}Ie=null}else Ie=null;Q!==null&&iT(te,G,Q,Ie,!1),ye!==null&&At!==null&&iT(te,At,ye,Ie,!0)}}e:{if(G=U?as(U):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var pe=O_;else if(Bt(G))if(k_)pe=k1;else{pe=D1;var xe=C1}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&Fl(U.elementType)&&(pe=O_):pe=O1;if(pe&&(pe=pe(i,U))){fr(te,pe,o,$);break e}xe&&xe(i,G,U),i==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&mo(G,"number",G.value)}switch(xe=U?as(U):window,i){case"focusin":(Bt(xe)||xe.contentEditable==="true")&&(Ao=xe,am=U,Jl=null);break;case"focusout":Jl=am=Ao=null;break;case"mousedown":om=!0;break;case"contextmenu":case"mouseup":case"dragend":om=!1,z_(te,o,$);break;case"selectionchange":if(x1)break;case"keydown":case"keyup":z_(te,o,$)}var ve;if(ki)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else He?K(i,o)&&(Se="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Se="onCompositionStart");Se&&(_&&o.locale!=="ko"&&(He||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&He&&(ve=Yl()):(Ii=$,fs="value"in Ii?Ii.value:Ii.textContent,He=!0)),xe=qh(U,Se),0<xe.length&&(Se=new Kl(Se,i,null,o,$),te.push({event:Se,listeners:xe}),ve?Se.data=ve:(ve=ae(o),ve!==null&&(Se.data=ve)))),(ve=y?zt(i,o):Fe(i,o))&&(Se=qh(U,"onBeforeInput"),0<Se.length&&(xe=new Kl("onBeforeInput","beforeinput",null,o,$),te.push({event:xe,listeners:Se}),xe.data=ve)),gR(te,i,U,o,$)}tT(te,s)})}function Iu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function qh(i,s){for(var o=s+"Capture",u=[];i!==null;){var f=i,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=fa(i,o),f!=null&&u.unshift(Iu(i,f,m)),f=fa(i,s),f!=null&&u.push(Iu(i,f,m))),i=i.return}return u}function Go(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function iT(i,s,o,u,f){for(var m=s._reactName,v=[];o!==null&&o!==u;){var w=o,I=w.alternate,U=w.stateNode;if(w=w.tag,I!==null&&I===u)break;w!==5&&w!==26&&w!==27||U===null||(I=U,f?(U=fa(o,m),U!=null&&v.unshift(Iu(o,U,I))):f||(U=fa(o,m),U!=null&&v.push(Iu(o,U,I)))),o=o.return}v.length!==0&&i.push({event:s,listeners:v})}var TR=/\r\n?/g,ER=/\u0000|\uFFFD/g;function rT(i){return(typeof i=="string"?i:""+i).replace(TR,`
`).replace(ER,"")}function sT(i,s){return s=rT(s),rT(i)===s}function Yh(){}function st(i,s,o,u,f,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Yn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Yn(i,""+u);break;case"className":us(i,"class",u);break;case"tabIndex":us(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":us(i,o,u);break;case"style":Wc(i,u,m);break;case"data":if(s!=="object"){us(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ri(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&st(i,s,"name",f.name,f,null),st(i,s,"formEncType",f.formEncType,f,null),st(i,s,"formMethod",f.formMethod,f,null),st(i,s,"formTarget",f.formTarget,f,null)):(st(i,s,"encType",f.encType,f,null),st(i,s,"method",f.method,f,null),st(i,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ri(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Yh);break;case"onScroll":u!=null&&Be("scroll",i);break;case"onScrollEnd":u!=null&&Be("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ri(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Be("beforetoggle",i),Be("toggle",i),ls(i,"popover",u);break;case"xlinkActuate":qn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ls(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Jd.get(o)||o,ls(i,o,u))}}function Op(i,s,o,u,f,m){switch(o){case"style":Wc(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Yn(i,u):(typeof u=="number"||typeof u=="bigint")&&Yn(i,""+u);break;case"onScroll":u!=null&&Be("scroll",i);break;case"onScrollEnd":u!=null&&Be("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ho.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),m=i[Lt]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):ls(i,o,u)}}}function rn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",i),Be("load",i);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var v=o[m];if(v!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:st(i,s,m,v,o,null)}}f&&st(i,s,"srcSet",o.srcSet,o,null),u&&st(i,s,"src",o.src,o,null);return;case"input":Be("invalid",i);var w=m=v=f=null,I=null,U=null;for(u in o)if(o.hasOwnProperty(u)){var $=o[u];if($!=null)switch(u){case"name":f=$;break;case"type":v=$;break;case"checked":I=$;break;case"defaultChecked":U=$;break;case"value":m=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:st(i,s,u,$,o,null)}}ca(i,m,w,I,U,v,f,!1),ua(i);return;case"select":Be("invalid",i),u=v=m=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":v=w;break;case"multiple":u=w;default:st(i,s,f,w,o,null)}s=m,o=v,i.multiple=!!u,s!=null?Ke(i,!!u,s,!1):o!=null&&Ke(i,!!u,o,!0);return;case"textarea":Be("invalid",i),m=f=u=null;for(v in o)if(o.hasOwnProperty(v)&&(w=o[v],w!=null))switch(v){case"value":u=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:st(i,s,v,w,o,null)}hs(i,u,f,m),ua(i);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:st(i,s,I,u,o,null)}return;case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":Be("load",i);break;case"video":case"audio":for(u=0;u<Ru.length;u++)Be(Ru[u],i);break;case"image":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"embed":case"source":case"link":Be("error",i),Be("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:st(i,s,U,u,o,null)}return;default:if(Fl(s)){for($ in o)o.hasOwnProperty($)&&(u=o[$],u!==void 0&&Op(i,s,$,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&st(i,s,w,u,o,null))}function wR(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,w=null,I=null,U=null,$=null;for(Q in o){var te=o[Q];if(o.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=te;default:u.hasOwnProperty(Q)||st(i,s,Q,null,u,te)}}for(var G in u){var Q=u[G];if(te=o[G],u.hasOwnProperty(G)&&(Q!=null||te!=null))switch(G){case"type":m=Q;break;case"name":f=Q;break;case"checked":U=Q;break;case"defaultChecked":$=Q;break;case"value":v=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==te&&st(i,s,G,Q,u,te)}}cs(i,v,w,I,U,$,m,f);return;case"select":Q=v=w=G=null;for(m in o)if(I=o[m],o.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":Q=I;default:u.hasOwnProperty(m)||st(i,s,m,null,u,I)}for(f in u)if(m=u[f],I=o[f],u.hasOwnProperty(f)&&(m!=null||I!=null))switch(f){case"value":G=m;break;case"defaultValue":w=m;break;case"multiple":v=m;default:m!==I&&st(i,s,f,m,u,I)}s=w,o=v,u=Q,G!=null?Ke(i,!!o,G,!1):!!u!=!!o&&(s!=null?Ke(i,!!o,s,!0):Ke(i,!!o,o?[]:"",!1));return;case"textarea":Q=G=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:st(i,s,w,null,u,f)}for(v in u)if(f=u[v],m=o[v],u.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&st(i,s,v,f,u,m)}ha(i,G,Q);return;case"option":for(var ye in o)if(G=o[ye],o.hasOwnProperty(ye)&&G!=null&&!u.hasOwnProperty(ye))switch(ye){case"selected":i.selected=!1;break;default:st(i,s,ye,null,u,G)}for(I in u)if(G=u[I],Q=o[I],u.hasOwnProperty(I)&&G!==Q&&(G!=null||Q!=null))switch(I){case"selected":i.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:st(i,s,I,G,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in o)G=o[Ie],o.hasOwnProperty(Ie)&&G!=null&&!u.hasOwnProperty(Ie)&&st(i,s,Ie,null,u,G);for(U in u)if(G=u[U],Q=o[U],u.hasOwnProperty(U)&&G!==Q&&(G!=null||Q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:st(i,s,U,G,u,Q)}return;default:if(Fl(s)){for(var At in o)G=o[At],o.hasOwnProperty(At)&&G!==void 0&&!u.hasOwnProperty(At)&&Op(i,s,At,void 0,u,G);for($ in u)G=u[$],Q=o[$],!u.hasOwnProperty($)||G===Q||G===void 0&&Q===void 0||Op(i,s,$,G,u,Q);return}}for(var B in o)G=o[B],o.hasOwnProperty(B)&&G!=null&&!u.hasOwnProperty(B)&&st(i,s,B,null,u,G);for(te in u)G=u[te],Q=o[te],!u.hasOwnProperty(te)||G===Q||G==null&&Q==null||st(i,s,te,G,u,Q)}var kp=null,Mp=null;function Gh(i){return i.nodeType===9?i:i.ownerDocument}function aT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Np(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xp=null;function SR(){var i=window.event;return i&&i.type==="popstate"?i===xp?!1:(xp=i,!0):(xp=null,!1)}var lT=typeof setTimeout=="function"?setTimeout:void 0,AR=typeof clearTimeout=="function"?clearTimeout:void 0,uT=typeof Promise=="function"?Promise:void 0,bR=typeof queueMicrotask=="function"?queueMicrotask:typeof uT<"u"?function(i){return uT.resolve(null).then(i).catch(RR)}:lT;function RR(i){setTimeout(function(){throw i})}function Pp(i,s){var o=s,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){i.removeChild(f),Pu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);Pu(s)}function Vp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Vp(o),la(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function IR(i,s,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ss])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=mi(i.nextSibling),i===null)break}return null}function CR(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=mi(i.nextSibling),i===null))return null;return i}function mi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function cT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function hT(i,s,o){switch(s=Gh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var ri=new Map,fT=new Set;function Wh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Ir=ce.d;ce.d={f:DR,r:OR,D:kR,C:MR,L:NR,m:xR,X:VR,S:PR,M:UR};function DR(){var i=Ir.f(),s=zh();return i||s}function OR(i){var s=sr(i);s!==null&&s.tag===5&&s.type==="form"?zv(s):Ir.r(i)}var Wo=typeof document>"u"?null:document;function dT(i,s,o){var u=Wo;if(u&&typeof s=="string"&&s){var f=Et(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),fT.has(f)||(fT.add(f),i={rel:i,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),rn(s,"link",i),pt(s),u.head.appendChild(s)))}}function kR(i){Ir.D(i),dT("dns-prefetch",i,null)}function MR(i,s){Ir.C(i,s),dT("preconnect",i,s)}function NR(i,s,o){Ir.L(i,s,o);var u=Wo;if(u&&i&&s){var f='link[rel="preload"][as="'+Et(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Et(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Et(o.imageSizes)+'"]')):f+='[href="'+Et(i)+'"]';var m=f;switch(s){case"style":m=Ko(i);break;case"script":m=Qo(i)}ri.has(m)||(i=D({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),ri.set(m,i),u.querySelector(f)!==null||s==="style"&&u.querySelector(Cu(m))||s==="script"&&u.querySelector(Du(m))||(s=u.createElement("link"),rn(s,"link",i),pt(s),u.head.appendChild(s)))}}function xR(i,s){Ir.m(i,s);var o=Wo;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Et(u)+'"][href="'+Et(i)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Qo(i)}if(!ri.has(m)&&(i=D({rel:"modulepreload",href:i},s),ri.set(m,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Du(m)))return}u=o.createElement("link"),rn(u,"link",i),pt(u),o.head.appendChild(u)}}}function PR(i,s,o){Ir.S(i,s,o);var u=Wo;if(u&&i){var f=os(u).hoistableStyles,m=Ko(i);s=s||"default";var v=f.get(m);if(!v){var w={loading:0,preload:null};if(v=u.querySelector(Cu(m)))w.loading=5;else{i=D({rel:"stylesheet",href:i,"data-precedence":s},o),(o=ri.get(m))&&Up(i,o);var I=v=u.createElement("link");pt(I),rn(I,"link",i),I._p=new Promise(function(U,$){I.onload=U,I.onerror=$}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Kh(v,s,u)}v={type:"stylesheet",instance:v,count:1,state:w},f.set(m,v)}}}function VR(i,s){Ir.X(i,s);var o=Wo;if(o&&i){var u=os(o).hoistableScripts,f=Qo(i),m=u.get(f);m||(m=o.querySelector(Du(f)),m||(i=D({src:i,async:!0},s),(s=ri.get(f))&&Lp(i,s),m=o.createElement("script"),pt(m),rn(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function UR(i,s){Ir.M(i,s);var o=Wo;if(o&&i){var u=os(o).hoistableScripts,f=Qo(i),m=u.get(f);m||(m=o.querySelector(Du(f)),m||(i=D({src:i,async:!0,type:"module"},s),(s=ri.get(f))&&Lp(i,s),m=o.createElement("script"),pt(m),rn(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function mT(i,s,o,u){var f=(f=Hn.current)?Wh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ko(o.href),o=os(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ko(o.href);var m=os(f).hoistableStyles,v=m.get(i);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,v),(m=f.querySelector(Cu(i)))&&!m._p&&(v.instance=m,v.state.loading=5),ri.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ri.set(i,o),m||LR(f,i,o,v.state))),s&&u===null)throw Error(r(528,""));return v}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Qo(o),o=os(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ko(i){return'href="'+Et(i)+'"'}function Cu(i){return'link[rel="stylesheet"]['+i+"]"}function pT(i){return D({},i,{"data-precedence":i.precedence,precedence:null})}function LR(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),rn(s,"link",o),pt(s),i.head.appendChild(s))}function Qo(i){return'[src="'+Et(i)+'"]'}function Du(i){return"script[async]"+i}function gT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Et(o.href)+'"]');if(u)return s.instance=u,pt(u),u;var f=D({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pt(u),rn(u,"style",f),Kh(u,o.precedence,i),s.instance=u;case"stylesheet":f=Ko(o.href);var m=i.querySelector(Cu(f));if(m)return s.state.loading|=4,s.instance=m,pt(m),m;u=pT(o),(f=ri.get(f))&&Up(u,f),m=(i.ownerDocument||i).createElement("link"),pt(m);var v=m;return v._p=new Promise(function(w,I){v.onload=w,v.onerror=I}),rn(m,"link",u),s.state.loading|=4,Kh(m,o.precedence,i),s.instance=m;case"script":return m=Qo(o.src),(f=i.querySelector(Du(m)))?(s.instance=f,pt(f),f):(u=o,(f=ri.get(m))&&(u=D({},o),Lp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),pt(f),rn(f,"link",u),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Kh(u,o.precedence,i));return s.instance}function Kh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,v=0;v<u.length;v++){var w=u[v];if(w.dataset.precedence===s)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Up(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Lp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Qh=null;function yT(i,s,o){if(Qh===null){var u=new Map,f=Qh=new Map;f.set(o,u)}else f=Qh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var m=o[f];if(!(m[ss]||m[Wt]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(s)||"";v=i+v;var w=u.get(v);w?w.push(m):u.set(v,[m])}}return u}function _T(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function zR(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function vT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ou=null;function BR(){}function jR(i,s,o){if(Ou===null)throw Error(r(475));var u=Ou;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Ko(o.href),m=i.querySelector(Cu(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=$h.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=m,pt(m);return}m=i.ownerDocument||i,o=pT(o),(f=ri.get(f))&&Up(o,f),m=m.createElement("link"),pt(m);var v=m;v._p=new Promise(function(w,I){v.onload=w,v.onerror=I}),rn(m,"link",o),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=$h.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function HR(){if(Ou===null)throw Error(r(475));var i=Ou;return i.stylesheets&&i.count===0&&zp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&zp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function $h(){if(this.count--,this.count===0){if(this.stylesheets)zp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Xh=null;function zp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Xh=new Map,s.forEach(FR,i),Xh=null,$h.call(i))}function FR(i,s){if(!(s.state.loading&4)){var o=Xh.get(i);if(o)var u=o.get(null);else{o=new Map,Xh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(o.set(v.dataset.precedence,v),u=v)}u&&o.set(null,u)}f=s.instance,v=f.getAttribute("data-precedence"),m=o.get(v)||u,m===u&&o.set(null,f),o.set(v,f),this.count++,u=$h.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var ku={$$typeof:C,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function qR(i,s,o,u,f,m,v,w){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.hiddenUpdates=uo(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function TT(i,s,o,u,f,m,v,w,I,U,$,te){return i=new qR(i,s,o,v,w,I,U,te),s=1,m===!0&&(s|=24),m=ni(3,null,null,s),i.current=m,m.stateNode=i,s=ym(),s.refCount++,i.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},Xm(m),i}function ET(i){return i?(i=Io,i):Io}function wT(i,s,o,u,f,m){f=ET(f),u.context===null?u.context=f:u.pendingContext=f,u=Ts(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Es(i,u,s),o!==null&&(wn(o,i,s),mu(o,i,s))}function ST(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Bp(i,s){ST(i,s),(i=i.alternate)&&ST(i,s)}function AT(i){if(i.tag===13){var s=ds(i,67108864);s!==null&&wn(s,i,67108864),Bp(i,67108864)}}var Zh=!0;function YR(i,s,o,u){var f=b.T;b.T=null;var m=ce.p;try{ce.p=2,jp(i,s,o,u)}finally{ce.p=m,b.T=f}}function GR(i,s,o,u){var f=b.T;b.T=null;var m=ce.p;try{ce.p=8,jp(i,s,o,u)}finally{ce.p=m,b.T=f}}function jp(i,s,o,u){if(Zh){var f=Hp(u);if(f===null)Dp(i,s,u,Jh,o),RT(i,u);else if(KR(f,i,s,o,u))u.stopPropagation();else if(RT(i,u),s&4&&-1<WR.indexOf(i)){for(;f!==null;){var m=sr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=ui(m.pendingLanes);if(v!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var I=1<<31-_n(v);w.entanglements[1]|=I,v&=~I}Ui(m),(yt&6)===0&&(Vh=An()+500,bu(0))}}break;case 13:w=ds(m,2),w!==null&&wn(w,m,2),zh(),Bp(m,2)}if(m=Hp(u),m===null&&Dp(i,s,u,Jh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else Dp(i,s,u,null,o)}}function Hp(i){return i=po(i),Fp(i)}var Jh=null;function Fp(i){if(Jh=null,i=ci(i),i!==null){var s=ge(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=et(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Jh=i,null}function bT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lc()){case Ut:return 2;case Gt:return 8;case ir:case zc:return 32;case Nl:return 268435456;default:return 32}default:return 32}}var qp=!1,Cs=null,Ds=null,Os=null,Mu=new Map,Nu=new Map,ks=[],WR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RT(i,s){switch(i){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Mu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(s.pointerId)}}function xu(i,s,o,u,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=sr(s),s!==null&&AT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function KR(i,s,o,u,f){switch(s){case"focusin":return Cs=xu(Cs,i,s,o,u,f),!0;case"dragenter":return Ds=xu(Ds,i,s,o,u,f),!0;case"mouseover":return Os=xu(Os,i,s,o,u,f),!0;case"pointerover":var m=f.pointerId;return Mu.set(m,xu(Mu.get(m)||null,i,s,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Nu.set(m,xu(Nu.get(m)||null,i,s,o,u,f)),!0}return!1}function IT(i){var s=ci(i.target);if(s!==null){var o=ge(s);if(o!==null){if(s=o.tag,s===13){if(s=et(o),s!==null){i.blockedOn=s,rs(i.priority,function(){if(o.tag===13){var u=Vn(),f=ds(o,u);f!==null&&wn(f,o,u),Bp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ef(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Hp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Gn=u,o.target.dispatchEvent(u),Gn=null}else return s=sr(o),s!==null&&AT(s),i.blockedOn=o,!1;s.shift()}return!0}function CT(i,s,o){ef(i)&&o.delete(s)}function QR(){qp=!1,Cs!==null&&ef(Cs)&&(Cs=null),Ds!==null&&ef(Ds)&&(Ds=null),Os!==null&&ef(Os)&&(Os=null),Mu.forEach(CT),Nu.forEach(CT)}function tf(i,s){i.blockedOn===s&&(i.blockedOn=null,qp||(qp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,QR)))}var nf=null;function DT(i){nf!==i&&(nf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nf===i&&(nf=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],f=i[s+2];if(typeof u!="function"){if(Fp(u||o)===null)continue;break}var m=sr(o);m!==null&&(i.splice(s,3),s-=3,Nm(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Pu(i){function s(I){return tf(I,i)}Cs!==null&&tf(Cs,i),Ds!==null&&tf(Ds,i),Os!==null&&tf(Os,i),Mu.forEach(s),Nu.forEach(s);for(var o=0;o<ks.length;o++){var u=ks[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ks.length&&(o=ks[0],o.blockedOn===null);)IT(o),o.blockedOn===null&&ks.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],v=f[Lt]||null;if(typeof m=="function")v||DT(o);else if(v){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Lt]||null)w=v.formAction;else if(Fp(f)!==null)continue}else w=v.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),DT(o)}}}function Yp(i){this._internalRoot=i}rf.prototype.render=Yp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Vn();wT(o,u,i,s,null,null)},rf.prototype.unmount=Yp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&qo(),wT(i.current,2,null,i,null,null),zh(),s[rr]=null}};function rf(i){this._internalRoot=i}rf.prototype.unstable_scheduleHydration=function(i){if(i){var s=qc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<ks.length&&s!==0&&s<ks[o].priority;o++);ks.splice(o,0,i),o===0&&IT(i)}};var OT=e.version;if(OT!=="19.0.0")throw Error(r(527,OT,"19.0.0"));ce.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ne(s),i=i!==null?_e(i):null,i=i===null?null:i.stateNode,i};var $R={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:ci,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{Zr=sf.inject($R),ln=sf}catch{}}return Uu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",f=Wv,m=Kv,v=Qv,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=TT(i,1,!1,null,null,o,u,f,m,v,w,null),i[rr]=s.current,Cp(i.nodeType===8?i.parentNode:i),new Yp(s)},Uu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,f="",m=Wv,v=Kv,w=Qv,I=null,U=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(U=o.formState)),s=TT(i,1,!0,s,o??null,u,f,m,v,w,I,U),s.context=ET(null),o=s.current,u=Vn(),f=Ts(u),f.callback=null,Es(o,f,u),s.current.lanes=u,Rt(s,u),Ui(s),i[rr]=s.current,Cp(i),new rf(s)},Uu.version="19.0.0",Uu}var BT;function lI(){if(BT)return Kp.exports;BT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kp.exports=oI(),Kp.exports}var uI=lI(),Lu={},jT;function cI(){if(jT)return Lu;jT=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.parse=c,Lu.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function c(A,C){const M=new l,z=A.length;if(z<2)return M;const P=(C==null?void 0:C.decode)||T;let H=0;do{const W=A.indexOf("=",H);if(W===-1)break;const Y=A.indexOf(";",H),ee=Y===-1?z:Y;if(W>ee){H=A.lastIndexOf(";",W-1)+1;continue}const se=d(A,H,W),me=p(A,W,se),k=A.slice(se,me);if(M[k]===void 0){let R=d(A,W+1,ee),b=p(A,ee,R);const D=P(A.slice(R,b));M[k]=D}H=ee+1}while(H<z);return M}function d(A,C,M){do{const z=A.charCodeAt(C);if(z!==32&&z!==9)return C}while(++C<M);return M}function p(A,C,M){for(;C>M;){const z=A.charCodeAt(--C);if(z!==32&&z!==9)return C+1}return M}function g(A,C,M){const z=(M==null?void 0:M.encode)||encodeURIComponent;if(!t.test(A))throw new TypeError(`argument name is invalid: ${A}`);const P=z(C);if(!e.test(P))throw new TypeError(`argument val is invalid: ${C}`);let H=A+"="+P;if(!M)return H;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);H+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);H+="; Domain="+M.domain}if(M.path){if(!r.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);H+="; Path="+M.path}if(M.expires){if(!E(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);H+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(H+="; HttpOnly"),M.secure&&(H+="; Secure"),M.partitioned&&(H+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return H}function T(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function E(A){return a.call(A)==="[object Date]"}return Lu}cI();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var HT="popstate";function hI(t={}){function e(r,a){let{pathname:l,search:c,hash:d}=r.location;return yg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:ec(a)}return dI(e,n,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fI(){return Math.random().toString(36).substring(2,10)}function FT(t,e){return{usr:t.state,key:t.key,idx:e}}function yg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?vl(e):e,state:n,key:e&&e.key||r||fI()}}function ec({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function dI(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",p=null,g=T();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function T(){return(c.state||{idx:null}).idx}function E(){d="POP";let P=T(),H=P==null?null:P-g;g=P,p&&p({action:d,location:z.location,delta:H})}function A(P,H){d="PUSH";let W=yg(z.location,P,H);g=T()+1;let Y=FT(W,g),ee=z.createHref(W);try{c.pushState(Y,"",ee)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(ee)}l&&p&&p({action:d,location:z.location,delta:1})}function C(P,H){d="REPLACE";let W=yg(z.location,P,H);g=T();let Y=FT(W,g),ee=z.createHref(W);c.replaceState(Y,"",ee),l&&p&&p({action:d,location:z.location,delta:0})}function M(P){let H=a.location.origin!=="null"?a.location.origin:a.location.href,W=typeof P=="string"?P:ec(P);return W=W.replace(/ $/,"%20"),_t(H,`No window.location.(origin|href) available to create URL for href: ${W}`),new URL(W,H)}let z={get action(){return d},get location(){return t(a,c)},listen(P){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(HT,E),p=P,()=>{a.removeEventListener(HT,E),p=null}},createHref(P){return e(a,P)},createURL:M,encodeLocation(P){let H=M(P);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:A,replace:C,go(P){return c.go(P)}};return z}function Pw(t,e,n="/"){return mI(t,e,n,!1)}function mI(t,e,n,r){let a=typeof e=="string"?vl(e):e,l=Br(a.pathname||"/",n);if(l==null)return null;let c=Vw(t);pI(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=RI(l);d=AI(c[p],g,r)}return d}function Vw(t,e=[],n=[],r=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(_t(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let g=Pr([r,p.relativePath]),T=n.concat(p);l.children&&l.children.length>0&&(_t(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Vw(l.children,e,T,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:wI(g,l.index),routesMeta:T})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of Uw(l.path))a(l,c,p)}),e}function Uw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=Uw(r.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function pI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var gI=/^:[\w-]+$/,yI=3,_I=2,vI=1,TI=10,EI=-2,qT=t=>t==="*";function wI(t,e){let n=t.split("/"),r=n.length;return n.some(qT)&&(r+=EI),e&&(r+=_I),n.filter(a=>!qT(a)).reduce((a,l)=>a+(gI.test(l)?yI:l===""?vI:TI),r)}function SI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function AI(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",c=[];for(let d=0;d<r.length;++d){let p=r[d],g=d===r.length-1,T=l==="/"?e:e.slice(l.length)||"/",E=Nf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),A=p.route;if(!E&&g&&n&&!r[r.length-1].route.index&&(E=Nf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:Pr([l,E.pathname]),pathnameBase:OI(Pr([l,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(l=Pr([l,E.pathnameBase]))}return c}function Nf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((g,{paramName:T,isOptional:E},A)=>{if(T==="*"){let M=d[A]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const C=d[A];return E&&!C?g[T]=void 0:g[T]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function bI(t,e=!1,n=!0){Gi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function RI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Br(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function II(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?vl(t):t;return{pathname:n?n.startsWith("/")?n:CI(n,e):e,search:kI(r),hash:MI(a)}}function CI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Zp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lw(t){let e=DI(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function zw(t,e,n,r=!1){let a;typeof t=="string"?a=vl(t):(a={...t},_t(!a.pathname||!a.pathname.includes("?"),Zp("?","pathname","search",a)),_t(!a.pathname||!a.pathname.includes("#"),Zp("#","pathname","hash",a)),_t(!a.search||!a.search.includes("#"),Zp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let E=e.length-1;if(!r&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),E-=1;a.pathname=A.join("/")}d=E>=0?e[E]:"/"}let p=II(a,d),g=c&&c!=="/"&&c.endsWith("/"),T=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var Pr=t=>t.join("/").replace(/\/\/+/g,"/"),OI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Bw=["POST","PUT","PATCH","DELETE"];new Set(Bw);var xI=["GET",...Bw];new Set(xI);var Tl=F.createContext(null);Tl.displayName="DataRouter";var ld=F.createContext(null);ld.displayName="DataRouterState";var jw=F.createContext({isTransitioning:!1});jw.displayName="ViewTransition";var PI=F.createContext(new Map);PI.displayName="Fetchers";var VI=F.createContext(null);VI.displayName="Await";var $i=F.createContext(null);$i.displayName="Navigation";var gc=F.createContext(null);gc.displayName="Location";var Wr=F.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var sy=F.createContext(null);sy.displayName="RouteError";function UI(t,{relative:e}={}){_t(yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.useContext($i),{hash:a,pathname:l,search:c}=vc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Pr([n,l])),r.createHref({pathname:d,search:c,hash:a})}function yc(){return F.useContext(gc)!=null}function Xa(){return _t(yc(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(gc).location}var Hw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fw(t){F.useContext($i).static||F.useLayoutEffect(t)}function _c(){let{isDataRoute:t}=F.useContext(Wr);return t?$I():LI()}function LI(){_t(yc(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(Tl),{basename:e,navigator:n}=F.useContext($i),{matches:r}=F.useContext(Wr),{pathname:a}=Xa(),l=JSON.stringify(Lw(r)),c=F.useRef(!1);return Fw(()=>{c.current=!0}),F.useCallback((p,g={})=>{if(Gi(c.current,Hw),!c.current)return;if(typeof p=="number"){n.go(p);return}let T=zw(p,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Pr([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,l,a,t])}F.createContext(null);function vc(t,{relative:e}={}){let{matches:n}=F.useContext(Wr),{pathname:r}=Xa(),a=JSON.stringify(Lw(n));return F.useMemo(()=>zw(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function zI(t,e){return qw(t,e)}function qw(t,e,n,r){var W;_t(yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=F.useContext($i),{matches:c}=F.useContext(Wr),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",T=d?d.pathnameBase:"/",E=d&&d.route;{let Y=E&&E.path||"";Yw(g,!E||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let A=Xa(),C;if(e){let Y=typeof e=="string"?vl(e):e;_t(T==="/"||((W=Y.pathname)==null?void 0:W.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),C=Y}else C=A;let M=C.pathname||"/",z=M;if(T!=="/"){let Y=T.replace(/^\//,"").split("/");z="/"+M.replace(/^\//,"").split("/").slice(Y.length).join("/")}let P=!l&&n&&n.matches&&n.matches.length>0?n.matches:Pw(t,{pathname:z});Gi(E||P!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Gi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=qI(P&&P.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:Pr([T,a.encodeLocation?a.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?T:Pr([T,a.encodeLocation?a.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),c,n,r);return e&&H?F.createElement(gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},H):H}function BI(){let t=QI(),e=NI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:a},n):null,c)}var jI=F.createElement(BI,null),HI=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(Wr.Provider,{value:this.props.routeContext},F.createElement(sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FI({routeContext:t,match:e,children:n}){let r=F.useContext(Tl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Wr.Provider,{value:t},n)}function qI(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);_t(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:T,errors:E}=n,A=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||A){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,T)=>{let E,A=!1,C=null,M=null;n&&(E=l&&g.route.id?l[g.route.id]:void 0,C=g.route.errorElement||jI,c&&(d<0&&T===0?(Yw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,M=null):d===T&&(A=!0,M=g.route.hydrateFallbackElement||null)));let z=e.concat(a.slice(0,T+1)),P=()=>{let H;return E?H=C:A?H=M:g.route.Component?H=F.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=p,F.createElement(FI,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:n!=null},children:H})};return n&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?F.createElement(HI,{location:n.location,revalidation:n.revalidation,component:C,error:E,children:P(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):P()},null)}function ay(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YI(t){let e=F.useContext(Tl);return _t(e,ay(t)),e}function GI(t){let e=F.useContext(ld);return _t(e,ay(t)),e}function WI(t){let e=F.useContext(Wr);return _t(e,ay(t)),e}function oy(t){let e=WI(t),n=e.matches[e.matches.length-1];return _t(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function KI(){return oy("useRouteId")}function QI(){var r;let t=F.useContext(sy),e=GI("useRouteError"),n=oy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function $I(){let{router:t}=YI("useNavigate"),e=oy("useNavigate"),n=F.useRef(!1);return Fw(()=>{n.current=!0}),F.useCallback(async(a,l={})=>{Gi(n.current,Hw),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var YT={};function Yw(t,e,n){!e&&!YT[t]&&(YT[t]=!0,Gi(!1,n))}F.memo(XI);function XI({routes:t,future:e,state:n}){return qw(t,void 0,n,e)}function gf(t){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZI({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){_t(!yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=vl(n));let{pathname:p="/",search:g="",hash:T="",state:E=null,key:A="default"}=n,C=F.useMemo(()=>{let M=Br(p,c);return M==null?null:{location:{pathname:M,search:g,hash:T,state:E,key:A},navigationType:r}},[c,p,g,T,E,A,r]);return Gi(C!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:F.createElement($i.Provider,{value:d},F.createElement(gc.Provider,{children:e,value:C}))}function JI({children:t,location:e}){return zI(_g(t),e)}function _g(t,e=[]){let n=[];return F.Children.forEach(t,(r,a)=>{if(!F.isValidElement(r))return;let l=[...e,a];if(r.type===F.Fragment){n.push.apply(n,_g(r.props.children,l));return}_t(r.type===gf,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=_g(r.props.children,l)),n.push(c)}),n}var yf="get",_f="application/x-www-form-urlencoded";function ud(t){return t!=null&&typeof t.tagName=="string"}function eC(t){return ud(t)&&t.tagName.toLowerCase()==="button"}function tC(t){return ud(t)&&t.tagName.toLowerCase()==="form"}function nC(t){return ud(t)&&t.tagName.toLowerCase()==="input"}function iC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rC(t,e){return t.button===0&&(!e||e==="_self")&&!iC(t)}var af=null;function sC(){if(af===null)try{new FormData(document.createElement("form"),0),af=!1}catch{af=!0}return af}var aC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jp(t){return t!=null&&!aC.has(t)?(Gi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_f}"`),null):t}function oC(t,e){let n,r,a,l,c;if(tC(t)){let d=t.getAttribute("action");r=d?Br(d,e):null,n=t.getAttribute("method")||yf,a=Jp(t.getAttribute("enctype"))||_f,l=new FormData(t)}else if(eC(t)||nC(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||d.getAttribute("action");if(r=p?Br(p,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||yf,a=Jp(t.getAttribute("formenctype"))||Jp(d.getAttribute("enctype"))||_f,l=new FormData(d,t),!sC()){let{name:g,type:T,value:E}=t;if(T==="image"){let A=g?`${g}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else g&&l.append(g,E)}}else{if(ud(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yf,r=null,a=_f,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}function ly(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function lC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function cC(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await lC(l,n);return c.links?c.links():[]}return[]}));return mC(r.flat(1).filter(uC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function GT(t,e,n,r,a,l){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>{var T;return n[g].pathname!==p.pathname||((T=n[g].route.path)==null?void 0:T.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var E;let T=r.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function hC(t,e,{includeHydrateFallback:n}={}){return fC(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function fC(t){return[...new Set(t)]}function dC(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function mC(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(dC(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function pC(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Br(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Gw(){let t=F.useContext(Tl);return ly(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function gC(){let t=F.useContext(ld);return ly(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var uy=F.createContext(void 0);uy.displayName="FrameworkContext";function Ww(){let t=F.useContext(uy);return ly(t,"You must render this element inside a <HydratedRouter> element"),t}function yC(t,e){let n=F.useContext(uy),[r,a]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:E}=e,A=F.useRef(null);F.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let z=H=>{H.forEach(W=>{c(W.isIntersecting)})},P=new IntersectionObserver(z,{threshold:.5});return A.current&&P.observe(A.current),()=>{P.disconnect()}}},[t]),F.useEffect(()=>{if(r){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[r]);let C=()=>{a(!0)},M=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,A,{}]:[l,A,{onFocus:zu(d,C),onBlur:zu(p,M),onMouseEnter:zu(g,C),onMouseLeave:zu(T,M),onTouchStart:zu(E,C)}]:[!1,A,{}]}function zu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _C({page:t,...e}){let{router:n}=Gw(),r=F.useMemo(()=>Pw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?F.createElement(TC,{page:t,matches:r,...e}):null}function vC(t){let{manifest:e,routeModules:n}=Ww(),[r,a]=F.useState([]);return F.useEffect(()=>{let l=!1;return cC(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),r}function TC({page:t,matches:e,...n}){let r=Xa(),{manifest:a,routeModules:l}=Ww(),{basename:c}=Gw(),{loaderData:d,matches:p}=gC(),g=F.useMemo(()=>GT(t,e,p,a,r,"data"),[t,e,p,a,r]),T=F.useMemo(()=>GT(t,e,p,a,r,"assets"),[t,e,p,a,r]),E=F.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let M=new Set,z=!1;if(e.forEach(H=>{var Y;let W=a.routes[H.route.id];!W||!W.hasLoader||(!g.some(ee=>ee.route.id===H.route.id)&&H.route.id in d&&((Y=l[H.route.id])!=null&&Y.shouldRevalidate)||W.hasClientLoader?z=!0:M.add(H.route.id))}),M.size===0)return[];let P=pC(t,c);return z&&M.size>0&&P.searchParams.set("_routes",e.filter(H=>M.has(H.route.id)).map(H=>H.route.id).join(",")),[P.pathname+P.search]},[c,d,r,a,g,e,t,l]),A=F.useMemo(()=>hC(T,a),[T,a]),C=vC(T);return F.createElement(F.Fragment,null,E.map(M=>F.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),A.map(M=>F.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),C.map(({key:M,link:z})=>F.createElement("link",{key:M,...z})))}function EC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kw&&(window.__reactRouterVersion="7.3.0")}catch{}function wC({basename:t,children:e,window:n}){let r=F.useRef();r.current==null&&(r.current=hI({window:n,v5Compat:!0}));let a=r.current,[l,c]=F.useState({action:a.action,location:a.location}),d=F.useCallback(p=>{F.startTransition(()=>c(p))},[c]);return F.useLayoutEffect(()=>a.listen(d),[a,d]),F.createElement(ZI,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var Qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$w=F.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:T,viewTransition:E,...A},C){let{basename:M}=F.useContext($i),z=typeof g=="string"&&Qw.test(g),P,H=!1;if(typeof g=="string"&&z&&(P=g,Kw))try{let b=new URL(window.location.href),D=g.startsWith("//")?new URL(b.protocol+g):new URL(g),N=Br(D.pathname,M);D.origin===b.origin&&N!=null?g=N+D.search+D.hash:H=!0}catch{Gi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=UI(g,{relative:a}),[Y,ee,se]=yC(r,A),me=RC(g,{replace:c,state:d,target:p,preventScrollReset:T,relative:a,viewTransition:E});function k(b){e&&e(b),b.defaultPrevented||me(b)}let R=F.createElement("a",{...A,...se,href:P||W,onClick:H||l?e:k,ref:EC(C,ee),target:p,"data-discover":!z&&n==="render"?"true":void 0});return Y&&!z?F.createElement(F.Fragment,null,R,F.createElement(_C,{page:W})):R});$w.displayName="Link";var SC=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},T){let E=vc(c,{relative:g.relative}),A=Xa(),C=F.useContext(ld),{navigator:M,basename:z}=F.useContext($i),P=C!=null&&kC(E)&&d===!0,H=M.encodeLocation?M.encodeLocation(E).pathname:E.pathname,W=A.pathname,Y=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(W=W.toLowerCase(),Y=Y?Y.toLowerCase():null,H=H.toLowerCase()),Y&&z&&(Y=Br(Y,z)||Y);const ee=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let se=W===H||!a&&W.startsWith(H)&&W.charAt(ee)==="/",me=Y!=null&&(Y===H||!a&&Y.startsWith(H)&&Y.charAt(H.length)==="/"),k={isActive:se,isPending:me,isTransitioning:P},R=se?e:void 0,b;typeof r=="function"?b=r(k):b=[r,se?"active":null,me?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(k):l;return F.createElement($w,{...g,"aria-current":R,className:b,ref:T,style:D,to:c,viewTransition:d},typeof p=="function"?p(k):p)});SC.displayName="NavLink";var AC=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:c=yf,action:d,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:E,...A},C)=>{let M=DC(),z=OC(d,{relative:g}),P=c.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&Qw.test(d),W=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ee=Y.nativeEvent.submitter,se=(ee==null?void 0:ee.getAttribute("formmethod"))||c;M(ee||Y.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:a,state:l,relative:g,preventScrollReset:T,viewTransition:E})};return F.createElement("form",{ref:C,method:P,action:z,onSubmit:r?p:W,...A,"data-discover":!H&&t==="render"?"true":void 0})});AC.displayName="Form";function bC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xw(t){let e=F.useContext(Tl);return _t(e,bC(t)),e}function RC(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=_c(),p=Xa(),g=vc(t,{relative:l});return F.useCallback(T=>{if(rC(T,e)){T.preventDefault();let E=n!==void 0?n:ec(p)===ec(g);d(t,{replace:E,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,n,r,e,t,a,l,c])}var IC=0,CC=()=>`__${String(++IC)}__`;function DC(){let{router:t}=Xw("useSubmit"),{basename:e}=F.useContext($i),n=KI();return F.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=oC(r,e);if(a.navigate===!1){let T=a.fetcherKey||CC();await t.fetch(T,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function OC(t,{relative:e}={}){let{basename:n}=F.useContext($i),r=F.useContext(Wr);_t(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...vc(t||".",{relative:e})},c=Xa();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(T=>T==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let T=d.toString();l.search=T?`?${T}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Pr([n,l.pathname])),ec(l)}function kC(t,e={}){let n=F.useContext(jw);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Xw("useViewTransitionState"),a=vc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Br(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Br(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nf(a.pathname,c)!=null||Nf(a.pathname,l)!=null}new TextEncoder;const MC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdTSURBVHgB7Z3dTtRaFMcXdaKi0YhRExMT6o0X3ihXiMak8wTqExzmCTznCZQ30CcQn0B9AiYhQOACOCEhgQRSEi5IIHwGGAgfrn/Ze1LKdPq1d3eZmV/SdGiGYfpnde2111rd7aKCMDExYZ+dnTn80rYsqxd7bOfn5w+6uroe+N/Lx7b52Da/dLE/PT39n/ezfNx99+7dLBWALjIEhGRBPt64ceMDC/I6KF5ahOiz/Nl/+LN/DwwMuGSAXIWdmZl5UKvVPvPLQbqwyDxwWeTveYuci7Cjo6NOqVT6wi8dMkuVLfr727dvf5NmtApbIEGDuOzPh9gfD5MmtAhbYEGDuCcnJ5X3799XSTFKhYUPPTw8/MGDx0e6XgzzNqTSBysTdnx8HGL+UDW6G0Cpe8gsLKz06OjoCw8K/1ILwOfxrbu7e6ivr2+bMpBJWMSivBuh/EKnvHB5K2dxDRalZGxs7DX/d2eo9UQFNm8jOEdKSSphJycn/2FfOnKN/WkcbJ5UjOBcKQWJXQH+EDv5YWojOHcx2N/f/zPJ7yQSth1FlSQVN7aw8DdtcPmHIrJo5bjZs1jCtvDonwiIywN2X5xoIXLwQpxKHVE9kBvm3YjQpCmRwiL4p46ofmyetn+JelNTV8B+dZCd9g/qcAW23k/N0o+hwnb8anPgb2/duvU8bOrbzBV0XEAT4G/ZTYZezQ0tlq3VoQtr7RAB53PLjfK5pZD3G/WrnCSnR48e0d27d+n+/fvEU0vvGOAToePjYwyqtLm5Sbu7u95rg98VV3Y1ePyKxZocsCBeb28v9fT01IWMw/r6Oq2urhoTuJHVXvn2LGpkKKEDWOaLFy8SCSp5/Pix9/srKyueFedNI6u9NHiJKoBNOfPw4UN6+fJlKlElPEJ7/xgIbAAHdT7/gUvCcgjxmXIGguDyV0Vaq8+KsNo6dWFF3OpQzjx79swTVxXSTxvA8U9168JyXJZ7ZRWCwj+qJungp4qDg4N63a8urAk3oMsfQlSImzc88NerDZ6wwg3YlDOIU3VhaBCzp6enPT/kCWvCDYA7d+6QLlT67STUarVP2HvCshv4QC0GZmsmkFpKi01d5s2CKavSCQvraWlNTU29NlXH0jkF5foUmQBZL/hZi+e5NhmiFYUFXGEoW6bcANjf3ydd7OzskEFsi538KzLE1tYW6ULnZ0eBm1MsUXk0AlwB8qmqwZVgMkdLsFgyXH5BHlU1a2trZBjbqMUCWKxKq4WlIvFtEkRZVhFahpaWlrySS1bwGfPz82QaGGvq/liVwMqWl5cpK/gMw761TiGEBSipLC4uphJGWqqJskwY+SctmwBhMKLbth077Qf/DFdSFEuVlMS9p4VpzYRACwsLXtpPFgmDOQVYKOJUDFI6wrWsoEumJO6iLlzPqz9aQOL65s2b3mtMVYtmnUFgrHAFLhW8lQgWqiJqyBEXcewKdVAKa7oDYV3qoBTWdFa6gkKBwQp+FfuwSoD0s9gXzediIYoSZ2KqZBAUFO/du1dvgEtbVeDSsycw0oV7e3taU5JRwAt4TXHj4+NbeYZcKCI+efLE6yjUVf+XmbO8m+UQZb1586anJH7ALTYOaQaCIvjPozQtm0Gw5dmNCP+KfUn88IfFdUgjaCXCZgIpMMTVkab0Ay2xl+VvbWuk4FJHJ6EpUf3gO2TtaoxCaukJK24Ic0kDBlsrGyL7cDXhypvr/NmtRDfhxgEWUiRRJfhOOq4grJAkX9eFrdVq30ghGDyKcPmHobp9FPhdal3YcrmMZEyVFFFkUSVPnz4lhVT999gGE91DpAidnYSqUNnq6XcD4JKwrHiVFFmtTPO1CW7w9s9GpRklVjs3N1fovCmmwEioK+KKZmF3JuKuRIcUIIPzokQHmOai70BhfQwh1vPgwbBIGf8BhxSA6SQ2jMAQF34N/jevFk6ZM0BSZmNjQ3nCHEv4NToeevc3J2Z+6VxKD7Mf5A4gsH8Dcu+/1TMIBJIdhdhzuFgv22CDkLg1VHPlYZittaGwoXM7/nIVPkFHV9YLJ1zEQmACXGoyHoX2FYi4tkIdwmi6yGTThg2EEMH4rMNFzMqiDjd7T5w1Yb5SAcs3BnG7u7u/Rr0pUljhEsqolVMHl7dynJU6Y/VuwZewsG0tLs797OzsU9wVOmM3xWGFNI4Q/qM2Beee5BkLiReN5FnZIBle2sQAlajBKkjiNk7xByrt4BbEOSYWFaRe8RiLSFqW9YtadAkpiIpxJe0jVjpLSTfGJVNLSQP8YZ6j97XSJALncvv27b6BjEv3Z15VXiIGtWu7uhwufU76VPr7+5W0Aih9wARcA3/BrxyapFrX2hT8nX/zbKqSdYl+P0qFlYgl/BCS2VRsqnSRTKmSYrQIKymwe6iSJkElWoWVYKE0sZiPQ2apkmZBJbkIKxE+WIpsUz64vP3kkf6bSh8aRa7C+vGJrOXRfqKDsj0e7dcM8TgAW4j8Sggd+TBKuniqEW5QcdGdbkrIIH8BDAGBkF/hM9YAAAAASUVORK5CYII=",NC="/assets/logo_big-Cp0kVrXR.png",xC="/assets/logo-9xkPj2hX.png",PC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJjSURBVHgB1ZiBcdswDEUhT6BOUG7QbBBt0G4QbVBvYI+QDdxO0Gwge4K2E1Ab2BsgQMRcFAikSEnkJe8OpxNNgl8gRMGsYAGI2NDljuzeXWtnzI2sd3Yhe6qqqodSkLia7EB2xXT+krWQk5UCJTaLYHJ655xvTUdmYAvI0c/ARBzdE0fHPUw9Gscr0JDtnSAflsfCGnBYap/A41hYhC9D9ivgb5nYQCQfUwR6BHebiHXONEctbIRbEYlNCgLqL866PIoX+yd28EEZvIdMuFSSNHODtCV/hMzgNGe7uQF7nOaMgfxCm6So4jQ3WygE52ZUVJWn4rd88Ta0QGjU/DuyRrRdqNq5QSForjMMldYrLHKy07DQb6LtCcpzEfeqUCPa/kF55JwyeKrQHsrTi3sjO7DQd4lbMj9HzM65g08CC333NLQ1fIXyzG6HLLQXbV+gPEbc/5cddkpjA+W5F/e97MBC5dbwHcrTiPvpFumpnEp+Qlsxt9X67dzhwFm0Z6tDFR7E/dnbUynzroXKvFZZTRMaUOP0gKGDjLiUs2LOU8xA7ekOkAmc1qHhaIrBXQmxOBxeSI4pDrTl2EysS7FO8W+XOOMjGu1AzOKKFwyHSt6in4clTn1imRPO/a2dCuwwDq/YKjCBoQu/+cbTpYdhz+NP8PhLUrsxXPz+AH/BwWO0w42W9vbfkAKGD7jWcHT+W0yM7JxgdmhxPR2KI6LNxTqnnG+pEeZc5+ObBsKBCIqtYCFuYjYutM3op5uzl9x1f4dj/LV00b5M6TmbG8yRBrnwiL3CRwQja9QPAb7tNC8n3s9GsmlLVaiiEgAAAABJRU5ErkJggg==",VC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAduSURBVHgB7Z0/bBtVHMe/73wJKajFI1vciU60naALShYkBmgyMCC1ohmKVImqZUMopU6JEBIDiYrE0KFBGRgYmtKNpRFLCwuBBTYuGxsuiNRpknu87ztfcrbPvj/23T3/+Sx2nXNP99Hvfu/3/tyzgCFMVWXl4AAzQqACgWkB9SpRkUBZvS8Hj1Wf1dRnNXWcAxc1KfCret2SLpy9z8QWDECgIBoi5yzgvBJzplVeWrR0gS3Xxf3SHjbqnwsHBZCr2PJ1Wd45gWvqpJfAiMwHx5VYzVtyLmLtRTlTEripzjaDIhHYlAdYfbYsNpAxmYo1Rmg7jOKlvU/FGjIiE7EGC23FOXCxsL8sNtFn+ipW59DjuKsajzkMEFJizdrDUj9zcN/ETi7KOVhKap9a9wLoa3roWSyj9OmL6raXuI4hQMldeeFfLNVWRA090JPYqY9kRU7iIfIrnfLCEc8w20tqsJCSiY/lGXcSv2D4pBIdMLxGpCSV2KlP5HvCxsMBzqdxqFjqGnmtSEHiVMATqW7jGkYI9hTrt8Q3Cb8Tn1GU6pNUbmyxzDcjcPt3o+buYzbu6FkssUPc+ielpqqFs3GqhcjGi3XqWOoh2gWdRB0YKVYX/2OpQSr/HddOutI1FUzckJcsgbsY04aarZjvNvzYUew4r0ZSO/YPTnbq+nZMBe7EOAVEUH56vPPdHBqxU2o8VVo6WsdEoMZzZ8PGc0MjVkkd59WYlErhDVmbWDZYGKeA+EjMcMak9eM2sZaILiXGNBMWtU1i9SzAOFqTExK1TWJFCdcwhLx1Cni9gkxpjdpDsaxbaR5DQnkK+OA14OcrwLaqNH90gIuph61joNwFu7r24ecTgzWz2gkt9Jwnlbyh6pvf/gIWZ5Xgv5EpOyf0vF+V7w/Fqop2oNNAUCjfM0rf+fZIKqP15S+RKapTwNmGauP9Yff1TwwgrUIJpTJS+UqpizPev5kOskZMolJfFNs6YgcxDYQJJWFSKTQPqUTuYl69rHipwMJ5rn8cBDoJJUGpX7wJXG3k2eU8O+d06YuVUq9PNZrpsifqwtl2oSQo9c78UQXw4I/8olWjXPJFvKDmsvZtvT7ASCiUt/PFs52PYQNFqbV6s1TCBmu7pzUtyWGetfcsVEyMVhb0zJFRhX03qetb+UslB7uYtVVOyLJsTkxcoeR7dZu/f897z47AKy81/z3X3BqAz1HYQuI0DAjZJELJukpelze8fPvDQrvUoqJVIzDNiC0XWREkFUqipJKiopXwiR+bj/ygANIIJRS2vOk1at+9Gy610GglyqndeI4qN9IKJUGpjNTpcufjCqZs57VkiK01hU6nPFtcqYVHq0fZRoYwB15QQq+eSy+UxJXqH2sCmYlldIZ1O5OSRKoh0apJvaI7CrbcD35HT1y+F18qMSVaicVnT5EBjByWRJSTJor4PUZgEqmmRKuiZomMxPpQDvvrcaOJXVN2Ufk9llI/XYmWSqHrsVat5kbN0o+m5wBvaQpe7zLc40vlaBSlMlLj5Gj+nwZFK3sIjqWGDLeRE93Sgy+VgypJpBoYrewgPGHj5SBnWtMD5bz6tSf17VPxpZLbjwyLVug9E7ZsFbGOKGgQhunBjzbK4Zjrnbn43+d3vnoM83CV2FIJm9JFYfjRxkhNIpWYVF4FkbbKsfWqcGTGlUEcmGOTYGRu9ajtVcWW7iBwDxUUTNKZVFOjFQ2XXs/LxX0YQFxZBkfroUsvYkvYgAEwYtdjTGsaG604cqnFMs+igLIrDFYK3fKt0dGqHDZcHg3CqIor9nOiWaJLqEed/25ytKoCdtV/eyi2bmEFhnD7cXjUGh6tTSn1aNiwKril3SYM4Ek9PGqNjlblzk8DpHlF9wGWYAiM2mBX1fRo5UZpwX83ia3zeSWDojYYoZfvwWSc1sc/22YQTIpaRqjfcch1YVtChGx3Fjr88txN+dCU5xH8aXKDxTq7t8TJ1g9DJxMZtdIyQ6zJkUq4hV/Y56GTicy1UpjRGzMZ5Wit076IHWdpnwksmDDqZTCOmjDs2B51nv5mXdshzMd4DVawbm2l67qCRgmxijHNuFitR2wuGblgY9fSzy05GOPjHLO9Z7m6Eb0SRqUEYWF2nG81Dl3UqtE7dcZaYqSnb0ZcLq/dtTDfLa8Gib12S8/jSHyIEYXXTgdxj0++aeQNeUmO2JZRqgJYqCfcCTnxakOegCcahbSgf6wihVSSeqnGRFWesVxwzKmCIYRS2a4kuf2D9LaVdFVWpDukW0krqXEbqjB6WnjME6s6lw9jDk8nQhX/x9Q19SKV9G3VVqNRu4kBjV7e+rbqwu/06edS+rZUXjdqXq1rxGxvEjiS97yFkzt9/A2aTNYZNrbwY0lWgclIbOrBFNN/EqUVY9NDhkJ9clkZy43S9J5eRU/35CDUJ9clx7o8O8BcY8ekCvLB4SqfKQsrcQZP+kVBa7kDki2cb2ydUkYfaPSWWNTf58qUXsumtBQmthX25MS+imJuTCFwWouO8WOUkmPFEttc8s/V6UWJbOV/J4waAuvSu7cAAAAASUVORK5CYII=",UC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8ElEQVR4nO3dzWoUQRRA4ZFAtiZZJVka9QV8AX/ACApZ5R1EyS4afAPXYdC3EMW1P4+j7nUVOVJM1hm7u5p7uTkf9K4aqjj0DF0zdC8WkiRJkiRJkroDbgCPgFfA2ZrjFHjYzjHFDIAd4DvDfQO2jdI/yGfG+2iQvjHuMt1to/QLctQhyJFB+gU57hDk2CAGqQmvkFwwSC4YJBcMkgsGyQWD5AIcdrgPeRy9jjKALeDPhBi/gZvR6yiF1Zb6WKfR8y8JeAH8GBCijX0ePe/SgA3gFnBvzdHGbETPV5IkSZIkSdcXsA88u/zR6qqjjdmPnm9ZwCbwDvg7YLf3Ali2c6PnXw7wnvGW0fOv+DF1MSFIO3cveh1lsPo+mOpp9DrKwH+d5IJBcsEguWCQXDBILhgkFwySCwbJBW8MS26d7EavoxRWu7ZjnUfPv+r2+3LgldLGnrv9Pm+YvQE/UPkxJUmSJEmSpOgHBxz8x4MD2hgfHDBzjBPg14Dd3p/Ay1kndV0BbxjvdfT8SwG2Jz6eqZ27Fb2OMoAnTHcYvY4y8F8nuWCQXDBILhgkFwySCwbJBYPkgkFywVce5QLc6XCnfhC9jlKATxNifIief9UNxq8jYnzxxZLzvnr1QdtOB96uOdqY+756VZIkSZIkSVrM4h8rzbcQzwZwVgAAAABJRU5ErkJggg==",LC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAArElEQVR4nO2STQrCMBBG3wnsmUy68AAiLmq9j1RP1kUn7jyCrVeoMgVFJJBJwV0ffBCyeMwfLPyVsqXwHbULXDT61r9ZMtexd8LDB57fccJQBnbZMi+Mv7JPhNEsLVuKWGWR9Jsbq6TQC0eDbMr6yiHdrnC2Cr3QWCpsrEIXOKWFHXWGsLIuZTDI7qalKHoSqbNxwpYcJmmgj51LtuyNtqRz0s1PCVTmNheYywsBbeNMCHkbYwAAAABJRU5ErkJggg==",js={avatar_icon:MC,logo_big:NC,logo:xC,search_icon:PC,send_button:VC,menu_icon:UC,green_dot:LC},zC=()=>{};var WT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},BC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Jw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,p=a+2<t.length,g=p?t[a+2]:0,T=l>>2,E=(l&3)<<4|d>>4;let A=(d&15)<<2|g>>6,C=g&63;p||(C=64,c||(A=64)),r.push(n[T],n[E],n[A],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Zw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const E=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||g==null||E==null)throw new jC;const A=l<<2|d>>4;if(r.push(A),g!==64){const C=d<<4&240|g>>2;if(r.push(C),E!==64){const M=g<<6&192|E;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HC=function(t){const e=Zw(t);return Jw.encodeByteArray(e,!0)},xf=function(t){return HC(t).replace(/\./g,"")},eS=function(t){try{return Jw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=()=>FC().__FIREBASE_DEFAULTS__,YC=()=>{if(typeof process>"u"||typeof WT>"u")return;const t=WT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eS(t[1]);return e&&JSON.parse(e)},cd=()=>{try{return zC()||qC()||YC()||GC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tS=t=>{var e,n;return(n=(e=cd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nS=t=>{const e=tS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iS=()=>{var t;return(t=cd())===null||t===void 0?void 0:t.config},rS=t=>{var e;return(e=cd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xf(JSON.stringify(n)),xf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function QC(){var t;const e=(t=cd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $C(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JC(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eD(){return!QC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tD(){try{return typeof indexedDB=="object"}catch{return!1}}function nD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="FirebaseError";class Xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iD,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tc.prototype.create)}}class Tc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?rD(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Xi(a,d,r)}}function rD(t,e){return t.replace(sD,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const sD=/\{\$([^}]+)}/g;function aD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ws(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],c=e[a];if(KT(l)&&KT(c)){if(!Ws(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function KT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Fu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function oD(t,e){const n=new lD(t,e);return n.subscribe.bind(n)}class lD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=eg),a.error===void 0&&(a.error=eg),a.complete===void 0&&(a.complete=eg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fD(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hD(t){return t===La?void 0:t}function fD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const mD={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},pD=Ve.INFO,gD={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},yD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=gD[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cy{constructor(e){this.name=e,this._logLevel=pD,this._logHandler=yD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const _D=(t,e)=>e.some(n=>t instanceof n);let QT,$T;function vD(){return QT||(QT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TD(){return $T||($T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aS=new WeakMap,vg=new WeakMap,oS=new WeakMap,tg=new WeakMap,hy=new WeakMap;function ED(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Hs(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&aS.set(n,t)}).catch(()=>{}),hy.set(e,t),e}function wD(t){if(vg.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});vg.set(t,e)}let Tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SD(t){Tg=t(Tg)}function AD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ng(this),e,...n);return oS.set(r,e.sort?e.sort():[e]),Hs(r)}:TD().includes(t)?function(...e){return t.apply(ng(this),e),Hs(aS.get(this))}:function(...e){return Hs(t.apply(ng(this),e))}}function bD(t){return typeof t=="function"?AD(t):(t instanceof IDBTransaction&&wD(t),_D(t,vD())?new Proxy(t,Tg):t)}function Hs(t){if(t instanceof IDBRequest)return ED(t);if(tg.has(t))return tg.get(t);const e=bD(t);return e!==t&&(tg.set(t,e),hy.set(e,t)),e}const ng=t=>hy.get(t);function RD(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Hs(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Hs(c.result),p.oldVersion,p.newVersion,Hs(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const ID=["get","getKey","getAll","getAllKeys","count"],CD=["put","add","delete","clear"],ig=new Map;function XT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ig.get(e))return ig.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=CD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||ID.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&p.done]))[0]};return ig.set(e,l),l}SD(t=>({...t,get:(e,n,r)=>XT(e,n)||t.get(e,n,r),has:(e,n)=>!!XT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eg="@firebase/app",ZT="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new cy("@firebase/app"),kD="@firebase/app-compat",MD="@firebase/analytics-compat",ND="@firebase/analytics",xD="@firebase/app-check-compat",PD="@firebase/app-check",VD="@firebase/auth",UD="@firebase/auth-compat",LD="@firebase/database",zD="@firebase/data-connect",BD="@firebase/database-compat",jD="@firebase/functions",HD="@firebase/functions-compat",FD="@firebase/installations",qD="@firebase/installations-compat",YD="@firebase/messaging",GD="@firebase/messaging-compat",WD="@firebase/performance",KD="@firebase/performance-compat",QD="@firebase/remote-config",$D="@firebase/remote-config-compat",XD="@firebase/storage",ZD="@firebase/storage-compat",JD="@firebase/firestore",eO="@firebase/vertexai",tO="@firebase/firestore-compat",nO="firebase",iO="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="[DEFAULT]",rO={[Eg]:"fire-core",[kD]:"fire-core-compat",[ND]:"fire-analytics",[MD]:"fire-analytics-compat",[PD]:"fire-app-check",[xD]:"fire-app-check-compat",[VD]:"fire-auth",[UD]:"fire-auth-compat",[LD]:"fire-rtdb",[zD]:"fire-data-connect",[BD]:"fire-rtdb-compat",[jD]:"fire-fn",[HD]:"fire-fn-compat",[FD]:"fire-iid",[qD]:"fire-iid-compat",[YD]:"fire-fcm",[GD]:"fire-fcm-compat",[WD]:"fire-perf",[KD]:"fire-perf-compat",[QD]:"fire-rc",[$D]:"fire-rc-compat",[XD]:"fire-gcs",[ZD]:"fire-gcs-compat",[JD]:"fire-fst",[tO]:"fire-fst-compat",[eO]:"fire-vertex","fire-js":"fire-js",[nO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new Map,sO=new Map,Sg=new Map;function JT(t,e){try{t.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fa(t){const e=t.name;if(Sg.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;Sg.set(e,t);for(const n of Pf.values())JT(n,t);for(const n of sO.values())JT(n,t);return!0}function hd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Un(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Tc("app","Firebase",aO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=iO;function lS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wg,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Fs.create("bad-app-name",{appName:String(a)});if(n||(n=iS()),!n)throw Fs.create("no-options");const l=Pf.get(a);if(l){if(Ws(n,l.options)&&Ws(r,l.config))return l;throw Fs.create("duplicate-app",{appName:a})}const c=new dD(a);for(const p of Sg.values())c.addComponent(p);const d=new oO(n,r,c);return Pf.set(a,d),d}function fy(t=wg){const e=Pf.get(t);if(!e&&t===wg&&iS())return lS();if(!e)throw Fs.create("no-app",{appName:t});return e}function Bi(t,e,n){var r;let a=(r=rO[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(d.join(" "));return}Fa(new Ks(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="firebase-heartbeat-database",uO=1,tc="firebase-heartbeat-store";let rg=null;function uS(){return rg||(rg=RD(lO,uO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fs.create("idb-open",{originalErrorMessage:t.message})})),rg}async function cO(t){try{const n=(await uS()).transaction(tc),r=await n.objectStore(tc).get(cS(t));return await n.done,r}catch(e){if(e instanceof Xi)jr.warn(e.message);else{const n=Fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(n.message)}}}async function eE(t,e){try{const r=(await uS()).transaction(tc,"readwrite");await r.objectStore(tc).put(e,cS(t)),await r.done}catch(n){if(n instanceof Xi)jr.warn(n.message);else{const r=Fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jr.warn(r.message)}}}function cS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=1024,fO=30;class dO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=tE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>fO){const c=gO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){jr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tE(),{heartbeatsToSend:r,unsentEntries:a}=mO(this._heartbeatsCache.heartbeats),l=xf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return jr.warn(n),""}}}function tE(){return new Date().toISOString().substring(0,10)}function mO(t,e=hO){const n=[];let r=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),nE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),nE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tD()?nD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return eE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return eE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function nE(t){return xf(JSON.stringify({version:2,heartbeats:t})).length}function gO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){Fa(new Ks("platform-logger",e=>new DD(e),"PRIVATE")),Fa(new Ks("heartbeat",e=>new dO(e),"PRIVATE")),Bi(Eg,ZT,t),Bi(Eg,ZT,"esm2017"),Bi("fire-js","")}yO("");var _O="firebase",vO="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(_O,vO,"app");function dy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function hS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TO=hS,fS=new Tc("auth","Firebase",hS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new cy("@firebase/auth");function EO(t,...e){Vf.logLevel<=Ve.WARN&&Vf.warn(`Auth (${Za}): ${t}`,...e)}function vf(t,...e){Vf.logLevel<=Ve.ERROR&&Vf.error(`Auth (${Za}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,...e){throw my(t,...e)}function ji(t,...e){return my(t,...e)}function dS(t,e,n){const r=Object.assign(Object.assign({},TO()),{[e]:n});return new Tc("auth","Firebase",r).create(e,{appName:t.name})}function Vr(t){return dS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function my(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fS.create(t,...e)}function Ae(t,e,...n){if(!t)throw my(e,...n)}function Or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vf(e),new Error(e)}function Hr(t,e){t||Or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wO(){return iE()==="http:"||iE()==="https:"}function iE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wO()||XC()||"connection"in navigator)?navigator.onLine:!0}function AO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hr(n>e,"Short delay should be less than long delay!"),this.isMobile=KC()||ZC()}get(){return SO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t,e){Hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new wc(3e4,6e4);function ta(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function na(t,e,n,r,a={}){return pS(t,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=Ec(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:p},l);return $C()||(g.referrerPolicy="no-referrer"),mS.fetch()(gS(t,t.config.apiHost,n,d),g)})}async function pS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bO),e);try{const a=new CO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw of(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw of(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw of(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw of(t,"user-disabled",c);const T=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw dS(t,T,g);yi(t,T)}}catch(a){if(a instanceof Xi)throw a;yi(t,"network-request-failed",{message:String(a)})}}async function Sc(t,e,n,r,a={}){const l=await na(t,e,n,r,a);return"mfaPendingCredential"in l&&yi(t,"multi-factor-auth-required",{_serverResponse:l}),l}function gS(t,e,n,r){const a=`${e}${n}?${r}`;return t.config.emulator?py(t.config,a):`${t.config.apiScheme}://${a}`}function IO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ji(this.auth,"network-request-failed")),RO.get())})}}function of(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=ji(t,e,r);return a.customData._tokenResponse=n,a}function rE(t){return t!==void 0&&t.enterprise!==void 0}class DO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OO(t,e){return na(t,"GET","/v2/recaptchaConfig",ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(t,e){return na(t,"POST","/v1/accounts:delete",e)}async function yS(t,e){return na(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MO(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),a=gy(r);Ae(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Ku(sg(a.auth_time)),issuedAtTime:Ku(sg(a.iat)),expirationTime:Ku(sg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function sg(t){return Number(t)*1e3}function gy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const a=eS(n);return a?JSON.parse(a):(vf("Failed to decode base64 JWT payload"),null)}catch(a){return vf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function sE(t){const e=gy(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xi&&NO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function NO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uf(t){var e;const n=t.auth,r=await t.getIdToken(),a=await nc(t,yS(n,{idToken:r}));Ae(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?_S(l.providerUserInfo):[],d=VO(t.providerData,c),p=t.isAnonymous,g=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),T=p?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new bg(l.createdAt,l.lastLoginAt),isAnonymous:T};Object.assign(t,E)}async function PO(t){const e=Vt(t);await Uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VO(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function _S(t){return t.map(e=>{var{providerId:n}=e,r=dy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e){const n=await pS(t,{},async()=>{const r=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=gS(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",mS.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LO(t,e){return na(t,"POST","/v2/accounts:revokeToken",ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=sE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await UO(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new rl;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ae(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ae(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rl,this.toJSON())}_performRefresh(){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,l=dy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new bg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await nc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MO(this,e)}reload(){return PO(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await nc(this,kO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,l,c,d,p,g,T;const E=(r=n.displayName)!==null&&r!==void 0?r:void 0,A=(a=n.email)!==null&&a!==void 0?a:void 0,C=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,M=(c=n.photoURL)!==null&&c!==void 0?c:void 0,z=(d=n.tenantId)!==null&&d!==void 0?d:void 0,P=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,H=(g=n.createdAt)!==null&&g!==void 0?g:void 0,W=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:Y,emailVerified:ee,isAnonymous:se,providerData:me,stsTokenManager:k}=n;Ae(Y&&k,e,"internal-error");const R=rl.fromJSON(this.name,k);Ae(typeof Y=="string",e,"internal-error"),Ns(E,e.name),Ns(A,e.name),Ae(typeof ee=="boolean",e,"internal-error"),Ae(typeof se=="boolean",e,"internal-error"),Ns(C,e.name),Ns(M,e.name),Ns(z,e.name),Ns(P,e.name),Ns(H,e.name),Ns(W,e.name);const b=new kr({uid:Y,auth:e,email:A,emailVerified:ee,displayName:E,isAnonymous:se,photoURL:M,phoneNumber:C,tenantId:z,stsTokenManager:R,createdAt:H,lastLoginAt:W});return me&&Array.isArray(me)&&(b.providerData=me.map(D=>Object.assign({},D))),P&&(b._redirectEventId=P),b}static async _fromIdTokenResponse(e,n,r=!1){const a=new rl;a.updateFromServerResponse(n);const l=new kr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Uf(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ae(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?_S(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new rl;d.updateFromIdToken(r);const p=new kr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new bg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;function Mr(t){Hr(t instanceof Function,"Expected a class definition");let e=aE.get(t);return e?(Hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vS.type="NONE";const oE=vS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t,e,n){return`firebase:${t}:${e}:${n}`}class sl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Tf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Tf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new sl(Mr(oE),e,r);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Mr(oE);const c=Tf(r,e.config.apiKey,e.name);let d=null;for(const g of n)try{const T=await g._get(c);if(T){const E=kr._fromJSON(e,T);g!==l&&(d=E),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new sl(l,e,r):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new sl(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bS(e))return"Blackberry";if(RS(e))return"Webos";if(ES(e))return"Safari";if((e.includes("chrome/")||wS(e))&&!e.includes("edge/"))return"Chrome";if(AS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TS(t=gn()){return/firefox\//i.test(t)}function ES(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wS(t=gn()){return/crios\//i.test(t)}function SS(t=gn()){return/iemobile/i.test(t)}function AS(t=gn()){return/android/i.test(t)}function bS(t=gn()){return/blackberry/i.test(t)}function RS(t=gn()){return/webos/i.test(t)}function yy(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zO(t=gn()){var e;return yy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BO(){return JC()&&document.documentMode===10}function IS(t=gn()){return yy(t)||AS(t)||RS(t)||bS(t)||/windows phone/i.test(t)||SS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t,e=[]){let n;switch(t){case"Browser":n=lE(gn());break;case"Worker":n=`${lE(gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Za}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t,e={}){return na(t,"GET","/v2/passwordPolicy",ta(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=6;class qO{constructor(e){var n,r,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:FO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new jO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yS(this,{idToken:e}),r=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Vr(this));const n=e?Vt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HO(this),n=new qO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await LO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,a);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&EO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ja(t){return Vt(t)}class uE{constructor(e){this.auth=e,this.observer=null,this.addObserver=oD(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GO(t){fd=t}function DS(t){return fd.loadJS(t)}function WO(){return fd.recaptchaEnterpriseScript}function KO(){return fd.gapiScript}function QO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $O{constructor(){this.enterprise=new XO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class XO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZO="recaptcha-enterprise",OS="NO_RECAPTCHA";class JO{constructor(e){this.type=ZO,this.auth=Ja(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{OO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new DO(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;rE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(OS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $O().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(d=>{if(!n&&rE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=WO();p.length!==0&&(p+=d),DS(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function cE(t,e,n,r=!1,a=!1){const l=new JO(t);let c;if(a)c=OS;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Rg(t,e,n,r,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await cE(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await cE(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t,e){const n=hd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ws(l,e??{}))return a;yi(a,"already-initialized")}return n.initialize({options:e})}function t2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function n2(t,e,n){const r=Ja(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=kS(e),{host:c,port:d}=i2(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},T=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(Ws(g,r.config.emulator)&&Ws(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,r2()}function kS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function i2(t){const e=kS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:hE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:hE(c)}}}function hE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function r2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,n){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}async function s2(t,e){return na(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(t,e){return Sc(t,"POST","/v1/accounts:signInWithPassword",ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(t,e){return Sc(t,"POST","/v1/accounts:signInWithEmailLink",ta(t,e))}async function l2(t,e){return Sc(t,"POST","/v1/accounts:signInWithEmailLink",ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends _y{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new ic(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ic(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,n,"signInWithPassword",a2);case"emailLink":return o2(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,r,"signUpPassword",s2);case"emailLink":return l2(e,{idToken:n,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e){return Sc(t,"POST","/v1/accounts:signInWithIdp",ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="http://localhost";class qa extends _y{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,l=dy(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new qa(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return al(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,al(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,al(e,n)}buildRequest(){const e={requestUri:u2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ec(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h2(t){const e=Hu(Fu(t)).link,n=e?Hu(Fu(e)).deep_link_id:null,r=Hu(Fu(t)).deep_link_id;return(r?Hu(Fu(r)).link:null)||r||n||e||t}class vy{constructor(e){var n,r,a,l,c,d;const p=Hu(Fu(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(r=p.oobCode)!==null&&r!==void 0?r:null,E=c2((a=p.mode)!==null&&a!==void 0?a:null);Ae(g&&T&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=T,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=h2(e);try{return new vy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.providerId=El.PROVIDER_ID}static credential(e,n){return ic._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vy.parseLink(n);return Ae(r,"argument-error"),ic._fromEmailAndCode(e,r.code,r.tenantId)}}El.PROVIDER_ID="password";El.EMAIL_PASSWORD_SIGN_IN_METHOD="password";El.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends MS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Ac{constructor(){super("facebook.com")}static credential(e){return qa._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qa._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ps.credential(n,r)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Ac{constructor(){super("github.com")}static credential(e){return qa._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Ac{constructor(){super("twitter.com")}static credential(e,n){return qa._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Us.credential(n,r)}catch{return null}}}Us.TWITTER_SIGN_IN_METHOD="twitter.com";Us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(t,e){return Sc(t,"POST","/v1/accounts:signUp",ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await kr._fromIdTokenResponse(e,r,a),c=fE(r);return new Ya({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=fE(r);return new Ya({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function fE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends Xi{constructor(e,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Lf(e,n,r,a)}}function NS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(t,l,e,r):l})}async function d2(t,e,n=!1){const r=await nc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ya._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(t,e,n=!1){const{auth:r}=t;if(Un(r.app))return Promise.reject(Vr(r));const a="reauthenticate";try{const l=await nc(t,NS(r,a,e,t),n);Ae(l.idToken,r,"internal-error");const c=gy(l.idToken);Ae(c,r,"internal-error");const{sub:d}=c;return Ae(t.uid===d,r,"user-mismatch"),Ya._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&yi(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(t,e,n=!1){if(Un(t.app))return Promise.reject(Vr(t));const r="signIn",a=await NS(t,r,e),l=await Ya._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function p2(t,e){return xS(Ja(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PS(t){const e=Ja(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function g2(t,e,n){if(Un(t.app))return Promise.reject(Vr(t));const r=Ja(t),c=await Rg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&PS(t),p}),d=await Ya._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function y2(t,e,n){return Un(t.app)?Promise.reject(Vr(t)):p2(Vt(t),El.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&PS(t),r})}function _2(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function v2(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function VS(t,e,n,r){return Vt(t).onAuthStateChanged(e,n,r)}function T2(t){return Vt(t).signOut()}const zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zf,"1"),this.storage.removeItem(zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=1e3,w2=10;class LS extends US{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);BO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,w2):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},E2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LS.type="LOCAL";const S2=LS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS extends US{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zS.type="SESSION";const BS=zS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new dd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),p=await A2(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=Ty("",20);a.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(E){const A=E;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(T),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(A.data.response);break;default:clearTimeout(T),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function R2(t){Hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function I2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D2(){return jS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="firebaseLocalStorageDb",O2=1,Bf="firebaseLocalStorage",FS="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function md(t,e){return t.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function k2(){const t=indexedDB.deleteDatabase(HS);return new bc(t).toPromise()}function Ig(){const t=indexedDB.open(HS,O2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bf,{keyPath:FS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bf)?e(r):(r.close(),await k2(),e(await Ig()))})})}async function dE(t,e,n){const r=md(t,!0).put({[FS]:e,value:n});return new bc(r).toPromise()}async function M2(t,e){const n=md(t,!1).get(e),r=await new bc(n).toPromise();return r===void 0?null:r.value}function mE(t,e){const n=md(t,!0).delete(e);return new bc(n).toPromise()}const N2=800,x2=3;class qS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>x2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dd._getInstance(D2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await I2(),!this.activeServiceWorker)return;this.sender=new b2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ig();return await dE(e,zf,"1"),await mE(e,zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=md(a,!1).getAll();return new bc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qS.type="LOCAL";const P2=qS;new wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t,e){return e?Mr(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends _y{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function U2(t){return xS(t.auth,new Ey(t),t.bypassAuthState)}function L2(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),m2(n,new Ey(t),t.bypassAuthState)}async function z2(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),d2(n,new Ey(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U2;case"linkViaPopup":case"linkViaRedirect":return z2;case"reauthViaPopup":case"reauthViaRedirect":return L2;default:yi(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new wc(2e3,1e4);class nl extends YS{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,nl.currentPopupAction&&nl.currentPopupAction.cancel(),nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=Ty();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B2.get())};e()}}nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="pendingRedirect",Ef=new Map;class H2 extends YS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ef.get(this.auth._key());if(!e){try{const r=await F2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ef.set(this.auth._key(),e)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F2(t,e){const n=G2(e),r=Y2(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function q2(t,e){Ef.set(t._key(),e)}function Y2(t){return Mr(t._redirectPersistence)}function G2(t){return Tf(j2,t.config.apiKey,t.name)}async function W2(t,e,n=!1){if(Un(t.app))return Promise.reject(Vr(t));const r=Ja(t),a=V2(r,e),c=await new H2(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=10*60*1e3;class Q2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GS(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ji(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K2&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(t,e={}){return na(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J2=/^https?/;async function ek(t){if(t.config.emulator)return;const{authorizedDomains:e}=await X2(t);for(const n of e)try{if(tk(n))return}catch{}yi(t,"unauthorized-domain")}function tk(t){const e=Ag(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!J2.test(n))return!1;if(Z2.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new wc(3e4,6e4);function gE(){const t=Hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ik(t){return new Promise((e,n)=>{var r,a,l;function c(){gE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gE(),n(ji(t,"network-request-failed"))},timeout:nk.get()})}if(!((a=(r=Hi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Hi().gapi)===null||l===void 0)&&l.load)c();else{const d=QO("iframefcb");return Hi()[d]=()=>{gapi.load?c():n(ji(t,"network-request-failed"))},DS(`${KO()}?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw wf=null,e})}let wf=null;function rk(t){return wf=wf||ik(t),wf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=new wc(5e3,15e3),ak="__/auth/iframe",ok="emulator/auth/iframe",lk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ck(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?py(e,ok):`https://${t.config.authDomain}/${ak}`,r={apiKey:e.apiKey,appName:t.name,v:Za},a=uk.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Ec(r).slice(1)}`}async function hk(t){const e=await rk(t),n=Hi().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:ck(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lk,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=ji(t,"network-request-failed"),d=Hi().setTimeout(()=>{l(c)},sk.get());function p(){Hi().clearTimeout(d),a(r)}r.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dk=500,mk=600,pk="_blank",gk="http://localhost";class yE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yk(t,e,n,r=dk,a=mk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p=Object.assign(Object.assign({},fk),{width:r.toString(),height:a.toString(),top:l,left:c}),g=gn().toLowerCase();n&&(d=wS(g)?pk:n),TS(g)&&(e=e||gk,p.scrollbars="yes");const T=Object.entries(p).reduce((A,[C,M])=>`${A}${C}=${M},`,"");if(zO(g)&&d!=="_self")return _k(e||"",d),new yE(null);const E=window.open(e||"",d,T);Ae(E,t,"popup-blocked");try{E.focus()}catch{}return new yE(E)}function _k(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="__/auth/handler",Tk="emulator/auth/handler",Ek=encodeURIComponent("fac");async function _E(t,e,n,r,a,l){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Za,eventId:a};if(e instanceof MS){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",aD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,E]of Object.entries({}))c[T]=E}if(e instanceof Ac){const T=e.getScopes().filter(E=>E!=="");T.length>0&&(c.scopes=T.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const T of Object.keys(d))d[T]===void 0&&delete d[T];const p=await t._getAppCheckToken(),g=p?`#${Ek}=${encodeURIComponent(p)}`:"";return`${wk(t)}?${Ec(d).slice(1)}${g}`}function wk({config:t}){return t.emulator?py(t,Tk):`https://${t.authDomain}/${vk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="webStorageSupport";class Sk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BS,this._completeRedirectFn=W2,this._overrideRedirectResult=q2}async _openPopup(e,n,r,a){var l;Hr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await _E(e,n,r,Ag(),a);return yk(e,c,Ty())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await _E(e,n,r,Ag(),a);return R2(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Hr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hk(e),r=new Q2(e);return n.register("authEvent",a=>(Ae(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ag,{type:ag},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[ag];c!==void 0&&n(!!c),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ek(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IS()||ES()||yy()}}const Ak=Sk;var vE="@firebase/auth",TE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ik(t){Fa(new Ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CS(t)},g=new YO(r,a,l,p);return t2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fa(new Ks("auth-internal",e=>{const n=Ja(e.getProvider("auth").getImmediate());return(r=>new bk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bi(vE,TE,Rk(t)),Bi(vE,TE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=5*60,Dk=rS("authIdTokenMaxAge")||Ck;let EE=null;const Ok=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Dk)return;const a=n==null?void 0:n.token;EE!==a&&(EE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function kk(t=fy()){const e=hd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=e2(t,{popupRedirectResolver:Ak,persistence:[P2,S2,BS]}),r=rS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=Ok(l.toString());v2(n,c,()=>c(n.currentUser)),_2(n,d=>c(d))}}const a=tS("auth");return a&&n2(n,`http://${a}`),n}function Mk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}GO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=ji("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",Mk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ik("Browser");var wE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qs,WS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function b(){}b.prototype=R.prototype,k.D=R.prototype,k.prototype=new b,k.prototype.constructor=k,k.C=function(D,N,L){for(var O=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)O[bt-2]=arguments[bt];return R.prototype[N].apply(D,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,R,b){b||(b=0);var D=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)D[N]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(N=0;16>N;++N)D[N]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=k.g[0],b=k.g[1],N=k.g[2];var L=k.g[3],O=R+(L^b&(N^L))+D[0]+3614090360&4294967295;R=b+(O<<7&4294967295|O>>>25),O=L+(N^R&(b^N))+D[1]+3905402710&4294967295,L=R+(O<<12&4294967295|O>>>20),O=N+(b^L&(R^b))+D[2]+606105819&4294967295,N=L+(O<<17&4294967295|O>>>15),O=b+(R^N&(L^R))+D[3]+3250441966&4294967295,b=N+(O<<22&4294967295|O>>>10),O=R+(L^b&(N^L))+D[4]+4118548399&4294967295,R=b+(O<<7&4294967295|O>>>25),O=L+(N^R&(b^N))+D[5]+1200080426&4294967295,L=R+(O<<12&4294967295|O>>>20),O=N+(b^L&(R^b))+D[6]+2821735955&4294967295,N=L+(O<<17&4294967295|O>>>15),O=b+(R^N&(L^R))+D[7]+4249261313&4294967295,b=N+(O<<22&4294967295|O>>>10),O=R+(L^b&(N^L))+D[8]+1770035416&4294967295,R=b+(O<<7&4294967295|O>>>25),O=L+(N^R&(b^N))+D[9]+2336552879&4294967295,L=R+(O<<12&4294967295|O>>>20),O=N+(b^L&(R^b))+D[10]+4294925233&4294967295,N=L+(O<<17&4294967295|O>>>15),O=b+(R^N&(L^R))+D[11]+2304563134&4294967295,b=N+(O<<22&4294967295|O>>>10),O=R+(L^b&(N^L))+D[12]+1804603682&4294967295,R=b+(O<<7&4294967295|O>>>25),O=L+(N^R&(b^N))+D[13]+4254626195&4294967295,L=R+(O<<12&4294967295|O>>>20),O=N+(b^L&(R^b))+D[14]+2792965006&4294967295,N=L+(O<<17&4294967295|O>>>15),O=b+(R^N&(L^R))+D[15]+1236535329&4294967295,b=N+(O<<22&4294967295|O>>>10),O=R+(N^L&(b^N))+D[1]+4129170786&4294967295,R=b+(O<<5&4294967295|O>>>27),O=L+(b^N&(R^b))+D[6]+3225465664&4294967295,L=R+(O<<9&4294967295|O>>>23),O=N+(R^b&(L^R))+D[11]+643717713&4294967295,N=L+(O<<14&4294967295|O>>>18),O=b+(L^R&(N^L))+D[0]+3921069994&4294967295,b=N+(O<<20&4294967295|O>>>12),O=R+(N^L&(b^N))+D[5]+3593408605&4294967295,R=b+(O<<5&4294967295|O>>>27),O=L+(b^N&(R^b))+D[10]+38016083&4294967295,L=R+(O<<9&4294967295|O>>>23),O=N+(R^b&(L^R))+D[15]+3634488961&4294967295,N=L+(O<<14&4294967295|O>>>18),O=b+(L^R&(N^L))+D[4]+3889429448&4294967295,b=N+(O<<20&4294967295|O>>>12),O=R+(N^L&(b^N))+D[9]+568446438&4294967295,R=b+(O<<5&4294967295|O>>>27),O=L+(b^N&(R^b))+D[14]+3275163606&4294967295,L=R+(O<<9&4294967295|O>>>23),O=N+(R^b&(L^R))+D[3]+4107603335&4294967295,N=L+(O<<14&4294967295|O>>>18),O=b+(L^R&(N^L))+D[8]+1163531501&4294967295,b=N+(O<<20&4294967295|O>>>12),O=R+(N^L&(b^N))+D[13]+2850285829&4294967295,R=b+(O<<5&4294967295|O>>>27),O=L+(b^N&(R^b))+D[2]+4243563512&4294967295,L=R+(O<<9&4294967295|O>>>23),O=N+(R^b&(L^R))+D[7]+1735328473&4294967295,N=L+(O<<14&4294967295|O>>>18),O=b+(L^R&(N^L))+D[12]+2368359562&4294967295,b=N+(O<<20&4294967295|O>>>12),O=R+(b^N^L)+D[5]+4294588738&4294967295,R=b+(O<<4&4294967295|O>>>28),O=L+(R^b^N)+D[8]+2272392833&4294967295,L=R+(O<<11&4294967295|O>>>21),O=N+(L^R^b)+D[11]+1839030562&4294967295,N=L+(O<<16&4294967295|O>>>16),O=b+(N^L^R)+D[14]+4259657740&4294967295,b=N+(O<<23&4294967295|O>>>9),O=R+(b^N^L)+D[1]+2763975236&4294967295,R=b+(O<<4&4294967295|O>>>28),O=L+(R^b^N)+D[4]+1272893353&4294967295,L=R+(O<<11&4294967295|O>>>21),O=N+(L^R^b)+D[7]+4139469664&4294967295,N=L+(O<<16&4294967295|O>>>16),O=b+(N^L^R)+D[10]+3200236656&4294967295,b=N+(O<<23&4294967295|O>>>9),O=R+(b^N^L)+D[13]+681279174&4294967295,R=b+(O<<4&4294967295|O>>>28),O=L+(R^b^N)+D[0]+3936430074&4294967295,L=R+(O<<11&4294967295|O>>>21),O=N+(L^R^b)+D[3]+3572445317&4294967295,N=L+(O<<16&4294967295|O>>>16),O=b+(N^L^R)+D[6]+76029189&4294967295,b=N+(O<<23&4294967295|O>>>9),O=R+(b^N^L)+D[9]+3654602809&4294967295,R=b+(O<<4&4294967295|O>>>28),O=L+(R^b^N)+D[12]+3873151461&4294967295,L=R+(O<<11&4294967295|O>>>21),O=N+(L^R^b)+D[15]+530742520&4294967295,N=L+(O<<16&4294967295|O>>>16),O=b+(N^L^R)+D[2]+3299628645&4294967295,b=N+(O<<23&4294967295|O>>>9),O=R+(N^(b|~L))+D[0]+4096336452&4294967295,R=b+(O<<6&4294967295|O>>>26),O=L+(b^(R|~N))+D[7]+1126891415&4294967295,L=R+(O<<10&4294967295|O>>>22),O=N+(R^(L|~b))+D[14]+2878612391&4294967295,N=L+(O<<15&4294967295|O>>>17),O=b+(L^(N|~R))+D[5]+4237533241&4294967295,b=N+(O<<21&4294967295|O>>>11),O=R+(N^(b|~L))+D[12]+1700485571&4294967295,R=b+(O<<6&4294967295|O>>>26),O=L+(b^(R|~N))+D[3]+2399980690&4294967295,L=R+(O<<10&4294967295|O>>>22),O=N+(R^(L|~b))+D[10]+4293915773&4294967295,N=L+(O<<15&4294967295|O>>>17),O=b+(L^(N|~R))+D[1]+2240044497&4294967295,b=N+(O<<21&4294967295|O>>>11),O=R+(N^(b|~L))+D[8]+1873313359&4294967295,R=b+(O<<6&4294967295|O>>>26),O=L+(b^(R|~N))+D[15]+4264355552&4294967295,L=R+(O<<10&4294967295|O>>>22),O=N+(R^(L|~b))+D[6]+2734768916&4294967295,N=L+(O<<15&4294967295|O>>>17),O=b+(L^(N|~R))+D[13]+1309151649&4294967295,b=N+(O<<21&4294967295|O>>>11),O=R+(N^(b|~L))+D[4]+4149444226&4294967295,R=b+(O<<6&4294967295|O>>>26),O=L+(b^(R|~N))+D[11]+3174756917&4294967295,L=R+(O<<10&4294967295|O>>>22),O=N+(R^(L|~b))+D[2]+718787259&4294967295,N=L+(O<<15&4294967295|O>>>17),O=b+(L^(N|~R))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(N+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+L&4294967295}r.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var b=R-this.blockSize,D=this.B,N=this.h,L=0;L<R;){if(N==0)for(;L<=b;)a(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<R;)if(D[N++]=k.charCodeAt(L++),N==this.blockSize){a(this,D),N=0;break}}else for(;L<R;)if(D[N++]=k[L++],N==this.blockSize){a(this,D),N=0;break}}this.h=N,this.o+=R},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var b=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=b&255,b/=256;for(this.u(k),k=Array(16),R=b=0;4>R;++R)for(var D=0;32>D;D+=8)k[b++]=this.g[R]>>>D&255;return k};function l(k,R){var b=d;return Object.prototype.hasOwnProperty.call(b,k)?b[k]:b[k]=R(k)}function c(k,R){this.h=R;for(var b=[],D=!0,N=k.length-1;0<=N;N--){var L=k[N]|0;D&&L==R||(b[N]=L,D=!1)}this.g=b}var d={};function p(k){return-128<=k&&128>k?l(k,function(R){return new c([R|0],0>R?-1:0)}):new c([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return E;if(0>k)return P(g(-k));for(var R=[],b=1,D=0;k>=b;D++)R[D]=k/b|0,b*=4294967296;return new c(R,0)}function T(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return P(T(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=g(Math.pow(R,8)),D=E,N=0;N<k.length;N+=8){var L=Math.min(8,k.length-N),O=parseInt(k.substring(N,N+L),R);8>L?(L=g(Math.pow(R,L)),D=D.j(L).add(g(O))):(D=D.j(b),D=D.add(g(O)))}return D}var E=p(0),A=p(1),C=p(16777216);t=c.prototype,t.m=function(){if(z(this))return-P(this).m();for(var k=0,R=1,b=0;b<this.g.length;b++){var D=this.i(b);k+=(0<=D?D:4294967296+D)*R,R*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if(z(this))return"-"+P(this).toString(k);for(var R=g(Math.pow(k,6)),b=this,D="";;){var N=ee(b,R).g;b=H(b,N.j(R));var L=((0<b.g.length?b.g[0]:b.h)>>>0).toString(k);if(b=N,M(b))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function z(k){return k.h==-1}t.l=function(k){return k=H(this,k),z(k)?-1:M(k)?0:1};function P(k){for(var R=k.g.length,b=[],D=0;D<R;D++)b[D]=~k.g[D];return new c(b,~k.h).add(A)}t.abs=function(){return z(this)?P(this):this},t.add=function(k){for(var R=Math.max(this.g.length,k.g.length),b=[],D=0,N=0;N<=R;N++){var L=D+(this.i(N)&65535)+(k.i(N)&65535),O=(L>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);D=O>>>16,L&=65535,O&=65535,b[N]=O<<16|L}return new c(b,b[b.length-1]&-2147483648?-1:0)};function H(k,R){return k.add(P(R))}t.j=function(k){if(M(this)||M(k))return E;if(z(this))return z(k)?P(this).j(P(k)):P(P(this).j(k));if(z(k))return P(this.j(P(k)));if(0>this.l(C)&&0>k.l(C))return g(this.m()*k.m());for(var R=this.g.length+k.g.length,b=[],D=0;D<2*R;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<k.g.length;N++){var L=this.i(D)>>>16,O=this.i(D)&65535,bt=k.i(N)>>>16,mt=k.i(N)&65535;b[2*D+2*N]+=O*mt,W(b,2*D+2*N),b[2*D+2*N+1]+=L*mt,W(b,2*D+2*N+1),b[2*D+2*N+1]+=O*bt,W(b,2*D+2*N+1),b[2*D+2*N+2]+=L*bt,W(b,2*D+2*N+2)}for(D=0;D<R;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=R;D<2*R;D++)b[D]=0;return new c(b,0)};function W(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function Y(k,R){this.g=k,this.h=R}function ee(k,R){if(M(R))throw Error("division by zero");if(M(k))return new Y(E,E);if(z(k))return R=ee(P(k),R),new Y(P(R.g),P(R.h));if(z(R))return R=ee(k,P(R)),new Y(P(R.g),R.h);if(30<k.g.length){if(z(k)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var b=A,D=R;0>=D.l(k);)b=se(b),D=se(D);var N=me(b,1),L=me(D,1);for(D=me(D,2),b=me(b,2);!M(D);){var O=L.add(D);0>=O.l(k)&&(N=N.add(b),L=O),D=me(D,1),b=me(b,1)}return R=H(k,N.j(R)),new Y(N,R)}for(N=E;0<=k.l(R);){for(b=Math.max(1,Math.floor(k.m()/R.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=g(b),O=L.j(R);z(O)||0<O.l(k);)b-=D,L=g(b),O=L.j(R);M(L)&&(L=A),N=N.add(L),k=H(k,O)}return new Y(N,k)}t.A=function(k){return ee(this,k).h},t.and=function(k){for(var R=Math.max(this.g.length,k.g.length),b=[],D=0;D<R;D++)b[D]=this.i(D)&k.i(D);return new c(b,this.h&k.h)},t.or=function(k){for(var R=Math.max(this.g.length,k.g.length),b=[],D=0;D<R;D++)b[D]=this.i(D)|k.i(D);return new c(b,this.h|k.h)},t.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),b=[],D=0;D<R;D++)b[D]=this.i(D)^k.i(D);return new c(b,this.h^k.h)};function se(k){for(var R=k.g.length+1,b=[],D=0;D<R;D++)b[D]=k.i(D)<<1|k.i(D-1)>>>31;return new c(b,k.h)}function me(k,R){var b=R>>5;R%=32;for(var D=k.g.length-b,N=[],L=0;L<D;L++)N[L]=0<R?k.i(L+b)>>>R|k.i(L+b+1)<<32-R:k.i(L+b);return new c(N,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=T,qs=c}).apply(typeof wE<"u"?wE:typeof self<"u"?self:typeof window<"u"?window:{});var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KS,qu,QS,Sf,Cg,$S,XS,ZS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof lf=="object"&&lf];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function a(h,y){if(y)e:{var _=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var j=h[S];if(!(j in _))break e;_=_[j]}h=h[h.length-1],S=_[h],y=y(S),y!=S&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,S=!1,j={next:function(){if(!S&&_<h.length){var K=_++;return{value:y(K,h[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function T(h,y,_){return h.call.apply(h.bind,arguments)}function E(h,y,_){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),h.apply(y,j)}}return function(){return h.apply(y,arguments)}}function A(h,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:E,A.apply(null,arguments)}function C(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function M(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(S,j,K){for(var ae=Array(arguments.length-2),He=2;He<arguments.length;He++)ae[He-2]=arguments[He];return y.prototype[j].apply(S,ae)}}function z(h){const y=h.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=h[S];return _}return[]}function P(h,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const j=h.length||0,K=S.length||0;h.length=j+K;for(let ae=0;ae<K;ae++)h[j+ae]=S[ae]}else h.push(S)}}class H{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(h){return/^[\s\xa0]*$/.test(h)}function Y(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ee(h){return ee[" "](h),h}ee[" "]=function(){};var se=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function me(h,y,_){for(const S in h)y.call(_,h[S],S,h)}function k(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function R(h){const y={};for(const _ in h)y[_]=h[_];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,y){let _,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(_ in S)h[_]=S[_];for(let K=0;K<b.length;K++)_=b[K],Object.prototype.hasOwnProperty.call(S,_)&&(h[_]=S[_])}}function N(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function L(h){d.setTimeout(()=>{throw h},0)}function O(){var h=et;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class bt{constructor(){this.h=this.g=null}add(y,_){const S=mt.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var mt=new H(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let we,ge=!1,et=new bt,x=()=>{const h=d.Promise.resolve(void 0);we=()=>{h.then(ne)}};var ne=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(_){L(_)}var y=mt;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ge=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function Me(h,y){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(se){e:{try{ee(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:De[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Me.aa.h.call(this)}}M(Me,ue);var De={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),We=0;function Tt(h,y,_,S,j){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=j,this.key=++We,this.da=this.fa=!1}function it(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function yn(h){this.src=h,this.g={},this.h=0}yn.prototype.add=function(h,y,_,S,j){var K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);var ae=Hn(h,y,S,j);return-1<ae?(y=h[ae],_||(y.fa=!1)):(y=new Tt(y,this.src,K,!!S,j),y.fa=_,h.push(y)),y};function tr(h,y){var _=y.type;if(_ in h.g){var S=h.g[_],j=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=j)&&Array.prototype.splice.call(S,j,1),K&&(it(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Hn(h,y,_,S){for(var j=0;j<h.length;++j){var K=h[j];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==S)return j}return-1}var $r="closure_lm_"+(1e6*Math.random()|0),Xr={};function nr(h,y,_,S,j){if(Array.isArray(y)){for(var K=0;K<y.length;K++)nr(h,y[K],_,S,j);return null}return _=Lc(_),h&&h[Ot]?h.K(y,_,g(S)?!!S.capture:!1,j):kl(h,y,_,!1,S,j)}function kl(h,y,_,S,j,K){if(!y)throw Error("Invalid event type");var ae=g(j)?!!j.capture:!!j,He=Ml(h);if(He||(h[$r]=He=new yn(h)),_=He.add(y,_,S,ae,K),_.proxy)return _;if(S=so(),_.proxy=S,S.src=h,S.listener=_,h.addEventListener)ce||(j=ae),j===void 0&&(j=!1),h.addEventListener(y.toString(),S,j);else if(h.attachEvent)h.attachEvent(oo(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function so(){function h(_){return y.call(h.src,h.listener,_)}const y=Kd;return h}function ao(h,y,_,S,j){if(Array.isArray(y))for(var K=0;K<y.length;K++)ao(h,y[K],_,S,j);else S=g(S)?!!S.capture:!!S,_=Lc(_),h&&h[Ot]?(h=h.i,y=String(y).toString(),y in h.g&&(K=h.g[y],_=Hn(K,_,S,j),-1<_&&(it(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete h.g[y],h.h--)))):h&&(h=Ml(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Hn(y,_,S,j)),(_=-1<h?y[h]:null)&&sa(_))}function sa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ot])tr(y.i,h);else{var _=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(_,S,h.capture):y.detachEvent?y.detachEvent(oo(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Ml(y))?(tr(_,h),_.h==0&&(_.src=null,y[$r]=null)):it(h)}}}function oo(h){return h in Xr?Xr[h]:Xr[h]="on"+h}function Kd(h,y){if(h.da)h=!0;else{y=new Me(y,this);var _=h.listener,S=h.ha||h.src;h.fa&&sa(h),h=_.call(S,y)}return h}function Ml(h){return h=h[$r],h instanceof yn?h:null}var An="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lc(h){return typeof h=="function"?h:(h[An]||(h[An]=function(y){return h.handleEvent(y)}),h[An])}function Ut(){_e.call(this),this.i=new yn(this),this.M=this,this.F=null}M(Ut,_e),Ut.prototype[Ot]=!0,Ut.prototype.removeEventListener=function(h,y,_,S){ao(this,h,y,_,S)};function Gt(h,y){var _,S=h.F;if(S)for(_=[];S;S=S.F)_.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new ue(y,h);else if(y instanceof ue)y.target=y.target||h;else{var j=y;y=new ue(S,h),D(y,j)}if(j=!0,_)for(var K=_.length-1;0<=K;K--){var ae=y.g=_[K];j=ir(ae,S,!0,y)&&j}if(ae=y.g=h,j=ir(ae,S,!0,y)&&j,j=ir(ae,S,!1,y)&&j,_)for(K=0;K<_.length;K++)ae=y.g=_[K],j=ir(ae,S,!1,y)&&j}Ut.prototype.N=function(){if(Ut.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],S=0;S<_.length;S++)it(_[S]);delete h.g[y],h.h--}}this.F=null},Ut.prototype.K=function(h,y,_,S){return this.i.add(String(h),y,!1,_,S)},Ut.prototype.L=function(h,y,_,S){return this.i.add(String(h),y,!0,_,S)};function ir(h,y,_,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,K=0;K<y.length;++K){var ae=y[K];if(ae&&!ae.da&&ae.capture==_){var He=ae.listener,zt=ae.ha||ae.src;ae.fa&&tr(h.i,ae),j=He.call(zt,S)!==!1&&j}}return j&&!S.defaultPrevented}function zc(h,y,_){if(typeof h=="function")_&&(h=A(h,_));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Nl(h){h.g=zc(()=>{h.g=null,h.i&&(h.i=!1,Nl(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Qd extends _e{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Nl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(h){_e.call(this),this.h=h,this.g={}}M(aa,_e);var Zr=[];function ln(h){me(h.g,function(y,_){this.g.hasOwnProperty(_)&&sa(y)},h),h.g={}}aa.prototype.N=function(){aa.aa.N.call(this),ln(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xl=d.JSON.stringify,wi=d.JSON.parse,_n=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Pl(){}Pl.prototype.h=null;function Bc(h){return h.h||(h.h=h.i())}function jc(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jr(){ue.call(this,"d")}M(Jr,ue);function ui(){ue.call(this,"c")}M(ui,ue);var Fn={},es=null;function lo(){return es=es||new Ut}Fn.La="serverreachability";function Vl(h){ue.call(this,Fn.La,h)}M(Vl,ue);function ts(h){const y=lo();Gt(y,new Vl(y))}Fn.STAT_EVENT="statevent";function uo(h,y){ue.call(this,Fn.STAT_EVENT,h),this.stat=y}M(uo,ue);function Rt(h){const y=lo();Gt(y,new uo(y,h))}Fn.Ma="timingevent";function Hc(h,y){ue.call(this,Fn.Ma,h),this.size=y}M(Hc,ue);function ns(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function is(){this.g=!0}is.prototype.xa=function(){this.g=!1};function Fc(h,y,_,S,j,K){h.info(function(){if(h.g)if(K)for(var ae="",He=K.split("&"),zt=0;zt<He.length;zt++){var Fe=He[zt].split("=");if(1<Fe.length){var Qt=Fe[0];Fe=Fe[1];var Bt=Qt.split("_");ae=2<=Bt.length&&Bt[1]=="type"?ae+(Qt+"="+Fe+"&"):ae+(Qt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+y+`
`+_+`
`+ae})}function qc(h,y,_,S,j,K,ae){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+y+`
`+_+`
`+K+" "+ae})}function rs(h,y,_,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Wt(h,_)+(S?" "+S:"")})}function Ai(h,y){h.info(function(){return"TIMEOUT: "+y})}is.prototype.info=function(){};function Wt(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var S=_[h];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<j.length;ae++)j[ae]=""}}}}return xl(_)}catch{return y}}var Lt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oa;function co(){}M(co,Pl),co.prototype.g=function(){return new XMLHttpRequest},co.prototype.i=function(){return{}},oa=new co;function bi(h,y,_,S){this.j=h,this.i=y,this.l=_,this.R=S||1,this.U=new aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ul}function Ul(){this.i=null,this.g="",this.h=!1}var ss={},la={};function ci(h,y,_){h.L=1,h.v=ha(Et(y)),h.m=_,h.P=!0,sr(h,null)}function sr(h,y){h.F=Date.now(),pt(h),h.A=Et(h.v);var _=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),lr(_.i,"t",S),h.C=0,_=h.j.J,h.h=new Ul,h.g=rh(h.j,_?y:null,!h.m),0<h.O&&(h.M=new Qd(A(h.Y,h,h.g),h.O)),y=h.U,_=h.g,S=h.ca;var j="readystatechange";Array.isArray(j)||(j&&(Zr[0]=j.toString()),j=Zr);for(var K=0;K<j.length;K++){var ae=nr(_,j[K],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),ts(),Fc(h.i,h.u,h.A,h.l,h.R,h.m)}bi.prototype.ca=function(h){h=h.target;const y=this.M;y&&Kn(h)==3?y.j():this.Y(h)},bi.prototype.Y=function(h){try{if(h==this.g)e:{const Bt=Kn(this.g);var y=this.g.Ba();const fr=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||$c(this.g)))){this.J||Bt!=4||y==7||(y==8||0>=fr?ts(3):ts(2)),ho(this);var _=this.g.Z();this.X=_;t:if(as(this)){var S=$c(this.g);h="";var j=S.length,K=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),On(this);var ae="";break t}this.h.i=new d.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,h+=this.h.i.decode(S[y],{stream:!(K&&y==j-1)});S.length=0,this.h.g+=h,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,qc(this.i,this.u,this.A,this.l,this.R,Bt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var He,zt=this.g;if((He=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(He)){var Fe=He;break t}}Fe=null}if(_=Fe)rs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kn(this,_);else{this.o=!1,this.s=3,Rt(12),bn(this),On(this);break e}}if(this.P){_=!0;let en;for(;!this.J&&this.C<ae.length;)if(en=os(this,ae),en==la){Bt==4&&(this.s=4,Rt(14),_=!1),rs(this.i,this.l,null,"[Incomplete Response]");break}else if(en==ss){this.s=4,Rt(15),rs(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else rs(this.i,this.l,en,null),kn(this,en);if(as(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||ae.length!=0||this.h.h||(this.s=1,Rt(16),_=!1),this.o=this.o&&_,!_)rs(this.i,this.l,ae,"[Invalid Chunked Response]"),bn(this),On(this);else if(0<ae.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),_a(Qt),Qt.M=!0,Rt(11))}}else rs(this.i,this.l,ae,null),kn(this,ae);Bt==4&&bn(this),this.o&&!this.J&&(Bt==4?th(this.j,this):(this.o=!1,pt(this)))}else tm(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),bn(this),On(this)}}}catch{}finally{}};function as(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function os(h,y){var _=h.C,S=y.indexOf(`
`,_);return S==-1?la:(_=Number(y.substring(_,S)),isNaN(_)?ss:(S+=1,S+_>y.length?la:(y=y.slice(S,S+_),h.C=S+_,y)))}bi.prototype.cancel=function(){this.J=!0,bn(this)};function pt(h){h.S=Date.now()+h.I,Ll(h,h.I)}function Ll(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ns(A(h.ba,h),y)}function ho(h){h.B&&(d.clearTimeout(h.B),h.B=null)}bi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ai(this.i,this.A),this.L!=2&&(ts(),Rt(17)),bn(this),this.s=2,On(this)):Ll(this,this.S-h)};function On(h){h.j.G==0||h.J||th(h.j,h)}function bn(h){ho(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,ln(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function kn(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||ls(_.h,h))){if(!h.K&&ls(_.h,h)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)wo(_),To(_);else break e;Ql(_),Rt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=ns(A(_.Za,_),6e3));if(1>=Yc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else hr(_,11)}else if((h.K||_.g==h)&&wo(_),!W(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Fe=j[y];if(_.T=Fe[0],Fe=Fe[1],_.G==2)if(Fe[0]=="c"){_.K=Fe[1],_.ia=Fe[2];const Qt=Fe[3];Qt!=null&&(_.la=Qt,_.j.info("VER="+_.la));const Bt=Fe[4];Bt!=null&&(_.Aa=Bt,_.j.info("SVER="+_.Aa));const fr=Fe[5];fr!=null&&typeof fr=="number"&&0<fr&&(S=1.5*fr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const en=h.g;if(en){const Mi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mi){var K=S.h;K.g||Mi.indexOf("spdy")==-1&&Mi.indexOf("quic")==-1&&Mi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(us(K,K.h),K.h=null))}if(S.D){const Xl=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Xl&&(S.ya=Xl,Ke(S.I,S.D,Xl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ae=h;if(S.qa=ih(S,S.J?S.ia:null,S.W),ae.K){qn(S.h,ae);var He=ae,zt=S.L;zt&&(He.I=zt),He.B&&(ho(He),pt(He)),S.g=ae}else Jc(S);0<_.i.length&&Eo(_)}else Fe[0]!="stop"&&Fe[0]!="close"||hr(_,7);else _.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?hr(_,7):Wl(_):Fe[0]!="noop"&&_.l&&_.l.ta(Fe),_.v=0)}}ts(4)}catch{}}var $d=class{constructor(h,y){this.g=h,this.map=y}};function zl(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Yc(h){return h.h?1:h.g?h.g.size:0}function ls(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function us(h,y){h.g?h.g.add(y):h.h=y}function qn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}zl.prototype.cancel=function(){if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return z(h.i)}function Gc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],_=h.length,S=0;S<_;S++)y.push(h[S]);return y}y=[],_=0;for(S in h)y[_++]=h[S];return y}function Xd(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const S in h)y[_++]=S;return y}}}function ua(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Xd(h),S=Gc(h),j=S.length,K=0;K<j;K++)y.call(void 0,S[K],_&&_[K],h)}var jl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fo(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var S=h[_].indexOf("="),j=null;if(0<=S){var K=h[_].substring(0,S);j=h[_].substring(S+1)}else K=h[_];y(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ar(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ar){this.h=h.h,cs(this,h.j),this.o=h.o,this.g=h.g,ca(this,h.s),this.l=h.l;var y=h.i,_=new Ri;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),mo(this,_),this.m=h.m}else h&&(y=String(h).match(jl))?(this.h=!1,cs(this,y[1]||"",!0),this.o=hs(y[2]||""),this.g=hs(y[3]||"",!0),ca(this,y[4]),this.l=hs(y[5]||"",!0),mo(this,y[6]||"",!0),this.m=hs(y[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}ar.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Yn(y,Hl,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Yn(y,Hl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Yn(_,_.charAt(0)=="/"?Fl:Wc,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Yn(_,em)),h.join("")};function Et(h){return new ar(h)}function cs(h,y,_){h.j=_?hs(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ca(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function mo(h,y,_){y instanceof Ri?(h.i=y,ql(h.i,h.h)):(_||(y=Yn(y,Jd)),h.i=new Ri(y,h.h))}function Ke(h,y,_){h.i.set(y,_)}function ha(h){return Ke(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function hs(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yn(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,Zd),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Zd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Hl=/[#\/\?@]/g,Wc=/[#\?:]/g,Fl=/[#\?]/g,Jd=/[#\?@]/g,em=/#/g;function Ri(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Gn(h){h.g||(h.g=new Map,h.h=0,h.i&&fo(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}t=Ri.prototype,t.add=function(h,y){Gn(this),this.i=null,h=ur(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function po(h,y){Gn(h),y=ur(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function or(h,y){return Gn(h),y=ur(h,y),h.g.has(y)}t.forEach=function(h,y){Gn(this),this.g.forEach(function(_,S){_.forEach(function(j){h.call(y,j,S,this)},this)},this)},t.na=function(){Gn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const j=h[S];for(let K=0;K<j.length;K++)_.push(y[S])}return _},t.V=function(h){Gn(this);let y=[];if(typeof h=="string")or(this,h)&&(y=y.concat(this.g.get(ur(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},t.set=function(h,y){return Gn(this),this.i=null,h=ur(this,h),or(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function lr(h,y,_){po(h,y),0<_.length&&(h.i=null,h.g.set(ur(h,y),z(_)),h.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const K=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var j=K;ae[S]!==""&&(j+="="+encodeURIComponent(String(ae[S]))),h.push(j)}}return this.i=h.join("&")};function ur(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function ql(h,y){y&&!h.j&&(Gn(h),h.i=null,h.g.forEach(function(_,S){var j=S.toLowerCase();S!=j&&(po(this,S),lr(this,j,_))},h)),h.j=y}function Kc(h,y){const _=new is;if(d.Image){const S=new Image;S.onload=C(Wn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=C(Wn,_,"TestLoadImage: error",!1,y,S),S.onabort=C(Wn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=C(Wn,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function fa(h,y){const _=new is,S=new AbortController,j=setTimeout(()=>{S.abort(),Wn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(K=>{clearTimeout(j),K.ok?Wn(_,"TestPingServer: ok",!0,y):Wn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Wn(_,"TestPingServer: error",!1,y)})}function Wn(h,y,_,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(_)}catch{}}function da(){this.g=new _n}function Ii(h,y,_){const S=_||"";try{ua(h,function(j,K){let ae=j;g(j)&&(ae=xl(j)),y.push(S+K+"="+encodeURIComponent(ae))})}catch(j){throw y.push(S+"type="+encodeURIComponent("_badmap")),j}}function fs(h){this.l=h.Ub||null,this.j=h.eb||!1}M(fs,Pl),fs.prototype.g=function(){return new cr(this.l,this.j)},fs.prototype.i=function(h){return function(){return h}}({});function cr(h,y){Ut.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(cr,Ut),t=cr.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Di(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Ci(this):Di(this),this.readyState==3&&Yl(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ci(this))},t.Qa=function(h){this.g&&(this.response=h,Ci(this))},t.ga=function(){this.g&&Ci(this)};function Ci(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Di(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function Di(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Gl(h){let y="";return me(h,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Kt(h,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Gl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Ke(h,y,_))}function tt(h){Ut.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(tt,Ut);var go=/^https?$/i,ma=["POST","PUT"];t=tt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oa.g(),this.v=this.o?Bc(this.o):Bc(oa),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){Qc(this,K);return}if(h=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)_.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),j=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ma,y,void 0))||S||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of _)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pa(this),this.u=!0,this.g.send(h),this.u=!1}catch(K){Qc(this,K)}};function Qc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,yo(h),Oi(h)}function yo(h){h.A||(h.A=!0,Gt(h,"complete"),Gt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Gt(this,"complete"),Gt(this,"abort"),Oi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_o(this):this.bb())},t.bb=function(){_o(this)};function _o(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Kn(h)!=4||h.Z()!=2)){if(h.u&&Kn(h)==4)zc(h.Ea,0,h);else if(Gt(h,"readystatechange"),Kn(h)==4){h.h=!1;try{const ae=h.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=ae===0){var j=String(h.D).match(jl)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),S=!go.test(j?j.toLowerCase():"")}_=S}if(_)Gt(h,"complete"),Gt(h,"success");else{h.m=6;try{var K=2<Kn(h)?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.Z()+"]",yo(h)}}finally{Oi(h)}}}}function Oi(h,y){if(h.g){pa(h);const _=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Gt(h,"ready");try{_.onreadystatechange=S}catch{}}}function pa(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Kn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),wi(y)}};function $c(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function tm(h){const y={};h=(h.g&&2<=Kn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(W(h[S]))continue;var _=N(h[S]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[j]||[];y[j]=K,K.push(_)}k(y,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ga(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function vo(h){this.Aa=0,this.i=[],this.j=new is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ga("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ga("baseRetryDelayMs",5e3,h),this.cb=ga("retryDelaySeedMs",1e4,h),this.Wa=ga("forwardChannelMaxRetries",2,h),this.wa=ga("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new zl(h&&h.concurrentRequestLimit),this.Da=new da,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vo.prototype,t.la=8,t.G=1,t.connect=function(h,y,_,S){Rt(0),this.W=h,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ih(this,null,this.W),Eo(this)};function Wl(h){if(Xc(h),h.G==3){var y=h.U++,_=Et(h.I);if(Ke(_,"SID",h.K),Ke(_,"RID",y),Ke(_,"TYPE","terminate"),ya(h,_),y=new bi(h,h.j,y),y.L=2,y.v=ha(Et(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=rh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),pt(y)}nh(h)}function To(h){h.g&&(_a(h),h.g.cancel(),h.g=null)}function Xc(h){To(h),h.u&&(d.clearTimeout(h.u),h.u=null),wo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Eo(h){if(!Bl(h.h)&&!h.s){h.s=!0;var y=h.Ga;we||x(),ge||(we(),ge=!0),et.add(y,h),h.B=0}}function nm(h,y){return Yc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ns(A(h.Ga,h,y),$l(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const j=new bi(this,this.j,h);let K=this.o;if(this.S&&(K?(K=R(K),D(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Zc(this,j,y),_=Et(this.I),Ke(_,"RID",h),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),ya(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Gl(K)))+"&"+y:this.m&&Kt(_,this.m,K)),us(this.h,j),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",y),Ke(_,"SID","null"),j.T=!0,ci(j,_,null)):ci(j,_,y),this.G=2}}else this.G==3&&(h?Kl(this,h):this.i.length==0||Bl(this.h)||Kl(this))};function Kl(h,y){var _;y?_=y.l:_=h.U++;const S=Et(h.I);Ke(S,"SID",h.K),Ke(S,"RID",_),Ke(S,"AID",h.T),ya(h,S),h.m&&h.o&&Kt(S,h.m,h.o),_=new bi(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Zc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),us(h.h,_),ci(_,S,y)}function ya(h,y){h.H&&me(h.H,function(_,S){Ke(y,S,_)}),h.l&&ua({},function(_,S){Ke(y,S,_)})}function Zc(h,y,_){_=Math.min(h.i.length,_);var S=h.l?A(h.l.Na,h.l,h):null;e:{var j=h.i;let K=-1;for(;;){const ae=["count="+_];K==-1?0<_?(K=j[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let He=!0;for(let zt=0;zt<_;zt++){let Fe=j[zt].g;const Qt=j[zt].map;if(Fe-=K,0>Fe)K=Math.max(0,j[zt].g-100),He=!1;else try{Ii(Qt,ae,"req"+Fe+"_")}catch{S&&S(Qt)}}if(He){S=ae.join("&");break e}}}return h=h.i.splice(0,_),y.D=h,S}function Jc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;we||x(),ge||(we(),ge=!0),et.add(y,h),h.v=0}}function Ql(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ns(A(h.Fa,h),$l(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ns(A(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),To(this),eh(this))};function _a(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function eh(h){h.g=new bi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Et(h.qa);Ke(y,"RID","rpc"),Ke(y,"SID",h.K),Ke(y,"AID",h.T),Ke(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ke(y,"TO",h.ja),Ke(y,"TYPE","xmlhttp"),ya(h,y),h.m&&h.o&&Kt(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=ha(Et(y)),_.m=null,_.P=!0,sr(_,h)}t.Za=function(){this.C!=null&&(this.C=null,To(this),Ql(this),Rt(19))};function wo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function th(h,y){var _=null;if(h.g==y){wo(h),_a(h),h.g=null;var S=2}else if(ls(h.h,y))_=y.D,qn(h.h,y),S=1;else return;if(h.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=h.B;S=lo(),Gt(S,new Hc(S,_)),Eo(h)}else Jc(h);else if(j=y.s,j==3||j==0&&0<y.X||!(S==1&&nm(h,y)||S==2&&Ql(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),j){case 1:hr(h,5);break;case 4:hr(h,10);break;case 3:hr(h,6);break;default:hr(h,2)}}}function $l(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function hr(h,y){if(h.j.info("Error code "+y),y==2){var _=A(h.fb,h),S=h.Xa;const j=!S;S=new ar(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||cs(S,"https"),ha(S),j?Kc(S.toString(),_):fa(S.toString(),_)}else Rt(2);h.G=0,h.l&&h.l.sa(y),nh(h),Xc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function nh(h){if(h.G=0,h.ka=[],h.l){const y=vn(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ka,y),P(h.ka,h.i),h.h.i.length=0,z(h.i),h.i.length=0),h.l.ra()}}function ih(h,y,_){var S=_ instanceof ar?Et(_):new ar(_);if(S.g!="")y&&(S.g=y+"."+S.g),ca(S,S.s);else{var j=d.location;S=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var K=new ar(null);S&&cs(K,S),y&&(K.g=y),j&&ca(K,j),_&&(K.l=_),S=K}return _=h.D,y=h.ya,_&&y&&Ke(S,_,y),Ke(S,"VER",h.la),ya(h,S),S}function rh(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new tt(new fs({eb:_})):new tt(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sh(){}t=sh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function So(){}So.prototype.g=function(h,y){return new Tn(h,y)};function Tn(h,y){Ut.call(this),this.g=new vo(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!W(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ki(this)}M(Tn,Ut),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Wl(this.g)},Tn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=xl(h),h=_);y.i.push(new $d(y.Ya++,h)),y.G==3&&Eo(y)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,Tn.aa.N.call(this)};function ah(h){Jr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}M(ah,Jr);function oh(){ui.call(this),this.status=1}M(oh,ui);function ki(h){this.g=h}M(ki,sh),ki.prototype.ua=function(){Gt(this.g,"a")},ki.prototype.ta=function(h){Gt(this.g,new ah(h))},ki.prototype.sa=function(h){Gt(this.g,new oh)},ki.prototype.ra=function(){Gt(this.g,"b")},So.prototype.createWebChannel=So.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,ZS=function(){return new So},XS=function(){return lo()},$S=Fn,Cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lt.NO_ERROR=0,Lt.TIMEOUT=8,Lt.HTTP_ERROR=6,Sf=Lt,rr.COMPLETE="complete",QS=rr,jc.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",Ut.prototype.listen=Ut.prototype.K,qu=jc,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,KS=tt}).apply(typeof lf<"u"?lf:typeof self<"u"?self:typeof window<"u"?window:{});const SE="@firebase/firestore",AE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new cy("@firebase/firestore");function Xo(){return Ga.logLevel}function he(t,...e){if(Ga.logLevel<=Ve.DEBUG){const n=e.map(wy);Ga.debug(`Firestore (${wl}): ${t}`,...n)}}function Fr(t,...e){if(Ga.logLevel<=Ve.ERROR){const n=e.map(wy);Ga.error(`Firestore (${wl}): ${t}`,...n)}}function hl(t,...e){if(Ga.logLevel<=Ve.WARN){const n=e.map(wy);Ga.warn(`Firestore (${wl}): ${t}`,...n)}}function wy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: `+t;throw Fr(e),new Error(e)}function nt(t,e){t||be()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class xk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Pk{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0);let r=this.i;const a=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let l=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ur,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ur)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string"),new JS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new fn(e)}}class Vk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Uk{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Vk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lk{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Un(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0);const r=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new bE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string"),this.R=n.token,new bE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=zk(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function fl(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=-62135596800,IE=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*IE);return new qt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<RE)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IE}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-RE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new qt(0,0))}static max(){return new Re(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="__name__";class Li{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Li.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Li.isNumericId(e),a=Li.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Li.extractNumericId(e).compare(Li.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qs.fromString(e.substring(4,e.length-2))}}class ct extends Li{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const Bk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Li{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return Bk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CE}static keyField(){return new an([CE])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ct.fromString(e))}static fromName(e){return new Ee(ct.fromString(e).popFirst(5))}static empty(){return new Ee(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=-1;function jk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(r===1e9?new qt(n+1,0):new qt(n,r));return new Qs(a,Ee.empty(),e)}function Hk(t){return new Qs(t.readTime,t.key,rc)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(Re.min(),Ee.empty(),rc)}static max(){return new Qs(Re.max(),Ee.empty(),rc)}}function Fk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==qk)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&n()},p=>r(p))}),c=!0,l===a&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(a=>a?Z.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next(T=>{c[g]=T,++d,d===l&&r(c)},T=>a(T))}})}static doWhile(e,n){return new Z((r,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):r()};l()})}}function Gk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}pd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=-1;function gd(t){return t==null}function jf(t){return t===0&&1/t==-1/0}function Wk(t){return typeof t=="number"&&Number.isInteger(t)&&!jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="";function Kk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=DE(e)),e=Qk(t.get(n),e);return DE(e)}function Qk(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case tA:n+="";break;default:n+=l}}return n}function DE(t){return t+tA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??sn.RED,this.left=a??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new sn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return sn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,a,l){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kE(this.data.getIterator())}getIteratorFrom(e){return new kE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class kE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Yt(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new iA("Invalid base64 string: "+l):l}}(e);return new on(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const $k=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(t){if(nt(!!t),typeof t=="string"){let e=0;const n=$k.exec(t);if(nt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xs(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="server_timestamp",sA="__type__",aA="__previous_value__",oA="__local_write_time__";function Ay(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[sA])===null||n===void 0?void 0:n.stringValue)===rA}function yd(t){const e=t.mapValue.fields[aA];return Ay(e)?yd(e):e}function sc(t){const e=$s(t.mapValue.fields[oA].timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n,r,a,l,c,d,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Hf="(default)";class ac{constructor(e,n){this.projectId=e,this.database=n||Hf}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database===Hf}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="__type__",Zk="__max__",cf={mapValue:{}},uA="__vector__",Ff="value";function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ay(t)?4:eM(t)?9007199254740991:Jk(t)?10:11:be()}function Wi(t,e){if(t===e)return!0;const n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sc(t).isEqual(sc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=$s(a.timestampValue),d=$s(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Xs(a.bytesValue).isEqual(Xs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Dt(a.geoPointValue.latitude)===Dt(l.geoPointValue.latitude)&&Dt(a.geoPointValue.longitude)===Dt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Dt(a.integerValue)===Dt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Dt(a.doubleValue),d=Dt(l.doubleValue);return c===d?jf(c)===jf(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(OE(c)!==OE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Wi(c[p],d[p])))return!1;return!0}(t,e);default:return be()}}function oc(t,e){return(t.values||[]).find(n=>Wi(n,e))!==void 0}function dl(t,e){if(t===e)return 0;const n=Zs(t),r=Zs(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Dt(l.integerValue||l.doubleValue),p=Dt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(t,e);case 3:return ME(t.timestampValue,e.timestampValue);case 4:return ME(sc(t),sc(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(l,c){const d=Xs(l),p=Xs(c);return d.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const T=je(d[g],p[g]);if(T!==0)return T}return je(d.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=je(Dt(l.latitude),Dt(c.latitude));return d!==0?d:je(Dt(l.longitude),Dt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return NE(t.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,g,T;const E=l.fields||{},A=c.fields||{},C=(d=E[Ff])===null||d===void 0?void 0:d.arrayValue,M=(p=A[Ff])===null||p===void 0?void 0:p.arrayValue,z=je(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((T=M==null?void 0:M.values)===null||T===void 0?void 0:T.length)||0);return z!==0?z:NE(C,M)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===cf.mapValue&&c===cf.mapValue)return 0;if(l===cf.mapValue)return 1;if(c===cf.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let E=0;E<p.length&&E<T.length;++E){const A=je(p[E],T[E]);if(A!==0)return A;const C=dl(d[p[E]],g[T[E]]);if(C!==0)return C}return je(p.length,T.length)}(t.mapValue,e.mapValue);default:throw be()}}function ME(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=$s(t),r=$s(e),a=je(n.seconds,r.seconds);return a!==0?a:je(n.nanos,r.nanos)}function NE(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=dl(n[a],r[a]);if(l)return l}return je(n.length,r.length)}function ml(t){return Dg(t)}function Dg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$s(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Dg(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Dg(n.fields[c])}`;return a+"}"}(t.mapValue):be()}function Af(t){switch(Zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yd(t);return e?16+Af(e):16;case 5:return 2*t.stringValue.length;case 6:return Xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+Af(l),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return ia(r.fields,(l,c)=>{a+=l.length+Af(c)}),a}(t.mapValue);default:throw be()}}function xE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Og(t){return!!t&&"integerValue"in t}function by(t){return!!t&&"arrayValue"in t}function PE(t){return!!t&&"nullValue"in t}function VE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bf(t){return!!t&&"mapValue"in t}function Jk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[lA])===null||n===void 0?void 0:n.stringValue)===uA}function Qu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ia(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Zk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qu(n)}setAll(e){let n=an.emptyPath(),r={},a=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=Qu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());bf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];bf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ia(n,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new Dn(Qu(this.value))}}function cA(t){const e=[];return ia(t.fields,(n,r)=>{const a=new an([n]);if(bf(r)){const l=cA(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,a,l,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,Re.min(),Re.min(),Re.min(),Dn.empty(),0)}static newFoundDocument(e,n,r,a){return new dn(e,1,n,Re.min(),r,a,0)}static newNoDocument(e,n){return new dn(e,2,n,Re.min(),Re.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Re.min(),Re.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this.position=e,this.inclusive=n}}function UE(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?r=Ee.comparator(Ee.fromName(c.referenceValue),n.key):r=dl(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function LE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n="asc"){this.field=e,this.dir=n}}function tM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{}class Pt extends hA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iM(e,n,r):n==="array-contains"?new aM(e,r):n==="in"?new oM(e,r):n==="not-in"?new lM(e,r):n==="array-contains-any"?new uM(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rM(e,r):new sM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(dl(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.matchesComparison(dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends hA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new _i(e,n)}matches(e){return fA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function fA(t){return t.op==="and"}function dA(t){return nM(t)&&fA(t)}function nM(t){for(const e of t.filters)if(e instanceof _i)return!1;return!0}function kg(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+ml(t.value);if(dA(t))return t.filters.map(e=>kg(e)).join(",");{const e=t.filters.map(n=>kg(n)).join(",");return`${t.op}(${e})`}}function mA(t,e){return t instanceof Pt?function(r,a){return a instanceof Pt&&r.op===a.op&&r.field.isEqual(a.field)&&Wi(r.value,a.value)}(t,e):t instanceof _i?function(r,a){return a instanceof _i&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,d)=>l&&mA(c,a.filters[d]),!0):!1}(t,e):void be()}function pA(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${ml(n.value)}`}(t):t instanceof _i?function(n){return n.op.toString()+" {"+n.getFilters().map(pA).join(" ,")+"}"}(t):"Filter"}class iM extends Pt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class rM extends Pt{constructor(e,n){super(e,"in",n),this.keys=gA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sM extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=gA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class aM extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return by(n)&&oc(n.arrayValue,this.value)}}class oM extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}}class lM extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!oc(this.value.arrayValue,n)}}class uM extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!by(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n=null,r=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function zE(t,e=null,n=[],r=[],a=null,l=null,c=null){return new cM(t,e,n,r,a,l,c)}function Ry(t){const e=Ce(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ml(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ml(r)).join(",")),e.le=n}return e.le}function Iy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LE(t.startAt,e.startAt)&&LE(t.endAt,e.endAt)}function Mg(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n=null,r=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function hM(t,e,n,r,a,l,c,d){return new Rc(t,e,n,r,a,l,c,d)}function _d(t){return new Rc(t)}function BE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yA(t){return t.collectionGroup!==null}function $u(t){const e=Ce(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Yt(an.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new Yf(l,r))}),n.has(an.keyField().canonicalString())||e.he.push(new Yf(an.keyField(),r))}return e.he}function Fi(t){const e=Ce(t);return e.Pe||(e.Pe=fM(e,$u(t))),e.Pe}function fM(t,e){if(t.limitType==="F")return zE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Yf(a.field,l)});const n=t.endAt?new qf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qf(t.startAt.position,t.startAt.inclusive):null;return zE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ng(t,e){const n=t.filters.concat([e]);return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xg(t,e,n){return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vd(t,e){return Iy(Fi(t),Fi(e))&&t.limitType===e.limitType}function _A(t){return`${Ry(Fi(t))}|lt:${t.limitType}`}function Zo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>pA(a)).join(", ")}]`),gd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>ml(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>ml(a)).join(",")),`Target(${r})`}(Fi(t))}; limitType=${t.limitType})`}function Td(t,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ee.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,a){for(const l of $u(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(c,d,p){const g=UE(c,d,p);return c.inclusive?g<=0:g<0}(r.startAt,$u(r),a)||r.endAt&&!function(c,d,p){const g=UE(c,d,p);return c.inclusive?g>=0:g>0}(r.endAt,$u(r),a))}(t,e)}function dM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vA(t){return(e,n)=>{let r=!1;for(const a of $u(t)){const l=mM(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function mM(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?dl(p,g):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,(n,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return nA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new vt(Ee.comparator);function qr(){return pM}const TA=new vt(Ee.comparator);function Yu(...t){let e=TA;for(const n of t)e=e.insert(n.key,n);return e}function EA(t){let e=TA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function za(){return Xu()}function wA(){return Xu()}function Xu(){return new eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const gM=new vt(Ee.comparator),yM=new Yt(Ee.comparator);function Ue(...t){let e=yM;for(const n of t)e=e.add(n);return e}const _M=new Yt(je);function vM(){return _M}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(e)?"-0":e}}function SA(t){return{integerValue:""+t}}function TM(t,e){return Wk(e)?SA(e):Cy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this._=void 0}}function EM(t,e,n){return t instanceof lc?function(a,l){const c={fields:{[sA]:{stringValue:rA},[oA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ay(l)&&(l=yd(l)),l&&(c.fields[aA]=l),{mapValue:c}}(n,e):t instanceof pl?bA(t,e):t instanceof uc?RA(t,e):function(a,l){const c=AA(a,l),d=jE(c)+jE(a.Ie);return Og(c)&&Og(a.Ie)?SA(d):Cy(a.serializer,d)}(t,e)}function wM(t,e,n){return t instanceof pl?bA(t,e):t instanceof uc?RA(t,e):n}function AA(t,e){return t instanceof Gf?function(r){return Og(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class lc extends Ed{}class pl extends Ed{constructor(e){super(),this.elements=e}}function bA(t,e){const n=IA(e);for(const r of t.elements)n.some(a=>Wi(a,r))||n.push(r);return{arrayValue:{values:n}}}class uc extends Ed{constructor(e){super(),this.elements=e}}function RA(t,e){let n=IA(e);for(const r of t.elements)n=n.filter(a=>!Wi(a,r));return{arrayValue:{values:n}}}class Gf extends Ed{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function jE(t){return Dt(t.integerValue||t.doubleValue)}function IA(t){return by(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this.field=e,this.transform=n}}function SM(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof pl&&a instanceof pl||r instanceof uc&&a instanceof uc?fl(r.elements,a.elements,Wi):r instanceof Gf&&a instanceof Gf?Wi(r.Ie,a.Ie):r instanceof lc&&a instanceof lc}(t.transform,e.transform)}class AM{constructor(e,n){this.version=e,this.transformResults=n}}class qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wd{}function DA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kA(t.key,qi.none()):new Ic(t.key,t.data,qi.none());{const n=t.data,r=Dn.empty();let a=new Yt(an.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new ra(t.key,r,new Ln(a.toArray()),qi.none())}}function bM(t,e,n){t instanceof Ic?function(a,l,c){const d=a.value.clone(),p=FE(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof ra?function(a,l,c){if(!Rf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=FE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(OA(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Zu(t,e,n,r){return t instanceof Ic?function(l,c,d,p){if(!Rf(l.precondition,c))return d;const g=l.value.clone(),T=qE(l.fieldTransforms,p,c);return g.setAll(T),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,r):t instanceof ra?function(l,c,d,p){if(!Rf(l.precondition,c))return d;const g=qE(l.fieldTransforms,p,c),T=c.data;return T.setAll(OA(l)),T.setAll(g),c.convertToFoundDocument(c.version,T).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(t,e,n,r):function(l,c,d){return Rf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function RM(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=AA(r.transform,a||null);l!=null&&(n===null&&(n=Dn.empty()),n.set(r.field,l))}return n||null}function HE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&fl(r,a,(l,c)=>SM(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ic extends wd{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ra extends wd{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function OA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function FE(t,e,n){const r=new Map;nt(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);r.set(l.field,wM(c,d,n[a]))}return r}function qE(t,e,n){const r=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);r.set(a.field,EM(l,c,e))}return r}class kA extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IM extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&bM(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wA();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const p=DA(c,d);p!==null&&r.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(n,r)=>HE(n,r))&&fl(this.baseMutations,e.baseMutations,(n,r)=>HE(n,r))}}class Dy{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){nt(e.mutations.length===r.length);let a=function(){return gM}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Dy(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ye;function kM(t){switch(t){case J.OK:return be();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return be()}}function MA(t){if(t===void 0)return Fr("GRPC error has no .code"),J.UNKNOWN;switch(t){case xt.OK:return J.OK;case xt.CANCELLED:return J.CANCELLED;case xt.UNKNOWN:return J.UNKNOWN;case xt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xt.INTERNAL:return J.INTERNAL;case xt.UNAVAILABLE:return J.UNAVAILABLE;case xt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xt.NOT_FOUND:return J.NOT_FOUND;case xt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xt.ABORTED:return J.ABORTED;case xt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xt.DATA_LOSS:return J.DATA_LOSS;default:return be()}}(Ye=xt||(xt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new qs([4294967295,4294967295],0);function YE(t){const e=MM().encode(t),n=new WS;return n.update(e),new Uint8Array(n.digest())}function GE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new qs([n,r],0),new qs([a,l],0)]}class Oy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gu(`Invalid padding: ${n}`);if(r<0)throw new Gu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=qs.fromNumber(this.Ee)}Ae(e,n,r){let a=e.add(n.multiply(qs.fromNumber(r)));return a.compare(NM)===1&&(a=new qs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=YE(e),[r,a]=GE(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);if(!this.Re(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Oy(l,a,n);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const n=YE(e),[r,a]=GE(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sd(Re.min(),a,new vt(je),qr(),Ue())}}class Cc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cc(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,r,a){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=a}}class NA{constructor(e,n){this.targetId=e,this.ge=n}}class xA{constructor(e,n,r=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class WE{constructor(){this.pe=0,this.ye=KE(),this.we=on.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ue(),n=Ue(),r=Ue();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:be()}}),new Cc(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=KE()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,nt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class xM{constructor(e){this.ke=e,this.qe=new Map,this.Qe=qr(),this.$e=hf(),this.Ke=hf(),this.Ue=new vt(je)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,r=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(Mg(l))if(r===0){const c=new Ee(l.path);this.ze(n,c,dn.newNoDocument(c,Re.min()))}else nt(r===1);else{const c=this.et(n);if(c!==r){const d=this.tt(e),p=d?this.nt(d,e,c):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Xs(r).toUint8Array()}catch(p){if(p instanceof iA)return hl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Oy(c,a,l)}catch(p){return hl(p instanceof Gu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Mg(d.target)){const p=new Ee(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,dn.newNoDocument(p,e))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let r=Ue();this.Ke.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new Sd(e,n,this.Ue,this.Qe,r);return this.Qe=qr(),this.$e=hf(),this.Ke=hf(),this.Ue=new vt(je),a}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new WE,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Yt(je),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Yt(je),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new WE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function hf(){return new vt(Ee.comparator)}function KE(){return new vt(Ee.comparator)}const PM={asc:"ASCENDING",desc:"DESCENDING"},VM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UM={and:"AND",or:"OR"};class LM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pg(t,e){return t.useProto3Json||gd(e)?e:{value:e}}function Wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zM(t,e){return Wf(t,e.toTimestamp())}function Yi(t){return nt(!!t),Re.fromTimestamp(function(n){const r=$s(n);return new qt(r.seconds,r.nanos)}(t))}function ky(t,e){return Vg(t,e).canonicalString()}function Vg(t,e){const n=function(a){return new ct(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VA(t){const e=ct.fromString(t);return nt(jA(e)),e}function Ug(t,e){return ky(t.databaseId,e.path)}function og(t,e){const n=VA(e);if(n.get(1)!==t.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(LA(n))}function UA(t,e){return ky(t.databaseId,e)}function BM(t){const e=VA(t);return e.length===4?ct.emptyPath():LA(e)}function Lg(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LA(t){return nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function QE(t,e,n){return{name:Ug(t,e),fields:n.value.mapValue.fields}}function jM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,T){return g.useProto3Json?(nt(T===void 0||typeof T=="string"),on.fromBase64String(T||"")):(nt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),on.fromUint8Array(T||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const T=g.code===void 0?J.UNKNOWN:MA(g.code);return new de(T,g.message||"")}(c);n=new xA(r,a,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=og(t,r.document.name),l=Yi(r.document.updateTime),c=r.document.createTime?Yi(r.document.createTime):Re.min(),d=new Dn({mapValue:{fields:r.document.fields}}),p=dn.newFoundDocument(a,l,c,d),g=r.targetIds||[],T=r.removedTargetIds||[];n=new If(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=og(t,r.document),l=r.readTime?Yi(r.readTime):Re.min(),c=dn.newNoDocument(a,l),d=r.removedTargetIds||[];n=new If([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=og(t,r.document),l=r.removedTargetIds||[];n=new If([],l,a,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new OM(a,l),d=r.targetId;n=new NA(d,c)}}return n}function HM(t,e){let n;if(e instanceof Ic)n={update:QE(t,e.key,e.value)};else if(e instanceof kA)n={delete:Ug(t,e.key)};else if(e instanceof ra)n={update:QE(t,e.key,e.data),updateMask:XM(e.fieldMask)};else{if(!(e instanceof IM))return be();n={verify:Ug(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const d=c.transform;if(d instanceof lc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof pl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof uc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Gf)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:zM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be()}(t,e.precondition)),n}function FM(t,e){return t&&t.length>0?(nt(e!==void 0),t.map(n=>function(a,l){let c=a.updateTime?Yi(a.updateTime):Yi(l);return c.isEqual(Re.min())&&(c=Yi(l)),new AM(c,a.transformResults||[])}(n,e))):[]}function qM(t,e){return{documents:[UA(t,e.path)]}}function YM(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UA(t,a);const l=function(g){if(g.length!==0)return BA(_i.create(g,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(T=>function(A){return{field:Jo(A.field),direction:KM(A.dir)}}(T))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Pg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:a}}function GM(t){let e=BM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){nt(r===1);const T=n.from[0];T.allDescendants?a=T.collectionId:e=e.child(T.collectionId)}let l=[];n.where&&(l=function(E){const A=zA(E);return A instanceof _i&&dA(A)?A.getFilters():[A]}(n.where));let c=[];n.orderBy&&(c=function(E){return E.map(A=>function(M){return new Yf(el(M.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(A))}(n.orderBy));let d=null;n.limit&&(d=function(E){let A;return A=typeof E=="object"?E.value:E,gd(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(E){const A=!!E.before,C=E.values||[];return new qf(C,A)}(n.startAt));let g=null;return n.endAt&&(g=function(E){const A=!E.before,C=E.values||[];return new qf(C,A)}(n.endAt)),hM(e,a,c,l,d,"F",p,g)}function WM(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=el(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=el(n.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=el(n.unaryFilter.field);return Pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=el(n.unaryFilter.field);return Pt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(el(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _i.create(n.compositeFilter.filters.map(r=>zA(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function KM(t){return PM[t]}function QM(t){return VM[t]}function $M(t){return UM[t]}function Jo(t){return{fieldPath:t.canonicalString()}}function el(t){return an.fromServerFormat(t.fieldPath)}function BA(t){return t instanceof Pt?function(n){if(n.op==="=="){if(VE(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(PE(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VE(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(PE(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:QM(n.op),value:n.value}}}(t):t instanceof _i?function(n){const r=n.getFilters().map(a=>BA(a));return r.length===1?r[0]:{compositeFilter:{op:$M(n.op),filters:r}}}(t):be()}function XM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r,a,l=Re.min(),c=Re.min(),d=on.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.Tt=e}}function JM(t){const e=GM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.Tn=new tN}addToCollectionParentIndex(e,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Qs.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class tN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Yt(ct.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Yt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HA=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(HA,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new gl(0)}static Un(){return new gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="LruGarbageCollector",nN=1048576;function ZE([t,e],[n,r]){const a=je(t,n);return a===0?je(e,r):a}class iN{constructor(e){this.Hn=e,this.buffer=new Yt(ZE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ZE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(XE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Al(n)?he(XE,"Ignoring IndexedDB error during garbage collection: ",n):await Sl(n)}await this.er(3e5)})}}class sN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(pd.ae);const r=new iN(n);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve($E)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$E):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,a,l,c,d,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a))).next(E=>(r=E,d=Date.now(),this.removeTargets(e,r,n))).next(E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(g=Date.now(),Xo()<=Ve.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-T}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function aN(t,e){return new sN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.changes=new eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Zu(r.mutation,a,Ln.empty(),qt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const a=za();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(l=>{let c=Yu();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=za();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,r,a){let l=qr();const c=Xu(),d=function(){return Xu()}();return n.forEach((p,g)=>{const T=r.get(g.key);a.has(g.key)&&(T===void 0||T.mutation instanceof ra)?l=l.insert(g.key,g):T!==void 0?(c.set(g.key,T.mutation.getFieldMask()),Zu(T.mutation,g,T.mutation.getFieldMask(),qt.now())):c.set(g.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,T)=>c.set(g,T)),n.forEach((g,T)=>{var E;return d.set(g,new lN(T,(E=c.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,n){const r=Xu();let a=new vt((c,d)=>c-d),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let T=r.get(p)||Ln.empty();T=d.applyToLocalView(g,T),r.set(p,T);const E=(a.get(d.batchId)||Ue()).add(p);a=a.insert(d.batchId,E)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,T=p.value,E=wA();T.forEach(A=>{if(!l.has(A)){const C=DA(n.get(A),r.get(A));C!==null&&E.set(A,C),l=l.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return Z.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):Z.resolve(za());let d=rc,p=l;return c.next(g=>Z.forEach(g,(T,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next(A=>{p=p.insert(T,A)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Ue())).next(T=>({batchId:d,changes:EA(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let a=Yu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let c=Yu();return this.indexManager.getCollectionParents(e,l).next(d=>Z.forEach(d,p=>{const g=function(E,A){return new Rc(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next(T=>{T.forEach((E,A)=>{c=c.insert(E,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a))).next(c=>{l.forEach((p,g)=>{const T=g.getKey();c.get(T)===null&&(c=c.insert(T,dn.newInvalidDocument(T)))});let d=Yu();return c.forEach((p,g)=>{const T=l.get(p);T!==void 0&&Zu(T.mutation,g,Ln.empty(),qt.now()),Td(n,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Yi(a.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:JM(a.bundledQuery),readTime:Yi(a.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.overlays=new vt(Ee.comparator),this.Rr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=za();return Z.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,l)=>{this.Et(e,n,l)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const a=za(),l=n.length+1,c=new Ee(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>r&&a.set(p.getKey(),p)}return Z.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new vt((g,T)=>g-T);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let T=l.get(g.largestBatchId);T===null&&(T=za(),l=l.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const d=za(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>d.set(g,T)),!(d.size()>=a)););return Z.resolve(d)}Et(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new DM(n,r));let l=this.Rr.get(n);l===void 0&&(l=Ue(),this.Rr.set(n,l)),this.Rr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.Vr=new Yt(Jt.mr),this.gr=new Yt(Jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Jt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Jt(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new Ee(new ct([])),r=new Jt(n,e),a=new Jt(n,e+1),l=[];return this.gr.forEachInRange([r,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ee(new ct([])),r=new Jt(n,e),a=new Jt(n,e+1);let l=Ue();return this.gr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new Jt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ee.comparator(e.key,n.key)||je(e.Cr,n.Cr)}static pr(e,n){return je(e.Cr,n.Cr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Yt(Jt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new CM(l,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new Jt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(e,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Nr(r),l=a<0?0:a;return Z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Sy:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jt(n,0),a=new Jt(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,a],c=>{const d=this.Or(c.Cr);l.push(d)}),Z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(je);return n.forEach(a=>{const l=new Jt(a,0),c=new Jt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{r=r.add(d.Cr)})}),Z.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;Ee.isDocumentKey(l)||(l=l.child(""));const c=new Jt(new Ee(l),0);let d=new Yt(je);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Cr)),!0)},c),Z.resolve(this.Br(d))}Br(e){const n=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){nt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Z.forEach(n.mutations,a=>{const l=new Jt(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Jt(n,0),a=this.Mr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.kr=e,this.docs=function(){return new vt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=qr();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():dn.newInvalidDocument(a))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=qr();const c=n.path,d=new Ee(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Fk(Hk(T),r)<=0||(a.has(T.key)||Td(n,T))&&(l=l.insert(T.key,T.mutableCopy()))}return Z.resolve(l)}getAllFromCollectionGroup(e,n,r,a){be()}qr(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pN(this)}getSize(e){return Z.resolve(this.size)}}class pN extends oN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.persistence=e,this.Qr=new eo(n=>Ry(n),Iy),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Kr=new My,this.targetCount=0,this.Ur=gl.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,a)=>n(a)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),Z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.zn(n),Z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),Z.waitFor(l).next(()=>a)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),Z.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new pd(0),this.zr=!1,this.zr=!0,this.jr=new fN,this.referenceDelegate=e(this),this.Hr=new gN(this),this.indexManager=new eN,this.remoteDocumentCache=function(a){return new mN(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new ZM(n),this.Yr=new cN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new dN(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const a=new yN(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return Z.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class yN extends Yk{constructor(e){super(),this.currentSequenceNumber=e}}class Ny{constructor(e){this.persistence=e,this.ti=new My,this.ni=null}static ri(e){return new Ny(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,r=>{const a=Ee.fromPath(r);return this.si(e,a).next(l=>{l||n.removeEntry(a,Re.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Kf{constructor(e,n){this.persistence=e,this.oi=new eo(r=>Kk(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=aN(this,n)}static ri(e,n){return new Kf(e,n)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return Z.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(l=>l?Z.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,n).next(d=>{d||(r++,l.removeEntry(c,Re.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Af(e.data.value)),n}ar(e,n,r){return Z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return Z.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=a}static Yi(e,n){let r=Ue(),a=Ue();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new xy(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return eD()?8:Gk(gn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new _N;return this._s(e,n,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,n,c,d.size)})}).next(()=>l.result)}us(e,n,r,a){return r.documentReadCount<this.es?(Xo()<=Ve.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(Xo()<=Ve.DEBUG&&he("QueryEngine","Query:",Zo(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(Xo()<=Ve.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(n))):Z.resolve())}rs(e,n){if(BE(n))return Z.resolve(null);let r=Fi(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=xg(n,null,"F"),r=Fi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Ue(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(p=>{const g=this.cs(n,d);return this.ls(n,g,c,p.readTime)?this.rs(e,xg(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,r,a){return BE(n)||a.isEqual(Re.min())?Z.resolve(null):this.ns.getDocuments(e,r).next(l=>{const c=this.cs(n,l);return this.ls(n,c,r,a)?Z.resolve(null):(Xo()<=Ve.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Zo(n)),this.hs(e,c,n,jk(a,rc)).next(d=>d))})}cs(e,n){let r=new Yt(vA(e));return n.forEach((a,l)=>{Td(e,l)&&(r=r.add(l))}),r}ls(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,r){return Xo()<=Ve.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Zo(n)),this.ns.getDocumentsMatchingQuery(e,n,Qs.min(),r)}hs(e,n,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LocalStore",TN=3e8;class EN{constructor(e,n,r,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new vt(je),this.Is=new eo(l=>Ry(l),Iy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function wN(t,e,n,r){return new EN(t,e,n,r)}async function qA(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],d=[];let p=Ue();for(const g of a){c.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of l){d.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(r,p).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})}function SN(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,T){const E=g.batch,A=E.keys();let C=Z.resolve();return A.forEach(M=>{C=C.next(()=>T.getEntry(p,M)).next(z=>{const P=g.docVersions.get(M);nt(P!==null),z.version.compareTo(P)<0&&(E.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),T.addEntry(z)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function YA(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function AN(t,e){const n=Ce(t),r=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const d=[];e.targetChanges.forEach((T,E)=>{const A=a.get(E);if(!A)return;d.push(n.Hr.removeMatchingKeys(l,T.removedDocuments,E).next(()=>n.Hr.addMatchingKeys(l,T.addedDocuments,E)));let C=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?C=C.withResumeToken(on.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):T.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(T.resumeToken,r)),a=a.insert(E,C),function(z,P,H){return z.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=TN?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(A,C,T)&&d.push(n.Hr.updateTargetData(l,C))});let p=qr(),g=Ue();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,T))}),d.push(bN(l,c,e.documentUpdates).next(T=>{p=T.Vs,g=T.fs})),!r.isEqual(Re.min())){const T=n.Hr.getLastRemoteSnapshotVersion(l).next(E=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(T)}return Z.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(n.Ts=a,l))}function bN(t,e,n){let r=Ue(),a=Ue();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let c=qr();return n.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):he(Py,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function RN(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IN(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Hr.getTargetData(r,e).next(l=>l?(a=l,Z.resolve(a)):n.Hr.allocateTargetId(r).next(c=>(a=new Ls(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function zg(t,e,n){const r=Ce(t),a=r.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Al(c))throw c;he(Py,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function JE(t,e,n){const r=Ce(t);let a=Re.min(),l=Ue();return r.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,T){const E=Ce(p),A=E.Is.get(T);return A!==void 0?Z.resolve(E.Ts.get(A)):E.Hr.getTargetData(g,T)}(r,c,Fi(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>r.Ps.getDocumentsMatchingQuery(c,e,n?a:Re.min(),n?l:Ue())).next(d=>(CN(r,dM(e),d),{documents:d,gs:l})))}function CN(t,e,n){let r=t.Es.get(e)||Re.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.Es.set(e,r)}class ew{constructor(){this.activeTargetIds=vM()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DN{constructor(){this.ho=new ew,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ew,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="ConnectivityMonitor";class nw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(tw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(tw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff=null;function Bg(){return ff===null?ff=function(){return 268435456+Math.round(2147483648*Math.random())}():ff++,"0x"+ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="RestConnection",kN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===Hf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}bo(e,n,r,a,l){const c=Bg(),d=this.So(e,n.toUriEncodedString());he(lg,`Sending RPC '${e}' ${c}:`,d,r);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,d,p,r).then(g=>(he(lg,`Received RPC '${e}' ${c}: `,g),g),g=>{throw hl(lg,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",r),g})}Co(e,n,r,a,l,c){return this.bo(e,n,r,a,l)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}So(e,n){const r=kN[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class xN extends MN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,a){const l=Bg();return new Promise((c,d)=>{const p=new KS;p.setWithCredentials(!0),p.listenOnce(QS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Sf.NO_ERROR:const T=p.getResponseJson();he(hn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(T)),c(T);break;case Sf.TIMEOUT:he(hn,`RPC '${e}' ${l} timed out`),d(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const E=p.getStatus();if(he(hn,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A==null?void 0:A.error;if(C&&C.status&&C.message){const M=function(P){const H=P.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(H)>=0?H:J.UNKNOWN}(C.status);d(new de(M,C.message))}else d(new de(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new de(J.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{he(hn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(a);he(hn,`RPC '${e}' ${l} sending request:`,a),p.send(n,"POST",g,r,15)})}Wo(e,n,r){const a=Bg(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=ZS(),d=XS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const T=l.join("");he(hn,`Creating RPC '${e}' stream ${a}: ${T}`,p);const E=c.createWebChannel(T,p);let A=!1,C=!1;const M=new NN({Fo:P=>{C?he(hn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(A||(he(hn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),A=!0),he(hn,`RPC '${e}' stream ${a} sending:`,P),E.send(P))},Mo:()=>E.close()}),z=(P,H,W)=>{P.listen(H,Y=>{try{W(Y)}catch(ee){setTimeout(()=>{throw ee},0)}})};return z(E,qu.EventType.OPEN,()=>{C||(he(hn,`RPC '${e}' stream ${a} transport opened.`),M.Qo())}),z(E,qu.EventType.CLOSE,()=>{C||(C=!0,he(hn,`RPC '${e}' stream ${a} transport closed`),M.Ko())}),z(E,qu.EventType.ERROR,P=>{C||(C=!0,hl(hn,`RPC '${e}' stream ${a} transport errored:`,P),M.Ko(new de(J.UNAVAILABLE,"The operation could not be completed")))}),z(E,qu.EventType.MESSAGE,P=>{var H;if(!C){const W=P.data[0];nt(!!W);const Y=W,ee=(Y==null?void 0:Y.error)||((H=Y[0])===null||H===void 0?void 0:H.error);if(ee){he(hn,`RPC '${e}' stream ${a} received error:`,ee);const se=ee.status;let me=function(b){const D=xt[b];if(D!==void 0)return MA(D)}(se),k=ee.message;me===void 0&&(me=J.INTERNAL,k="Unknown error status: "+se+" with message "+ee.message),C=!0,M.Ko(new de(me,k)),E.close()}else he(hn,`RPC '${e}' stream ${a} received:`,W),M.Uo(W)}}),z(d,$S.STAT_EVENT,P=>{P.stat===Cg.PROXY?he(hn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Cg.NOPROXY&&he(hn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){return new LM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-r);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="PersistentStream";class WA{constructor(e,n,r,a,l,c,d,p){this.Ti=e,this.n_=r,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new GA(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===n&&this.V_(r,a)},r=>{e(()=>{const a=new de(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(iw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(iw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PN extends WA{constructor(e,n,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=jM(this.serializer,e),r=function(l){if(!("targetChange"in l))return Re.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?Yi(c.readTime):Re.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Lg(this.serializer),n.addTarget=function(l,c){let d;const p=c.target;if(d=Mg(p)?{documents:qM(l,p)}:{query:YM(l,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=PA(l,c.resumeToken);const g=Pg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Re.min())>0){d.readTime=Wf(l,c.snapshotVersion.toTimestamp());const g=Pg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const r=WM(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Lg(this.serializer),n.removeTarget=e,this.I_(n)}}class VN extends WA{constructor(e,n,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return nt(!!e.streamToken),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=FM(e.writeResults,e.commitTime),r=Yi(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Lg(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>HM(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{}class LN extends UN{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(e,Vg(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(J.UNKNOWN,l.toString())})}Co(e,n,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,Vg(n,r),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(J.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class zN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Fr(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="RemoteStore";class BN{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{r.enqueueAndForget(async()=>{to(this)&&(he(Wa,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.W_.add(4),await Dc(g),g.j_.set("Unknown"),g.W_.delete(4),await bd(g)}(this))})}),this.j_=new zN(r,a)}}async function bd(t){if(to(t))for(const e of t.G_)await e(!0)}async function Dc(t){for(const e of t.G_)await e(!1)}function KA(t,e){const n=Ce(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),zy(n)?Ly(n):bl(n).c_()&&Uy(n,e))}function Vy(t,e){const n=Ce(t),r=bl(n);n.U_.delete(e),r.c_()&&QA(n,e),n.U_.size===0&&(r.c_()?r.P_():to(n)&&n.j_.set("Unknown"))}function Uy(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bl(t).y_(e)}function QA(t,e){t.H_.Ne(e),bl(t).w_(e)}function Ly(t){t.H_=new xM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),bl(t).start(),t.j_.B_()}function zy(t){return to(t)&&!bl(t).u_()&&t.U_.size>0}function to(t){return Ce(t).W_.size===0}function $A(t){t.H_=void 0}async function jN(t){t.j_.set("Online")}async function HN(t){t.U_.forEach((e,n)=>{Uy(t,e)})}async function FN(t,e){$A(t),zy(t)?(t.j_.q_(e),Ly(t)):t.j_.set("Unknown")}async function qN(t,e,n){if(t.j_.set("Online"),e instanceof xA&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.U_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.U_.delete(d),a.H_.removeTarget(d))}(t,e)}catch(r){he(Wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qf(t,r)}else if(e instanceof If?t.H_.We(e):e instanceof NA?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Re.min()))try{const r=await YA(t.localStore);n.compareTo(r)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=l.U_.get(g);T&&l.U_.set(g,T.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const T=l.U_.get(p);if(!T)return;l.U_.set(p,T.withResumeToken(on.EMPTY_BYTE_STRING,T.snapshotVersion)),QA(l,p);const E=new Ls(T.target,p,g,T.sequenceNumber);Uy(l,E)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){he(Wa,"Failed to raise snapshot:",r),await Qf(t,r)}}async function Qf(t,e,n){if(!Al(e))throw e;t.W_.add(1),await Dc(t),t.j_.set("Offline"),n||(n=()=>YA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(Wa,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await bd(t)})}function XA(t,e){return e().catch(n=>Qf(t,n,e))}async function Rd(t){const e=Ce(t),n=Js(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Sy;for(;YN(e);)try{const a=await RN(e.localStore,r);if(a===null){e.K_.length===0&&n.P_();break}r=a.batchId,GN(e,a)}catch(a){await Qf(e,a)}ZA(e)&&JA(e)}function YN(t){return to(t)&&t.K_.length<10}function GN(t,e){t.K_.push(e);const n=Js(t);n.c_()&&n.b_&&n.S_(e.mutations)}function ZA(t){return to(t)&&!Js(t).u_()&&t.K_.length>0}function JA(t){Js(t).start()}async function WN(t){Js(t).C_()}async function KN(t){const e=Js(t);for(const n of t.K_)e.S_(n.mutations)}async function QN(t,e,n){const r=t.K_.shift(),a=Dy.from(r,e,n);await XA(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Rd(t)}async function $N(t,e){e&&Js(t).b_&&await async function(r,a){if(function(c){return kM(c)&&c!==J.ABORTED}(a.code)){const l=r.K_.shift();Js(r).h_(),await XA(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Rd(r)}}(t,e),ZA(t)&&JA(t)}async function rw(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),he(Wa,"RemoteStore received new credentials");const r=to(n);n.W_.add(3),await Dc(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await bd(n)}async function XN(t,e){const n=Ce(t);e?(n.W_.delete(2),await bd(n)):e||(n.W_.add(2),await Dc(n),n.j_.set("Unknown"))}function bl(t){return t.J_||(t.J_=function(n,r,a){const l=Ce(n);return l.M_(),new PN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:jN.bind(null,t),No:HN.bind(null,t),Lo:FN.bind(null,t),p_:qN.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),zy(t)?Ly(t):t.j_.set("Unknown")):(await t.J_.stop(),$A(t))})),t.J_}function Js(t){return t.Y_||(t.Y_=function(n,r,a){const l=Ce(n);return l.M_(),new VN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:WN.bind(null,t),Lo:$N.bind(null,t),D_:KN.bind(null,t),v_:QN.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Rd(t)):(await t.Y_.stop(),t.K_.length>0&&(he(Wa,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const c=Date.now()+r,d=new By(e,n,c,a,l);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jy(t,e){if(Fr("AsyncQueue",`${e}: ${t}`),Al(t))return new de(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Yu(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ol;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.Z_=new vt(Ee.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class yl{constructor(e,n,r,a,l,c,d,p,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,a,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new yl(e,n,ol.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class JN{constructor(){this.queries=aw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const a=Ce(n),l=a.queries;a.queries=aw(),l.forEach((c,d)=>{for(const p of d.ta)p.onError(r)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function aw(){return new eo(t=>_A(t),vd)}async function Hy(t,e){const n=Ce(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(r=2):(l=new ZN,r=e.ra()?0:1);try{switch(r){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=jy(c,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&qy(n)}async function Fy(t,e){const n=Ce(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ex(t,e){const n=Ce(t);let r=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(r=!0);c.ea=a}}r&&qy(n)}function tx(t,e,n){const r=Ce(t),a=r.queries.get(e);if(a)for(const l of a.ta)l.onError(n);r.queries.delete(e)}function qy(t){t.ia.forEach(e=>{e.next()})}var jg,ow;(ow=jg||(jg={}))._a="default",ow.Cache="cache";class Yy{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.key=e}}class tb{constructor(e){this.key=e}}class nx{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=vA(e),this.wa=new ol(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new sw,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((T,E)=>{const A=a.get(T),C=Td(this.query,E)?E:null,M=!!A&&this.mutatedKeys.has(A.key),z=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let P=!1;A&&C?A.data.isEqual(C.data)?M!==z&&(r.track({type:3,doc:C}),P=!0):this.va(A,C)||(r.track({type:2,doc:C}),P=!0,(p&&this.ya(C,p)>0||g&&this.ya(C,g)<0)&&(d=!0)):!A&&C?(r.track({type:0,doc:C}),P=!0):A&&!C&&(r.track({type:1,doc:A}),P=!0,(p||g)&&(d=!0)),P&&(C?(c=c.add(C),l=z?l.add(T):l.delete(T)):(c=c.delete(T),l=l.delete(T)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const T=this.query.limitType==="F"?c.last():c.first();c=c.delete(T.key),l=l.delete(T.key),r.track({type:1,doc:T})}return{wa:c,Da:r,ls:d,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((T,E)=>function(C,M){const z=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return z(C)-z(M)}(T.type,E.type)||this.ya(T.doc,E.doc)),this.Ca(r),a=a!=null&&a;const d=n&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,g=p!==this.ga;return this.ga=p,c.length!==0||g?{snapshot:new yl(this.query,e.wa,l,c,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new sw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new tb(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new eb(r))}),n}Oa(e){this.fa=e.gs,this.pa=Ue();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return yl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Gy="SyncEngine";class ix{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rx{constructor(e){this.key=e,this.Ba=!1}}class sx{constructor(e,n,r,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new eo(d=>_A(d),vd),this.qa=new Map,this.Qa=new Set,this.$a=new vt(Ee.comparator),this.Ka=new Map,this.Ua=new My,this.Wa={},this.Ga=new Map,this.za=gl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ax(t,e,n=!0){const r=ob(t);let a;const l=r.ka.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await nb(r,e,n,!0),a}async function ox(t,e){const n=ob(t);await nb(n,e,!0,!1)}async function nb(t,e,n,r){const a=await IN(t.localStore,Fi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await lx(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&KA(t.remoteStore,a),d}async function lx(t,e,n,r,a){t.Ha=(E,A,C)=>async function(z,P,H,W){let Y=P.view.Sa(H);Y.ls&&(Y=await JE(z.localStore,P.query,!1).then(({documents:k})=>P.view.Sa(k,Y)));const ee=W&&W.targetChanges.get(P.targetId),se=W&&W.targetMismatches.get(P.targetId)!=null,me=P.view.applyChanges(Y,z.isPrimaryClient,ee,se);return uw(z,P.targetId,me.Ma),me.snapshot}(t,E,A,C);const l=await JE(t.localStore,e,!0),c=new nx(e,l.gs),d=c.Sa(l.documents),p=Cc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),g=c.applyChanges(d,t.isPrimaryClient,p);uw(t,n,g.Ma);const T=new ix(e,n,c);return t.ka.set(e,T),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),g.snapshot}async function ux(t,e,n){const r=Ce(t),a=r.ka.get(e),l=r.qa.get(a.targetId);if(l.length>1)return r.qa.set(a.targetId,l.filter(c=>!vd(c,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await zg(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Vy(r.remoteStore,a.targetId),Hg(r,a.targetId)}).catch(Sl)):(Hg(r,a.targetId),await zg(r.localStore,a.targetId,!0))}async function cx(t,e){const n=Ce(t),r=n.ka.get(e),a=n.qa.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vy(n.remoteStore,r.targetId))}async function hx(t,e,n){const r=_x(t);try{const a=await function(c,d){const p=Ce(c),g=qt.now(),T=d.reduce((C,M)=>C.add(M.key),Ue());let E,A;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let M=qr(),z=Ue();return p.ds.getEntries(C,T).next(P=>{M=P,M.forEach((H,W)=>{W.isValidDocument()||(z=z.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,M)).next(P=>{E=P;const H=[];for(const W of d){const Y=RM(W,E.get(W.key).overlayedDocument);Y!=null&&H.push(new ra(W.key,Y,cA(Y.value.mapValue),qi.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,H,d)}).next(P=>{A=P;const H=P.applyToLocalDocumentSet(E,z);return p.documentOverlayCache.saveOverlays(C,P.batchId,H)})}).then(()=>({batchId:A.batchId,changes:EA(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let g=c.Wa[c.currentUser.toKey()];g||(g=new vt(je)),g=g.insert(d,p),c.Wa[c.currentUser.toKey()]=g}(r,a.batchId,n),await Oc(r,a.changes),await Rd(r.remoteStore)}catch(a){const l=jy(a,"Failed to persist write");n.reject(l)}}async function ib(t,e){const n=Ce(t);try{const r=await AN(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Ka.get(l);c&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?nt(c.Ba):a.removedDocuments.size>0&&(nt(c.Ba),c.Ba=!1))}),await Oc(n,r,e)}catch(r){await Sl(r)}}function lw(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=Ce(c);p.onlineState=d;let g=!1;p.queries.forEach((T,E)=>{for(const A of E.ta)A.sa(d)&&(g=!0)}),g&&qy(p)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fx(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Ka.get(e),l=a&&a.key;if(l){let c=new vt(Ee.comparator);c=c.insert(l,dn.newNoDocument(l,Re.min()));const d=Ue().add(l),p=new Sd(Re.min(),new Map,new vt(je),c,d);await ib(r,p),r.$a=r.$a.remove(l),r.Ka.delete(e),Wy(r)}else await zg(r.localStore,e,!1).then(()=>Hg(r,e,n)).catch(Sl)}async function dx(t,e){const n=Ce(t),r=e.batch.batchId;try{const a=await SN(n.localStore,e);sb(n,r,null),rb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Oc(n,a)}catch(a){await Sl(a)}}async function mx(t,e,n){const r=Ce(t);try{const a=await function(c,d){const p=Ce(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,d).next(E=>(nt(E!==null),T=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(r.localStore,e);sb(r,e,n),rb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Oc(r,a)}catch(a){await Sl(a)}}function rb(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function sb(t,e,n){const r=Ce(t);let a=r.Wa[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function Hg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||ab(t,r)})}function ab(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Vy(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),Wy(t))}function uw(t,e,n){for(const r of n)r instanceof eb?(t.Ua.addReference(r.key,e),px(t,r)):r instanceof tb?(he(Gy,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||ab(t,r.key)):be()}function px(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(he(Gy,"New document in limbo: "+n),t.Qa.add(r),Wy(t))}function Wy(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Ee(ct.fromString(e)),r=t.za.next();t.Ka.set(r,new rx(n)),t.$a=t.$a.insert(n,r),KA(t.remoteStore,new Ls(Fi(_d(n.path)),r,"TargetPurposeLimboResolution",pd.ae))}}async function Oc(t,e,n){const r=Ce(t),a=[],l=[],c=[];r.ka.isEmpty()||(r.ka.forEach((d,p)=>{c.push(r.Ha(p,e,n).then(g=>{var T;if((g||n)&&r.isPrimaryClient){const E=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){a.push(g);const E=xy.Yi(p.targetId,g);l.push(E)}}))}),await Promise.all(c),r.La.p_(a),await async function(p,g){const T=Ce(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Z.forEach(g,A=>Z.forEach(A.Hi,C=>T.persistence.referenceDelegate.addReference(E,A.targetId,C)).next(()=>Z.forEach(A.Ji,C=>T.persistence.referenceDelegate.removeReference(E,A.targetId,C)))))}catch(E){if(!Al(E))throw E;he(Py,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const C=T.Ts.get(A),M=C.snapshotVersion,z=C.withLastLimboFreeSnapshotVersion(M);T.Ts=T.Ts.insert(A,z)}}}(r.localStore,l))}async function gx(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){he(Gy,"User change. New user:",e.toKey());const r=await qA(n.localStore,e);n.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new de(J.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oc(n,r.Rs)}}function yx(t,e){const n=Ce(t),r=n.Ka.get(e);if(r&&r.Ba)return Ue().add(r.key);{let a=Ue();const l=n.qa.get(e);if(!l)return a;for(const c of l){const d=n.ka.get(c);a=a.unionWith(d.view.ba)}return a}}function ob(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fx.bind(null,e),e.La.p_=ex.bind(null,e.eventManager),e.La.Ja=tx.bind(null,e.eventManager),e}function _x(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mx.bind(null,e),e}class $f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ad(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return wN(this.persistence,new vN,e.initialUser,this.serializer)}Xa(e){return new FA(Ny.ri,this.serializer)}Za(e){return new DN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$f.provider={build:()=>new $f};class vx extends $f{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){nt(this.persistence.referenceDelegate instanceof Kf);const r=this.persistence.referenceDelegate.garbageCollector;return new rN(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new FA(r=>Kf.ri(r,n),this.serializer)}}class Fg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gx.bind(null,this.syncEngine),await XN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JN}()}createDatastore(e){const n=Ad(e.databaseInfo.databaseId),r=function(l){return new xN(l)}(e.databaseInfo);return function(l,c,d,p){return new LN(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,l,c,d){return new BN(r,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>lw(this.syncEngine,n,0),function(){return nw.D()?new nw:new ON}())}createSyncEngine(e,n){return function(a,l,c,d,p,g,T){const E=new sx(a,l,c,d,p,g);return T&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Ce(a);he(Wa,"RemoteStore shutting down."),l.W_.add(5),await Dc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fg.provider={build:()=>new Fg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="FirestoreClient";class Tx{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=fn.UNAUTHENTICATED,this.clientId=eA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{he(ea,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(he(ea,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cg(t,e){t.asyncQueue.verifyOperationInProgress(),he(ea,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await qA(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ex(t);he(ea,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>rw(e.remoteStore,a)),t._onlineComponents=e}async function Ex(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(ea,"Using user provided OfflineComponentProvider");try{await cg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;hl("Error using user provided cache. Falling back to memory cache: "+n),await cg(t,new $f)}}else he(ea,"Using default OfflineComponentProvider"),await cg(t,new vx(void 0));return t._offlineComponents}async function lb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(ea,"Using user provided OnlineComponentProvider"),await cw(t,t._uninitializedComponentsProvider._online)):(he(ea,"Using default OnlineComponentProvider"),await cw(t,new Fg))),t._onlineComponents}function wx(t){return lb(t).then(e=>e.syncEngine)}async function Xf(t){const e=await lb(t),n=e.eventManager;return n.onListen=ax.bind(null,e.syncEngine),n.onUnlisten=ux.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ox.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cx.bind(null,e.syncEngine),n}function Sx(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const T=new Ky({next:A=>{T.su(),c.enqueueAndForget(()=>Fy(l,E));const C=A.docs.has(d);!C&&A.fromCache?g.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&A.fromCache&&p&&p.source==="server"?g.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new Yy(_d(d.path),T,{includeMetadataChanges:!0,Ta:!0});return Hy(l,E)}(await Xf(t),t.asyncQueue,e,n,r)),r.promise}function Ax(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const T=new Ky({next:A=>{T.su(),c.enqueueAndForget(()=>Fy(l,E)),A.fromCache&&p.source==="server"?g.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new Yy(d,T,{includeMetadataChanges:!0,Ta:!0});return Hy(l,E)}(await Xf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(t,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bx(t,e,n,r){if(e===!0&&r===!0)throw new de(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fw(t){if(!Ee.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dw(t){if(Ee.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Id(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Id(t);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="firestore.googleapis.com",mw=!0;class pw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hb,this.ssl=mw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:mw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nN)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ub((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cd{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Nk;switch(r.type){case"firstParty":return new Uk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hw.get(n);r&&(he("ComponentProvider","Removing Datastore"),hw.delete(n),r.terminate())}(this),Promise.resolve()}}function Rx(t,e,n,r={}){var a;const l=(t=ai(t,Cd))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;l.host!==hb&&l.host!==d&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:r});if(!Ws(p,c)&&(t._setSettings(p),r.mockUserToken)){let g,T;if(typeof r.mockUserToken=="string")g=r.mockUserToken,T=fn.MOCK_USER;else{g=sS(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new fn(E)}t._authCredentials=new xk(new JS(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class Ys extends no{constructor(e,n,r){super(e,n,_d(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new Ee(e))}withConverter(e){return new Ys(this.firestore,e,this._path)}}function hg(t,e,...n){if(t=Vt(t),cb("collection","path",e),t instanceof Cd){const r=ct.fromString(e,...n);return dw(r),new Ys(t,null,r)}{if(!(t instanceof mn||t instanceof Ys))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return dw(r),new Ys(t.firestore,null,r)}}function zn(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=eA.newId()),cb("doc","path",e),t instanceof Cd){const r=ct.fromString(e,...n);return fw(r),new mn(t,null,new Ee(r))}{if(!(t instanceof mn||t instanceof Ys))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return fw(r),new mn(t.firestore,t instanceof Ys?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="AsyncQueue";class yw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new GA(this,"async_queue_retry"),this.bu=()=>{const r=ug();r&&he(gw,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=ug();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ur;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Al(e))throw e;he(gw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(r);throw Fr("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=By.createAndSchedule(this,e,n,r,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function _w(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class Ka extends Cd{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new yw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yw(e),this._firestoreClient=void 0,await e}}}function Ix(t,e){const n=typeof t=="object"?t:fy(),r=typeof t=="string"?t:Hf,a=hd(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=nS("firestore");l&&Rx(a,...l)}return a}function Dd(t){if(t._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Cx(t),t._firestoreClient}function Cx(t){var e,n,r;const a=t._freezeSettings(),l=function(d,p,g,T){return new Xk(d,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,ub(T.experimentalLongPollingOptions),T.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new Tx(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _l(on.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _l(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=/^__.*__$/;class Ox{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ic(e,this.data,n,this.fieldTransforms)}}class fb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function db(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class kd{constructor(e,n,r,a,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new kd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Zf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(db(this.Lu)&&Dx.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class kx{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ad(e)}ju(e,n,r,a=!1){return new kd({Lu:e,methodName:n,zu:r,path:an.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xy(t){const e=t._freezeSettings(),n=Ad(t._databaseId);return new kx(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Mx(t,e,n,r,a,l={}){const c=t.ju(l.merge||l.mergeFields?2:0,e,n,a);e_("Data must be an object, but it was:",c,r);const d=mb(r,c);let p,g;if(l.merge)p=new Ln(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const T=[];for(const E of l.mergeFields){const A=qg(e,E,n);if(!c.contains(A))throw new de(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);gb(T,A)||T.push(A)}p=new Ln(T),g=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=c.fieldTransforms;return new Ox(new Dn(d),p,g)}class Md extends kc{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Md}}function Nx(t,e,n){return new kd({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zy extends kc{_toFieldTransform(e){return new CA(e.path,new lc)}isEqual(e){return e instanceof Zy}}class Jy extends kc{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=Nx(this,e,!0),r=this.Hu.map(l=>Rl(l,n)),a=new pl(r);return new CA(e.path,a)}isEqual(e){return e instanceof Jy&&Ws(this.Hu,e.Hu)}}function xx(t,e,n,r){const a=t.ju(1,e,n);e_("Data must be an object, but it was:",a,r);const l=[],c=Dn.empty();ia(r,(p,g)=>{const T=t_(e,p,n);g=Vt(g);const E=a.Ku(T);if(g instanceof Md)l.push(T);else{const A=Rl(g,E);A!=null&&(l.push(T),c.set(T,A))}});const d=new Ln(l);return new fb(c,d,a.fieldTransforms)}function Px(t,e,n,r,a,l){const c=t.ju(1,e,n),d=[qg(e,r,n)],p=[a];if(l.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)d.push(qg(e,l[A])),p.push(l[A+1]);const g=[],T=Dn.empty();for(let A=d.length-1;A>=0;--A)if(!gb(g,d[A])){const C=d[A];let M=p[A];M=Vt(M);const z=c.Ku(C);if(M instanceof Md)g.push(C);else{const P=Rl(M,z);P!=null&&(g.push(C),T.set(C,P))}}const E=new Ln(g);return new fb(T,E,c.fieldTransforms)}function Vx(t,e,n,r=!1){return Rl(n,t.ju(r?4:3,e))}function Rl(t,e){if(pb(t=Vt(t)))return e_("Unsupported field value:",e,t),mb(t,e);if(t instanceof kc)return function(r,a){if(!db(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const d of r){let p=Rl(d,a.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(t,e)}return function(r,a){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=qt.fromDate(r);return{timestampValue:Wf(a.serializer,l)}}if(r instanceof qt){const l=new qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wf(a.serializer,l)}}if(r instanceof Qy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _l)return{bytesValue:PA(a.serializer,r._byteString)};if(r instanceof mn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ky(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof $y)return function(c,d){return{mapValue:{fields:{[lA]:{stringValue:uA},[Ff]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Cy(d.serializer,g)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${Id(r)}`)}(t,e)}function mb(t,e){const n={};return nA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(t,(r,a)=>{const l=Rl(a,e.qu(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function pb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qt||t instanceof Qy||t instanceof _l||t instanceof mn||t instanceof kc||t instanceof $y)}function e_(t,e,n){if(!pb(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=Id(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function qg(t,e,n){if((e=Vt(e))instanceof Od)return e._internalPath;if(typeof e=="string")return t_(t,e);throw Zf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ux=new RegExp("[~\\*/\\[\\]]");function t_(t,e,n){if(e.search(Ux)>=0)throw Zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Od(...e.split("."))._internalPath}catch{throw Zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zf(t,e,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${a}`),p+=")"),new de(J.INVALID_ARGUMENT,d+t+p)}function gb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(n_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Lx extends yb{data(){return super.data()}}function n_(t,e){return typeof e=="string"?t_(t,e):e instanceof Od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i_{}class zx extends i_{}function Bx(t,e,...n){let r=[];e instanceof i_&&r.push(e),r=r.concat(n),function(l){const c=l.filter(p=>p instanceof r_).length,d=l.filter(p=>p instanceof Nd).length;if(c>1||c>0&&d>0)throw new de(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class Nd extends zx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nd(e,n,r)}_apply(e){const n=this._parse(e);return vb(e._query,n),new no(e.firestore,e.converter,Ng(e._query,n))}_parse(e){const n=Xy(e.firestore);return function(l,c,d,p,g,T,E){let A;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new de(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Tw(E,T);const M=[];for(const z of E)M.push(vw(p,l,z));A={arrayValue:{values:M}}}else A=vw(p,l,E)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Tw(E,T),A=Vx(d,c,E,T==="in"||T==="not-in");return Pt.create(g,T,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jx(t,e,n){const r=e,a=n_("where",t);return Nd._create(a,r,n)}class r_ extends i_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new r_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_i.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)vb(c,p),c=Ng(c,p)}(e._query,n),new no(e.firestore,e.converter,Ng(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vw(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new de(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yA(e)&&n.indexOf("/")!==-1)throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!Ee.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xE(t,new Ee(r))}if(n instanceof mn)return xE(t,n._key);throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Id(n)}.`)}function Tw(t,e){if(!Array.isArray(t)||t.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vb(t,e){const n=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Hx{convertValue(e,n="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ia(e,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(e){var n,r,a;const l=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[Ff].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>Dt(c.doubleValue));return new $y(l)}convertGeoPoint(e){return new Qy(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const n=$s(e);return new qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);nt(jA(r));const a=new ac(r.get(1),r.get(3)),l=new Ee(r.popFirst(5));return a.isEqual(n)||Fr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tb extends yb{constructor(e,n,r,a,l,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(n_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cf extends Tb{data(e={}){return super.data(e)}}class Eb{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Wu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cf(this._firestore,this._userDataWriter,r.key,r,new Wu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new Cf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Wu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Cf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Wu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,T=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),T=c.indexOf(d.doc.key)),{type:qx(d.type),doc:p,oldIndex:g,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qx(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){t=ai(t,mn);const e=ai(t.firestore,Ka);return Sx(Dd(e),t._key).then(n=>Ab(e,t,n))}class s_ extends Hx{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function Yx(t){t=ai(t,no);const e=ai(t.firestore,Ka),n=Dd(e),r=new s_(e);return _b(t._query),Ax(n,t._query).then(a=>new Eb(e,r,t,a))}function Yg(t,e,n){t=ai(t,mn);const r=ai(t.firestore,Ka),a=Fx(t.converter,e);return Sb(r,[Mx(Xy(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,qi.none())])}function Qa(t,e,n,...r){t=ai(t,mn);const a=ai(t.firestore,Ka),l=Xy(a);let c;return c=typeof(e=Vt(e))=="string"||e instanceof Od?Px(l,"updateDoc",t._key,e,n,r):xx(l,"updateDoc",t._key,e),Sb(a,[c.toMutation(t._key,qi.exists(!0))])}function wb(t,...e){var n,r,a;t=Vt(t);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||_w(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(_w(e[c])){const E=e[c];e[c]=(n=E.next)===null||n===void 0?void 0:n.bind(E),e[c+1]=(r=E.error)===null||r===void 0?void 0:r.bind(E),e[c+2]=(a=E.complete)===null||a===void 0?void 0:a.bind(E)}let p,g,T;if(t instanceof mn)g=ai(t.firestore,Ka),T=_d(t._key.path),p={next:E=>{e[c]&&e[c](Ab(g,t,E))},error:e[c+1],complete:e[c+2]};else{const E=ai(t,no);g=ai(E.firestore,Ka),T=E._query;const A=new s_(g);p={next:C=>{e[c]&&e[c](new Eb(g,A,E,C))},error:e[c+1],complete:e[c+2]},_b(t._query)}return function(A,C,M,z){const P=new Ky(z),H=new Yy(C,P,M);return A.asyncQueue.enqueueAndForget(async()=>Hy(await Xf(A),H)),()=>{P.su(),A.asyncQueue.enqueueAndForget(async()=>Fy(await Xf(A),H))}}(Dd(g),T,d,p)}function Sb(t,e){return function(r,a){const l=new Ur;return r.asyncQueue.enqueueAndForget(async()=>hx(await wx(r),a,l)),l.promise}(Dd(t),e)}function Ab(t,e,n){const r=n.docs.get(e._key),a=new s_(t);return new Tb(t,a,e._key,r,new Wu(n.hasPendingWrites,n.fromCache),e.converter)}function Gx(){return new Zy("serverTimestamp")}function Gg(...t){return new Jy("arrayUnion",t)}(function(e,n=!0){(function(a){wl=a})(Za),Fa(new Ks("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Ka(new Pk(r.getProvider("auth-internal")),new Lk(c,r.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(g.options.projectId,T)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Bi(SE,AE,e),Bi(SE,AE,"esm2017")})();function bb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=bb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ja(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=bb(t))&&(r&&(r+=" "),r+=e);return r}function Wx(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Wx(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Mc=t=>typeof t=="number"&&!isNaN(t),$a=t=>typeof t=="string",Yr=t=>typeof t=="function",Kx=t=>$a(t)||Mc(t),Wg=t=>$a(t)||Yr(t)?t:null,Qx=(t,e)=>t===!1||Mc(t)&&t>0?t:e,Kg=t=>F.isValidElement(t)||$a(t)||Yr(t)||Mc(t);function $x(t,e,n=300){let{scrollHeight:r,style:a}=t;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,n)})})}function Xx({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:a=300}){return function({children:l,position:c,preventExitTransition:d,done:p,nodeRef:g,isIn:T,playToast:E}){let A=n?`${t}--${c}`:t,C=n?`${e}--${c}`:e,M=F.useRef(0);return F.useLayoutEffect(()=>{let z=g.current,P=A.split(" "),H=W=>{W.target===g.current&&(E(),z.removeEventListener("animationend",H),z.removeEventListener("animationcancel",H),M.current===0&&W.type!=="animationcancel"&&z.classList.remove(...P))};z.classList.add(...P),z.addEventListener("animationend",H),z.addEventListener("animationcancel",H)},[]),F.useEffect(()=>{let z=g.current,P=()=>{z.removeEventListener("animationend",P),r?$x(z,p,a):p()};T||(d?P():(M.current=1,z.className+=` ${C}`,z.addEventListener("animationend",P)))},[T]),Xe.createElement(Xe.Fragment,null,l)}}function Ew(t,e){return{content:Rb(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function Rb(t,e,n=!1){return F.isValidElement(t)&&!$a(t.type)?F.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Yr(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function Zx({closeToast:t,theme:e,ariaLabel:n="close"}){return Xe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},Xe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Xe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Jx({delay:t,isRunning:e,closeToast:n,type:r="default",hide:a,className:l,controlledProgress:c,progress:d,rtl:p,isIn:g,theme:T}){let E=a||c&&d===0,A={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};c&&(A.transform=`scaleX(${d})`);let C=ja("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${T}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":p}),M=Yr(l)?l({rtl:p,type:r,defaultClassName:C}):ja(C,l),z={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{g&&n()}};return Xe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},Xe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${T} Toastify__progress-bar--${r}`}),Xe.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:M,style:A,...z}))}var eP=1,Ib=()=>`${eP++}`;function tP(t,e,n){let r=1,a=0,l=[],c=[],d=e,p=new Map,g=new Set,T=W=>(g.add(W),()=>g.delete(W)),E=()=>{c=Array.from(p.values()),g.forEach(W=>W())},A=({containerId:W,toastId:Y,updateId:ee})=>{let se=W?W!==t:t!==1,me=p.has(Y)&&ee==null;return se||me},C=(W,Y)=>{p.forEach(ee=>{var se;(Y==null||Y===ee.props.toastId)&&((se=ee.toggle)==null||se.call(ee,W))})},M=W=>{var Y,ee;(ee=(Y=W.props)==null?void 0:Y.onClose)==null||ee.call(Y,W.removalReason),W.isActive=!1},z=W=>{if(W==null)p.forEach(M);else{let Y=p.get(W);Y&&M(Y)}E()},P=()=>{a-=l.length,l=[]},H=W=>{var Y,ee;let{toastId:se,updateId:me}=W.props,k=me==null;W.staleId&&p.delete(W.staleId),W.isActive=!0,p.set(se,W),E(),n(Ew(W,k?"added":"updated")),k&&((ee=(Y=W.props).onOpen)==null||ee.call(Y))};return{id:t,props:d,observe:T,toggle:C,removeToast:z,toasts:p,clearQueue:P,buildToast:(W,Y)=>{if(A(Y))return;let{toastId:ee,updateId:se,data:me,staleId:k,delay:R}=Y,b=se==null;b&&a++;let D={...d,style:d.toastStyle,key:r++,...Object.fromEntries(Object.entries(Y).filter(([L,O])=>O!=null)),toastId:ee,updateId:se,data:me,isIn:!1,className:Wg(Y.className||d.toastClassName),progressClassName:Wg(Y.progressClassName||d.progressClassName),autoClose:Y.isLoading?!1:Qx(Y.autoClose,d.autoClose),closeToast(L){p.get(ee).removalReason=L,z(ee)},deleteToast(){let L=p.get(ee);if(L!=null){if(n(Ew(L,"removed")),p.delete(ee),a--,a<0&&(a=0),l.length>0){H(l.shift());return}E()}}};D.closeButton=d.closeButton,Y.closeButton===!1||Kg(Y.closeButton)?D.closeButton=Y.closeButton:Y.closeButton===!0&&(D.closeButton=Kg(d.closeButton)?d.closeButton:!0);let N={content:W,props:D,staleId:k};d.limit&&d.limit>0&&a>d.limit&&b?l.push(N):Mc(R)?setTimeout(()=>{H(N)},R):H(N)},setProps(W){d=W},setToggle:(W,Y)=>{let ee=p.get(W);ee&&(ee.toggle=Y)},isToastActive:W=>{var Y;return(Y=p.get(W))==null?void 0:Y.isActive},getSnapshot:()=>c}}var Sn=new Map,hc=[],Qg=new Set,nP=t=>Qg.forEach(e=>e(t)),Cb=()=>Sn.size>0;function iP(){hc.forEach(t=>Ob(t.content,t.options)),hc=[]}var rP=(t,{containerId:e})=>{var n;return(n=Sn.get(e||1))==null?void 0:n.toasts.get(t)};function Db(t,e){var n;if(e)return!!((n=Sn.get(e))!=null&&n.isToastActive(t));let r=!1;return Sn.forEach(a=>{a.isToastActive(t)&&(r=!0)}),r}function sP(t){if(!Cb()){hc=hc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||Kx(t))Sn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Sn.get(t.containerId);e?e.removeToast(t.id):Sn.forEach(n=>{n.removeToast(t.id)})}}var aP=(t={})=>{Sn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function Ob(t,e){Kg(t)&&(Cb()||hc.push({content:t,options:e}),Sn.forEach(n=>{n.buildToast(t,e)}))}function oP(t){var e;(e=Sn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function kb(t,e){Sn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function lP(t){let e=t.containerId||1;return{subscribe(n){let r=tP(e,t,nP);Sn.set(e,r);let a=r.observe(n);return iP(),()=>{a(),Sn.delete(e)}},setProps(n){var r;(r=Sn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Sn.get(e))==null?void 0:n.getSnapshot()}}}function uP(t){return Qg.add(t),()=>{Qg.delete(t)}}function cP(t){return t&&($a(t.toastId)||Mc(t.toastId))?t.toastId:Ib()}function Nc(t,e){return Ob(t,e),e.toastId}function xd(t,e){return{...e,type:e&&e.type||t,toastId:cP(e)}}function Pd(t){return(e,n)=>Nc(e,xd(t,n))}function Le(t,e){return Nc(t,xd("default",e))}Le.loading=(t,e)=>Nc(t,xd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function hP(t,{pending:e,error:n,success:r},a){let l;e&&(l=$a(e)?Le.loading(e,a):Le.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,T,E)=>{if(T==null){Le.dismiss(l);return}let A={type:g,...c,...a,data:E},C=$a(T)?{render:T}:T;return l?Le.update(l,{...A,...C}):Le(C.render,{...A,...C}),E},p=Yr(t)?t():t;return p.then(g=>d("success",r,g)).catch(g=>d("error",n,g)),p}Le.promise=hP;Le.success=Pd("success");Le.info=Pd("info");Le.error=Pd("error");Le.warning=Pd("warning");Le.warn=Le.warning;Le.dark=(t,e)=>Nc(t,xd("default",{theme:"dark",...e}));function fP(t){sP(t)}Le.dismiss=fP;Le.clearWaitingQueue=aP;Le.isActive=Db;Le.update=(t,e={})=>{let n=rP(t,e);if(n){let{props:r,content:a}=n,l={delay:100,...r,...e,toastId:e.toastId||t,updateId:Ib()};l.toastId!==t&&(l.staleId=t);let c=l.render||a;delete l.render,Nc(c,l)}};Le.done=t=>{Le.update(t,{progress:1})};Le.onChange=uP;Le.play=t=>kb(!0,t);Le.pause=t=>kb(!1,t);function dP(t){var e;let{subscribe:n,getSnapshot:r,setProps:a}=F.useRef(lP(t)).current;a(t);let l=(e=F.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function c(d){if(!l)return[];let p=new Map;return t.newestOnTop&&l.reverse(),l.forEach(g=>{let{position:T}=g.props;p.has(T)||p.set(T,[]),p.get(T).push(g)}),Array.from(p,g=>d(g[0],g[1]))}return{getToastToRender:c,isToastActive:Db,count:l==null?void 0:l.length}}function mP(t){let[e,n]=F.useState(!1),[r,a]=F.useState(!1),l=F.useRef(null),c=F.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:g,onClick:T,closeOnClick:E}=t;oP({id:t.toastId,containerId:t.containerId,fn:n}),F.useEffect(()=>{if(t.pauseOnFocusLoss)return A(),()=>{C()}},[t.pauseOnFocusLoss]);function A(){document.hasFocus()||H(),window.addEventListener("focus",P),window.addEventListener("blur",H)}function C(){window.removeEventListener("focus",P),window.removeEventListener("blur",H)}function M(k){if(t.draggable===!0||t.draggable===k.pointerType){W();let R=l.current;c.canCloseOnClick=!0,c.canDrag=!0,R.style.transition="none",t.draggableDirection==="x"?(c.start=k.clientX,c.removalDistance=R.offsetWidth*(t.draggablePercent/100)):(c.start=k.clientY,c.removalDistance=R.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function z(k){let{top:R,bottom:b,left:D,right:N}=l.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&t.pauseOnHover&&k.clientX>=D&&k.clientX<=N&&k.clientY>=R&&k.clientY<=b?H():P()}function P(){n(!0)}function H(){n(!1)}function W(){c.didMove=!1,document.addEventListener("pointermove",ee),document.addEventListener("pointerup",se)}function Y(){document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",se)}function ee(k){let R=l.current;if(c.canDrag&&R){c.didMove=!0,e&&H(),t.draggableDirection==="x"?c.delta=k.clientX-c.start:c.delta=k.clientY-c.start,c.start!==k.clientX&&(c.canCloseOnClick=!1);let b=t.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;R.style.transform=`translate3d(${b},0)`,R.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function se(){Y();let k=l.current;if(c.canDrag&&c.didMove&&k){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),t.closeToast(!0),t.collapseAll();return}k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}let me={onPointerDown:M,onPointerUp:z};return d&&p&&(me.onMouseEnter=H,t.stacked||(me.onMouseLeave=P)),E&&(me.onClick=k=>{T&&T(k),c.canCloseOnClick&&g(!0)}),{playToast:P,pauseToast:H,isRunning:e,preventExitTransition:r,toastRef:l,eventHandlers:me}}var pP=typeof window<"u"?F.useLayoutEffect:F.useEffect,Vd=({theme:t,type:e,isLoading:n,...r})=>Xe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function gP(t){return Xe.createElement(Vd,{...t},Xe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function yP(t){return Xe.createElement(Vd,{...t},Xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function _P(t){return Xe.createElement(Vd,{...t},Xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function vP(t){return Xe.createElement(Vd,{...t},Xe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function TP(){return Xe.createElement("div",{className:"Toastify__spinner"})}var $g={info:yP,warning:gP,success:_P,error:vP,spinner:TP},EP=t=>t in $g;function wP({theme:t,type:e,isLoading:n,icon:r}){let a=null,l={theme:t,type:e};return r===!1||(Yr(r)?a=r({...l,isLoading:n}):F.isValidElement(r)?a=F.cloneElement(r,l):n?a=$g.spinner():EP(e)&&(a=$g[e](l))),a}var SP=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:a,playToast:l}=mP(t),{closeButton:c,children:d,autoClose:p,onClick:g,type:T,hideProgressBar:E,closeToast:A,transition:C,position:M,className:z,style:P,progressClassName:H,updateId:W,role:Y,progress:ee,rtl:se,toastId:me,deleteToast:k,isIn:R,isLoading:b,closeOnClick:D,theme:N,ariaLabel:L}=t,O=ja("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${T}`,{"Toastify__toast--rtl":se},{"Toastify__toast--close-on-click":D}),bt=Yr(z)?z({rtl:se,position:M,type:T,defaultClassName:O}):ja(O,z),mt=wP(t),oe=!!ee||!p,we={closeToast:A,type:T,theme:N},ge=null;return c===!1||(Yr(c)?ge=c(we):F.isValidElement(c)?ge=F.cloneElement(c,we):ge=Zx(we)),Xe.createElement(C,{isIn:R,done:k,position:M,preventExitTransition:n,nodeRef:r,playToast:l},Xe.createElement("div",{id:me,tabIndex:0,onClick:g,"data-in":R,className:bt,...a,style:P,ref:r,...R&&{role:Y,"aria-label":L}},mt!=null&&Xe.createElement("div",{className:ja("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!b})},mt),Rb(d,t,!e),ge,!t.customProgressBar&&Xe.createElement(Jx,{...W&&!oe?{key:`p-${W}`}:{},rtl:se,theme:N,delay:p,isRunning:e,isIn:R,closeToast:A,hide:E,type:T,className:H,controlledProgress:oe,progress:ee||0})))},AP=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),bP=Xx(AP("bounce",!0)),RP={position:"top-right",transition:bP,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function IP(t){let e={...RP,...t},n=t.stacked,[r,a]=F.useState(!0),l=F.useRef(null),{getToastToRender:c,isToastActive:d,count:p}=dP(e),{className:g,style:T,rtl:E,containerId:A,hotKeys:C}=e;function M(P){let H=ja("Toastify__toast-container",`Toastify__toast-container--${P}`,{"Toastify__toast-container--rtl":E});return Yr(g)?g({position:P,rtl:E,defaultClassName:H}):ja(H,Wg(g))}function z(){n&&(a(!0),Le.play())}return pP(()=>{var P;if(n){let H=l.current.querySelectorAll('[data-in="true"]'),W=12,Y=(P=e.position)==null?void 0:P.includes("top"),ee=0,se=0;Array.from(H).reverse().forEach((me,k)=>{let R=me;R.classList.add("Toastify__toast--stacked"),k>0&&(R.dataset.collapsed=`${r}`),R.dataset.pos||(R.dataset.pos=Y?"top":"bot");let b=ee*(r?.2:1)+(r?0:W*k);R.style.setProperty("--y",`${Y?b:b*-1}px`),R.style.setProperty("--g",`${W}`),R.style.setProperty("--s",`${1-(r?se:0)}`),ee+=R.offsetHeight,se+=.025})}},[r,p,n]),F.useEffect(()=>{function P(H){var W;let Y=l.current;C(H)&&((W=Y.querySelector('[tabIndex="0"]'))==null||W.focus(),a(!1),Le.pause()),H.key==="Escape"&&(document.activeElement===Y||Y!=null&&Y.contains(document.activeElement))&&(a(!0),Le.play())}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[C]),Xe.createElement("section",{ref:l,className:"Toastify",id:A,onMouseEnter:()=>{n&&(a(!1),Le.pause())},onMouseLeave:z,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((P,H)=>{let W=H.length?{...T}:{...T,pointerEvents:"none"};return Xe.createElement("div",{tabIndex:-1,className:M(P),"data-stacked":n,style:W,key:`c-${P}`},H.map(({content:Y,props:ee})=>Xe.createElement(SP,{...ee,stacked:n,collapseAll:z,isIn:d(ee.toastId,ee.containerId),key:`t-${ee.key}`},Y)))}))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firebasestorage.googleapis.com",CP="storageBucket",DP=2*60*1e3,OP=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Xi{constructor(e,n,r=0){super(fg(e),`Firebase Storage: ${n} (${fg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ki;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ki||(Ki={}));function fg(t){return"storage/"+t}function kP(){const t="An unknown error occurred, please check the error payload for server response.";return new Zi(Ki.UNKNOWN,t)}function MP(){return new Zi(Ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function NP(){return new Zi(Ki.CANCELED,"User canceled the upload/download.")}function xP(t){return new Zi(Ki.INVALID_URL,"Invalid URL '"+t+"'.")}function PP(t){return new Zi(Ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ww(t){return new Zi(Ki.INVALID_ARGUMENT,t)}function Nb(){return new Zi(Ki.APP_DELETED,"The Firebase app was deleted.")}function VP(t){return new Zi(Ki.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=pi.makeFromUrl(e,n)}catch{return new pi(e,"")}if(r.path==="")return r;throw PP(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function g(ee){ee.path_=decodeURIComponent(ee.path)}const T="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",C=new RegExp(`^https?://${E}/${T}/b/${a}/o${A}`,"i"),M={bucket:1,path:3},z=n===Mb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",H=new RegExp(`^https?://${z}/${a}/${P}`,"i"),Y=[{regex:d,indices:p,postModify:l},{regex:C,indices:M,postModify:g},{regex:H,indices:{bucket:1,path:2},postModify:g}];for(let ee=0;ee<Y.length;ee++){const se=Y[ee],me=se.regex.exec(e);if(me){const k=me[se.indices.bucket];let R=me[se.indices.path];R||(R=""),r=new pi(k,R),se.postModify(r);break}}if(r==null)throw xP(e);return r}}class UP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t,e,n){let r=1,a=null,l=null,c=!1,d=0;function p(){return d===2}let g=!1;function T(...P){g||(g=!0,e.apply(null,P))}function E(P){a=setTimeout(()=>{a=null,t(C,p())},P)}function A(){l&&clearTimeout(l)}function C(P,...H){if(g){A();return}if(P){A(),T.call(null,P,...H);return}if(p()||c){A(),T.call(null,P,...H);return}r<64&&(r*=2);let Y;d===1?(d=2,Y=0):Y=(r+Math.random())*1e3,E(Y)}let M=!1;function z(P){M||(M=!0,A(),!g&&(a!==null?(P||(d=2),clearTimeout(a),E(0)):P||(d=1)))}return E(0),l=setTimeout(()=>{c=!0,z(!0)},n),z}function zP(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t){return t!==void 0}function Sw(t,e,n,r){if(r<e)throw ww(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ww(`Invalid value for '${t}'. Expected ${n} or less.`)}function jP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Jf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jf||(Jf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n,r,a,l,c,d,p,g,T,E,A=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=T,this.connectionFactory_=E,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,M)=>{this.resolve_=C,this.reject_=M,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new df(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Jf.NO_ERROR,p=l.getStatus();if(!d||HP(p,this.additionalRetryCodes_)&&this.retry){const T=l.getErrorCode()===Jf.ABORT;r(!1,new df(!1,null,T));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new df(g,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());BP(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=kP();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(a.canceled){const p=this.appDelete_?Nb():NP();c(p)}else{const p=MP();c(p)}};this.canceled_?n(!1,new df(!1,null,!0)):this.backoffId_=LP(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class df{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function qP(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function YP(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GP(t,e){e&&(t["X-Firebase-GMPID"]=e)}function WP(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function KP(t,e,n,r,a,l,c=!0){const d=jP(t.urlParams),p=t.url+d,g=Object.assign({},t.headers);return GP(g,e),qP(g,n),YP(g,l),WP(g,r),new FP(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $P(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this._service=e,n instanceof pi?this._location=n:this._location=pi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ed(e,n)}get root(){const e=new pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $P(this._location.path)}get storage(){return this._service}get parent(){const e=QP(this._location.path);if(e===null)return null;const n=new pi(this._location.bucket,e);return new ed(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw VP(e)}}function Aw(t,e){const n=e==null?void 0:e[CP];return n==null?null:pi.makeFromBucketSpec(n,t)}function XP(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:sS(a,t.app.options.projectId))}class ZP{constructor(e,n,r,a,l){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=Mb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DP,this._maxUploadRetryTime=OP,this._requests=new Set,a!=null?this._bucket=pi.makeFromBucketSpec(a,this._host):this._bucket=Aw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pi.makeFromBucketSpec(this._url,e):this._bucket=Aw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ed(this,e)}_makeRequest(e,n,r,a,l=!0){if(this._deleted)return new UP(Nb());{const c=KP(e,this._appId,r,a,n,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const bw="@firebase/storage",Rw="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="storage";function JP(t=fy(),e){t=Vt(t);const r=hd(t,xb).getImmediate({identifier:e}),a=nS("storage");return a&&eV(r,...a),r}function eV(t,e,n,r={}){XP(t,e,n,r)}function tV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new ZP(n,r,a,e,Za)}function nV(){Fa(new Ks(xb,tV,"PUBLIC").setMultipleInstances(!0)),Bi(bw,Rw,""),Bi(bw,Rw,"esm2017")}nV();const iV={apiKey:"AIzaSyDJfUU-IXMA7yvMphO4fLCgsi8RcTIEXYA",authDomain:"chat-app11212.firebaseapp.com",projectId:"chat-app11212",storageBucket:"chat-app11212.appspot.com",messagingSenderId:"501135027412",appId:"1:501135027412:web:58d77356edbc5fc066df41"},a_=lS(iV),Il=kk(a_),Bn=Ix(a_);JP(a_);const rV=async(t,e,n)=>{try{const a=(await g2(Il,e,n)).user;await Yg(zn(Bn,"users",a.uid),{id:a.uid,username:t.toLowerCase(),email:e,name:"",avatar:"",bio:"Hey, There I am using chat app",lastSeen:Date.now()}),await Yg(zn(Bn,"chats",a.uid),{chatsData:[]})}catch(r){console.error(r),Le.error(r.code?r.code.split("/")[1].replace(/-/g," "):"Signup failed")}},sV=async(t,e)=>{try{await y2(Il,t,e)}catch(n){console.error(n),Le.error(n.code?n.code.split("/")[1].replace(/-/g," "):"Login failed")}},aV=async()=>{try{await T2(Il),Le.success("Logout successful!")}catch(t){console.error(t),Le.error(t.code?t.code.split("/")[1].replace(/-/g," "):"Logout failed")}},oV=()=>{const[t,e]=F.useState("Sign up"),[n,r]=F.useState(""),[a,l]=F.useState(""),[c,d]=F.useState(""),p=g=>{g.preventDefault(),t==="Sign up"?rV(n,a,c):sV(a,c)};return re.jsxs("div",{className:"login",children:[re.jsx("img",{src:js.logo_big,alt:"",className:"logo"}),re.jsxs("form",{onSubmit:p,className:"login-form",children:[re.jsx("h2",{children:t}),t==="Sign up"?re.jsx("input",{onChange:g=>r(g.target.value),value:n,type:"text",placeholder:"username",className:"form-input",required:!0}):null,re.jsx("input",{onChange:g=>l(g.target.value),value:a,type:"text",placeholder:"Email address",className:"form-input"}),re.jsx("input",{onChange:g=>d(g.target.value),value:c,type:"text",placeholder:"password",className:"form-input"}),re.jsx("button",{type:"submit",children:t==="Sign up"?"Create account":"Login now"}),re.jsxs("div",{className:"login-term",children:[re.jsx("input",{type:"checkbox"}),re.jsx("p",{children:"Agree to the terms of use & privacy policy."})]}),re.jsx("div",{className:"login-forgot",children:t==="Sign up"?re.jsxs("p",{className:"login-toggle",children:["Already have an account ",re.jsx("span",{onClick:()=>e("Login"),children:"Login here"})]}):re.jsxs("p",{className:"login-toggle",children:["Create an account ",re.jsx("span",{onClick:()=>e("Sign up"),children:"click here"})]})})]})]})},io=F.createContext(),lV=t=>{const e=_c(),[n,r]=F.useState(null),[a,l]=F.useState(null),[c,d]=F.useState(null),[p,g]=F.useState([]),[T,E]=F.useState(null),A=async M=>{if(M)try{const z=zn(Bn,"users",M),P=await cc(z);if(P.exists()){const H=P.data();r(H),H.avatar&&H.name?e("/chat"):e("/profile"),await Qa(z,{lastSeen:Date.now()}),setInterval(async()=>{Il.currentUser&&await Qa(z,{lastSeen:Date.now()})},6e4)}}catch(z){console.error("Error loading user data:",z)}};F.useEffect(()=>{if(n!=null&&n.id){const M=zn(Bn,"chats",n.id),z=wb(M,async P=>{var Y;const H=((Y=P.data())==null?void 0:Y.chatsData)||[],W=[];for(const ee of H)try{const se=zn(Bn,"users",ee.rId),me=await cc(se);me.exists()&&W.push({...ee,userData:me.data()})}catch(se){console.error("Error fetching chat user:",se)}l(W.sort((ee,se)=>se.updatedAt-ee.updatedAt))});return()=>z()}},[n]);const C={userData:n,setUserData:r,chatData:a,setChatData:l,loadUserData:A,messages:p,setMessages:g,messagesId:c,setMessagesId:d,chatUser:T,setChatUser:E};return re.jsx(io.Provider,{value:C,children:t.children})};var Pb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Iw=Xe.createContext&&Xe.createContext(Pb),uV=["attr","size","title"];function cV(t,e){if(t==null)return{};var n=hV(t,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hV(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function td(){return td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},td.apply(this,arguments)}function Cw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cw(Object(n),!0).forEach(function(r){fV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fV(t,e,n){return e=dV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dV(t){var e=mV(t,"string");return typeof e=="symbol"?e:e+""}function mV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vb(t){return t&&t.map((e,n)=>Xe.createElement(e.tag,nd({key:n},e.attr),Vb(e.child)))}function pV(t){return e=>Xe.createElement(gV,td({attr:nd({},t.attr)},e),Vb(t.child))}function gV(t){var e=n=>{var{attr:r,size:a,title:l}=t,c=cV(t,uV),d=a||n.size||"1em",p;return n.className&&(p=n.className),t.className&&(p=(p?p+" ":"")+t.className),Xe.createElement("svg",td({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:p,style:nd(nd({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Xe.createElement("title",null,l),t.children)};return Iw!==void 0?Xe.createElement(Iw.Consumer,null,n=>e(n)):e(Pb)}function o_(t){return pV({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm-50.22 116.82C218.45 151.39 236.28 144 256 144s37.39 7.44 50.11 20.94c12.89 13.68 19.16 32.06 17.68 51.82C320.83 256 290.43 288 256 288s-64.89-32-67.79-71.25c-1.47-19.92 4.79-38.36 17.57-51.93zM256 432a175.49 175.49 0 0 1-126-53.22 122.91 122.91 0 0 1 35.14-33.44C190.63 329 222.89 320 256 320s65.37 9 90.83 25.34A122.87 122.87 0 0 1 382 378.78 175.45 175.45 0 0 1 256 432z"},child:[]}]})(t)}const yV=()=>{const t=_c(),{userData:e,chatData:n,setChatUser:r,setMessagesId:a}=F.useContext(io),[l,c]=F.useState(null),[d,p]=F.useState(!1);console.log("Chat Data:",n);const g=Array.isArray(n)?n:[],T=async C=>{try{const M=C.target.value.trim();if(M){p(!0);const z=hg(Bn,"users"),P=Bx(z,jx("username","==",M.toLowerCase())),H=await Yx(P);if(H.empty)c(null);else{const W=H.docs[0].data();W.id!==e.id&&(g.some(ee=>ee.rId===W.id)||c(W))}}else p(!1),c(null)}catch(M){console.error("Error in inputHandler:",M)}},E=async()=>{if(!l)return;const C=hg(Bn,"messages"),M=hg(Bn,"chats");try{const z=zn(C);await Yg(z,{createdAt:Gx(),messages:[]});const P={messageId:z.id,lastMessage:"",rId:l.id,updatedAt:Date.now(),messageSeen:!0,userData:{name:l.name,id:l.id}},H={messageId:z.id,lastMessage:"",rId:e.id,updatedAt:Date.now(),messageSeen:!1,userData:{name:e.name,id:e.id}};await Qa(zn(M,l.id),{chatsData:Gg(H)}),await Qa(zn(M,e.id),{chatsData:Gg(P)}),Le.success("Chat added successfully!"),c(null),p(!1)}catch(z){Le.error("Failed to add chat: "+z.message),console.error(z)}},A=C=>{a(C.messageId),r({...C,userData:C.userData||{name:"Unknown User",id:C.rId}})};return re.jsxs("div",{className:"ls",children:[re.jsxs("div",{className:"ls-top",children:[re.jsxs("div",{className:"ls-nav",children:[re.jsx("img",{src:js.logo,className:"logo",alt:"Logo"}),re.jsxs("div",{className:"menu",children:[re.jsx("img",{src:js.menu_icon,alt:"Menu"}),re.jsxs("div",{className:"sub-menu",children:[re.jsx("p",{onClick:()=>t("/profile"),children:"Edit Profile"}),re.jsx("hr",{}),re.jsx("p",{children:"Logout"})]})]})]}),re.jsxs("div",{className:"ls-search",children:[re.jsx("img",{src:js.search_icon,alt:"Search"}),re.jsx("input",{onChange:T,type:"text",placeholder:"Search here.."})]})]}),re.jsx("div",{className:"ls-list",children:d&&l?re.jsx("div",{onClick:E,className:"frienduser",children:re.jsx("p",{children:l.name})}):g.length>0?g.map((C,M)=>{var z;return re.jsxs("div",{onClick:()=>A(C),className:"friends",children:[re.jsx(o_,{size:28}),re.jsxs("div",{children:[re.jsx("p",{children:((z=C==null?void 0:C.userData)==null?void 0:z.name)||"Unknown User"}),re.jsx("span",{children:(C==null?void 0:C.lastMessage)||"No messages yet"})]})]},M)}):re.jsx("p",{className:"no-chats",children:"No chats available"})})]})};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Ub;function le(){return Ub.apply(null,arguments)}function _V(t){Ub=t}function vi(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Ha(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Ze(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l_(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Ze(t,e))return!1;return!0}function In(t){return t===void 0}function Gr(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function xc(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function Lb(t,e){var n=[],r,a=t.length;for(r=0;r<a;++r)n.push(e(t[r],r));return n}function zs(t,e){for(var n in e)Ze(e,n)&&(t[n]=e[n]);return Ze(e,"toString")&&(t.toString=e.toString),Ze(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Ji(t,e,n,r){return o1(t,e,n,r,!0).utc()}function vV(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ke(t){return t._pf==null&&(t._pf=vV()),t._pf}var Xg;Array.prototype.some?Xg=Array.prototype.some:Xg=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function u_(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=ke(t),n=Xg.call(e.parsedDateParts,function(a){return a!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function Ud(t){var e=Ji(NaN);return t!=null?zs(ke(e),t):ke(e).userInvalidated=!0,e}var Dw=le.momentProperties=[],dg=!1;function c_(t,e){var n,r,a,l=Dw.length;if(In(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),In(e._i)||(t._i=e._i),In(e._f)||(t._f=e._f),In(e._l)||(t._l=e._l),In(e._strict)||(t._strict=e._strict),In(e._tzm)||(t._tzm=e._tzm),In(e._isUTC)||(t._isUTC=e._isUTC),In(e._offset)||(t._offset=e._offset),In(e._pf)||(t._pf=ke(e)),In(e._locale)||(t._locale=e._locale),l>0)for(n=0;n<l;n++)r=Dw[n],a=e[r],In(a)||(t[r]=a);return t}function Pc(t){c_(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),dg===!1&&(dg=!0,le.updateOffset(this),dg=!1)}function Ti(t){return t instanceof Pc||t!=null&&t._isAMomentObject!=null}function zb(t){le.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function oi(t,e){var n=!0;return zs(function(){if(le.deprecationHandler!=null&&le.deprecationHandler(null,t),n){var r=[],a,l,c,d=arguments.length;for(l=0;l<d;l++){if(a="",typeof arguments[l]=="object"){a+=`
[`+l+"] ";for(c in arguments[0])Ze(arguments[0],c)&&(a+=c+": "+arguments[0][c]+", ");a=a.slice(0,-2)}else a=arguments[l];r.push(a)}zb(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var Ow={};function Bb(t,e){le.deprecationHandler!=null&&le.deprecationHandler(t,e),Ow[t]||(zb(e),Ow[t]=!0)}le.suppressDeprecationWarnings=!1;le.deprecationHandler=null;function er(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function TV(t){var e,n;for(n in t)Ze(t,n)&&(e=t[n],er(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Zg(t,e){var n=zs({},t),r;for(r in e)Ze(e,r)&&(Ha(t[r])&&Ha(e[r])?(n[r]={},zs(n[r],t[r]),zs(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Ze(t,r)&&!Ze(e,r)&&Ha(t[r])&&(n[r]=zs({},n[r]));return n}function h_(t){t!=null&&this.set(t)}var Jg;Object.keys?Jg=Object.keys:Jg=function(t){var e,n=[];for(e in t)Ze(t,e)&&n.push(e);return n};var EV={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function wV(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return er(r)?r.call(e,n):r}function Qi(t,e,n){var r=""+Math.abs(t),a=e-r.length,l=t>=0;return(l?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var f_=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,mf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,mg={},ll={};function Te(t,e,n,r){var a=r;typeof r=="string"&&(a=function(){return this[r]()}),t&&(ll[t]=a),e&&(ll[e[0]]=function(){return Qi(a.apply(this,arguments),e[1],e[2])}),n&&(ll[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function SV(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function AV(t){var e=t.match(f_),n,r;for(n=0,r=e.length;n<r;n++)ll[e[n]]?e[n]=ll[e[n]]:e[n]=SV(e[n]);return function(a){var l="",c;for(c=0;c<r;c++)l+=er(e[c])?e[c].call(a,t):e[c];return l}}function Df(t,e){return t.isValid()?(e=jb(e,t.localeData()),mg[e]=mg[e]||AV(e),mg[e](t)):t.localeData().invalidDate()}function jb(t,e){var n=5;function r(a){return e.longDateFormat(a)||a}for(mf.lastIndex=0;n>=0&&mf.test(t);)t=t.replace(mf,r),mf.lastIndex=0,n-=1;return t}var bV={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function RV(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(f_).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var IV="Invalid date";function CV(){return this._invalidDate}var DV="%d",OV=/\d{1,2}/;function kV(t){return this._ordinal.replace("%d",t)}var MV={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function NV(t,e,n,r){var a=this._relativeTime[n];return er(a)?a(t,e,n,r):a.replace(/%d/i,t)}function xV(t,e){var n=this._relativeTime[t>0?"future":"past"];return er(n)?n(e):n.replace(/%s/i,e)}var kw={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function li(t){return typeof t=="string"?kw[t]||kw[t.toLowerCase()]:void 0}function d_(t){var e={},n,r;for(r in t)Ze(t,r)&&(n=li(r),n&&(e[n]=t[r]));return e}var PV={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function VV(t){var e=[],n;for(n in t)Ze(t,n)&&e.push({unit:n,priority:PV[n]});return e.sort(function(r,a){return r.priority-a.priority}),e}var Hb=/\d/,jn=/\d\d/,Fb=/\d{3}/,m_=/\d{4}/,Ld=/[+-]?\d{6}/,ft=/\d\d?/,qb=/\d\d\d\d?/,Yb=/\d\d\d\d\d\d?/,zd=/\d{1,3}/,p_=/\d{1,4}/,Bd=/[+-]?\d{1,6}/,Cl=/\d+/,jd=/[+-]?\d+/,UV=/Z|[+-]\d\d:?\d\d/gi,Hd=/Z|[+-]\d\d(?::?\d\d)?/gi,LV=/[+-]?\d+(\.\d{1,3})?/,Vc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Dl=/^[1-9]\d?/,g_=/^([1-9]\d|\d)/,id;id={};function fe(t,e,n){id[t]=er(e)?e:function(r,a){return r&&n?n:e}}function zV(t,e){return Ze(id,t)?id[t](e._strict,e._locale):new RegExp(BV(t))}function BV(t){return Lr(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,a,l){return n||r||a||l}))}function Lr(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function si(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ze(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=si(e)),n}var ey={};function at(t,e){var n,r=e,a;for(typeof t=="string"&&(t=[t]),Gr(e)&&(r=function(l,c){c[e]=ze(l)}),a=t.length,n=0;n<a;n++)ey[t[n]]=r}function Uc(t,e){at(t,function(n,r,a,l){a._w=a._w||{},e(n,a._w,a,l)})}function jV(t,e,n){e!=null&&Ze(ey,t)&&ey[t](e,n._a,n,t)}function Fd(t){return t%4===0&&t%100!==0||t%400===0}var pn=0,Nr=1,zi=2,Ft=3,gi=4,xr=5,Ba=6,HV=7,FV=8;Te("Y",0,0,function(){var t=this.year();return t<=9999?Qi(t,4):"+"+t});Te(0,["YY",2],0,function(){return this.year()%100});Te(0,["YYYY",4],0,"year");Te(0,["YYYYY",5],0,"year");Te(0,["YYYYYY",6,!0],0,"year");fe("Y",jd);fe("YY",ft,jn);fe("YYYY",p_,m_);fe("YYYYY",Bd,Ld);fe("YYYYYY",Bd,Ld);at(["YYYYY","YYYYYY"],pn);at("YYYY",function(t,e){e[pn]=t.length===2?le.parseTwoDigitYear(t):ze(t)});at("YY",function(t,e){e[pn]=le.parseTwoDigitYear(t)});at("Y",function(t,e){e[pn]=parseInt(t,10)});function Ju(t){return Fd(t)?366:365}le.parseTwoDigitYear=function(t){return ze(t)+(ze(t)>68?1900:2e3)};var Gb=Ol("FullYear",!0);function qV(){return Fd(this.year())}function Ol(t,e){return function(n){return n!=null?(Wb(this,t,n),le.updateOffset(this,e),this):fc(this,t)}}function fc(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Wb(t,e,n){var r,a,l,c,d;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,a=t._isUTC,e){case"Milliseconds":return void(a?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(a?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(a?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(a?r.setUTCHours(n):r.setHours(n));case"Date":return void(a?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}l=n,c=t.month(),d=t.date(),d=d===29&&c===1&&!Fd(l)?28:d,a?r.setUTCFullYear(l,c,d):r.setFullYear(l,c,d)}}function YV(t){return t=li(t),er(this[t])?this[t]():this}function GV(t,e){if(typeof t=="object"){t=d_(t);var n=VV(t),r,a=n.length;for(r=0;r<a;r++)this[n[r].unit](t[n[r].unit])}else if(t=li(t),er(this[t]))return this[t](e);return this}function WV(t,e){return(t%e+e)%e}var Ct;Array.prototype.indexOf?Ct=Array.prototype.indexOf:Ct=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function y_(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=WV(e,12);return t+=(e-n)/12,n===1?Fd(t)?29:28:31-n%7%2}Te("M",["MM",2],"Mo",function(){return this.month()+1});Te("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Te("MMMM",0,0,function(t){return this.localeData().months(this,t)});fe("M",ft,Dl);fe("MM",ft,jn);fe("MMM",function(t,e){return e.monthsShortRegex(t)});fe("MMMM",function(t,e){return e.monthsRegex(t)});at(["M","MM"],function(t,e){e[Nr]=ze(t)-1});at(["MMM","MMMM"],function(t,e,n,r){var a=n._locale.monthsParse(t,r,n._strict);a!=null?e[Nr]=a:ke(n).invalidMonth=t});var KV="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Kb="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Qb=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,QV=Vc,$V=Vc;function XV(t,e){return t?vi(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Qb).test(e)?"format":"standalone"][t.month()]:vi(this._months)?this._months:this._months.standalone}function ZV(t,e){return t?vi(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Qb.test(e)?"format":"standalone"][t.month()]:vi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function JV(t,e,n){var r,a,l,c=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)l=Ji([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(l,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(l,"").toLocaleLowerCase();return n?e==="MMM"?(a=Ct.call(this._shortMonthsParse,c),a!==-1?a:null):(a=Ct.call(this._longMonthsParse,c),a!==-1?a:null):e==="MMM"?(a=Ct.call(this._shortMonthsParse,c),a!==-1?a:(a=Ct.call(this._longMonthsParse,c),a!==-1?a:null)):(a=Ct.call(this._longMonthsParse,c),a!==-1?a:(a=Ct.call(this._shortMonthsParse,c),a!==-1?a:null))}function eU(t,e,n){var r,a,l;if(this._monthsParseExact)return JV.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=Ji([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(l="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(l.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function $b(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=ze(e);else if(e=t.localeData().monthsParse(e),!Gr(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,y_(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function Xb(t){return t!=null?($b(this,t),le.updateOffset(this,!0),this):fc(this,"Month")}function tU(){return y_(this.year(),this.month())}function nU(t){return this._monthsParseExact?(Ze(this,"_monthsRegex")||Zb.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Ze(this,"_monthsShortRegex")||(this._monthsShortRegex=QV),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function iU(t){return this._monthsParseExact?(Ze(this,"_monthsRegex")||Zb.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Ze(this,"_monthsRegex")||(this._monthsRegex=$V),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function Zb(){function t(p,g){return g.length-p.length}var e=[],n=[],r=[],a,l,c,d;for(a=0;a<12;a++)l=Ji([2e3,a]),c=Lr(this.monthsShort(l,"")),d=Lr(this.months(l,"")),e.push(c),n.push(d),r.push(d),r.push(c);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function rU(t,e,n,r,a,l,c){var d;return t<100&&t>=0?(d=new Date(t+400,e,n,r,a,l,c),isFinite(d.getFullYear())&&d.setFullYear(t)):d=new Date(t,e,n,r,a,l,c),d}function dc(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function rd(t,e,n){var r=7+e-n,a=(7+dc(t,0,r).getUTCDay()-e)%7;return-a+r-1}function Jb(t,e,n,r,a){var l=(7+n-r)%7,c=rd(t,r,a),d=1+7*(e-1)+l+c,p,g;return d<=0?(p=t-1,g=Ju(p)+d):d>Ju(t)?(p=t+1,g=d-Ju(t)):(p=t,g=d),{year:p,dayOfYear:g}}function mc(t,e,n){var r=rd(t.year(),e,n),a=Math.floor((t.dayOfYear()-r-1)/7)+1,l,c;return a<1?(c=t.year()-1,l=a+zr(c,e,n)):a>zr(t.year(),e,n)?(l=a-zr(t.year(),e,n),c=t.year()+1):(c=t.year(),l=a),{week:l,year:c}}function zr(t,e,n){var r=rd(t,e,n),a=rd(t+1,e,n);return(Ju(t)-r+a)/7}Te("w",["ww",2],"wo","week");Te("W",["WW",2],"Wo","isoWeek");fe("w",ft,Dl);fe("ww",ft,jn);fe("W",ft,Dl);fe("WW",ft,jn);Uc(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=ze(t)});function sU(t){return mc(t,this._week.dow,this._week.doy).week}var aU={dow:0,doy:6};function oU(){return this._week.dow}function lU(){return this._week.doy}function uU(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function cU(t){var e=mc(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Te("d",0,"do","day");Te("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Te("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Te("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Te("e",0,0,"weekday");Te("E",0,0,"isoWeekday");fe("d",ft);fe("e",ft);fe("E",ft);fe("dd",function(t,e){return e.weekdaysMinRegex(t)});fe("ddd",function(t,e){return e.weekdaysShortRegex(t)});fe("dddd",function(t,e){return e.weekdaysRegex(t)});Uc(["dd","ddd","dddd"],function(t,e,n,r){var a=n._locale.weekdaysParse(t,r,n._strict);a!=null?e.d=a:ke(n).invalidWeekday=t});Uc(["d","e","E"],function(t,e,n,r){e[r]=ze(t)});function hU(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function fU(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function __(t,e){return t.slice(e,7).concat(t.slice(0,e))}var dU="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),e1="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),mU="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),pU=Vc,gU=Vc,yU=Vc;function _U(t,e){var n=vi(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?__(n,this._week.dow):t?n[t.day()]:n}function vU(t){return t===!0?__(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function TU(t){return t===!0?__(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function EU(t,e,n){var r,a,l,c=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)l=Ji([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(l,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(l,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(l,"").toLocaleLowerCase();return n?e==="dddd"?(a=Ct.call(this._weekdaysParse,c),a!==-1?a:null):e==="ddd"?(a=Ct.call(this._shortWeekdaysParse,c),a!==-1?a:null):(a=Ct.call(this._minWeekdaysParse,c),a!==-1?a:null):e==="dddd"?(a=Ct.call(this._weekdaysParse,c),a!==-1||(a=Ct.call(this._shortWeekdaysParse,c),a!==-1)?a:(a=Ct.call(this._minWeekdaysParse,c),a!==-1?a:null)):e==="ddd"?(a=Ct.call(this._shortWeekdaysParse,c),a!==-1||(a=Ct.call(this._weekdaysParse,c),a!==-1)?a:(a=Ct.call(this._minWeekdaysParse,c),a!==-1?a:null)):(a=Ct.call(this._minWeekdaysParse,c),a!==-1||(a=Ct.call(this._weekdaysParse,c),a!==-1)?a:(a=Ct.call(this._shortWeekdaysParse,c),a!==-1?a:null))}function wU(t,e,n){var r,a,l;if(this._weekdaysParseExact)return EU.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=Ji([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(l="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(l.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function SU(t){if(!this.isValid())return t!=null?this:NaN;var e=fc(this,"Day");return t!=null?(t=hU(t,this.localeData()),this.add(t-e,"d")):e}function AU(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function bU(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=fU(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function RU(t){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||v_.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Ze(this,"_weekdaysRegex")||(this._weekdaysRegex=pU),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function IU(t){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||v_.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ze(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=gU),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function CU(t){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||v_.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ze(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=yU),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function v_(){function t(T,E){return E.length-T.length}var e=[],n=[],r=[],a=[],l,c,d,p,g;for(l=0;l<7;l++)c=Ji([2e3,1]).day(l),d=Lr(this.weekdaysMin(c,"")),p=Lr(this.weekdaysShort(c,"")),g=Lr(this.weekdays(c,"")),e.push(d),n.push(p),r.push(g),a.push(d),a.push(p),a.push(g);e.sort(t),n.sort(t),r.sort(t),a.sort(t),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function T_(){return this.hours()%12||12}function DU(){return this.hours()||24}Te("H",["HH",2],0,"hour");Te("h",["hh",2],0,T_);Te("k",["kk",2],0,DU);Te("hmm",0,0,function(){return""+T_.apply(this)+Qi(this.minutes(),2)});Te("hmmss",0,0,function(){return""+T_.apply(this)+Qi(this.minutes(),2)+Qi(this.seconds(),2)});Te("Hmm",0,0,function(){return""+this.hours()+Qi(this.minutes(),2)});Te("Hmmss",0,0,function(){return""+this.hours()+Qi(this.minutes(),2)+Qi(this.seconds(),2)});function t1(t,e){Te(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}t1("a",!0);t1("A",!1);function n1(t,e){return e._meridiemParse}fe("a",n1);fe("A",n1);fe("H",ft,g_);fe("h",ft,Dl);fe("k",ft,Dl);fe("HH",ft,jn);fe("hh",ft,jn);fe("kk",ft,jn);fe("hmm",qb);fe("hmmss",Yb);fe("Hmm",qb);fe("Hmmss",Yb);at(["H","HH"],Ft);at(["k","kk"],function(t,e,n){var r=ze(t);e[Ft]=r===24?0:r});at(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});at(["h","hh"],function(t,e,n){e[Ft]=ze(t),ke(n).bigHour=!0});at("hmm",function(t,e,n){var r=t.length-2;e[Ft]=ze(t.substr(0,r)),e[gi]=ze(t.substr(r)),ke(n).bigHour=!0});at("hmmss",function(t,e,n){var r=t.length-4,a=t.length-2;e[Ft]=ze(t.substr(0,r)),e[gi]=ze(t.substr(r,2)),e[xr]=ze(t.substr(a)),ke(n).bigHour=!0});at("Hmm",function(t,e,n){var r=t.length-2;e[Ft]=ze(t.substr(0,r)),e[gi]=ze(t.substr(r))});at("Hmmss",function(t,e,n){var r=t.length-4,a=t.length-2;e[Ft]=ze(t.substr(0,r)),e[gi]=ze(t.substr(r,2)),e[xr]=ze(t.substr(a))});function OU(t){return(t+"").toLowerCase().charAt(0)==="p"}var kU=/[ap]\.?m?\.?/i,MU=Ol("Hours",!0);function NU(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var i1={calendar:EV,longDateFormat:bV,invalidDate:IV,ordinal:DV,dayOfMonthOrdinalParse:OV,relativeTime:MV,months:KV,monthsShort:Kb,week:aU,weekdays:dU,weekdaysMin:mU,weekdaysShort:e1,meridiemParse:kU},dt={},Bu={},pc;function xU(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function Mw(t){return t&&t.toLowerCase().replace("_","-")}function PU(t){for(var e=0,n,r,a,l;e<t.length;){for(l=Mw(t[e]).split("-"),n=l.length,r=Mw(t[e+1]),r=r?r.split("-"):null;n>0;){if(a=qd(l.slice(0,n).join("-")),a)return a;if(r&&r.length>=n&&xU(l,r)>=n-1)break;n--}e++}return pc}function VU(t){return!!(t&&t.match("^[^/\\\\]*$"))}function qd(t){var e=null,n;if(dt[t]===void 0&&typeof Mf<"u"&&Mf&&Mf.exports&&VU(t))try{e=pc._abbr,n=require,n("./locale/"+t),Gs(e)}catch{dt[t]=null}return dt[t]}function Gs(t,e){var n;return t&&(In(e)?n=Kr(t):n=E_(t,e),n?pc=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),pc._abbr}function E_(t,e){if(e!==null){var n,r=i1;if(e.abbr=t,dt[t]!=null)Bb("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=dt[t]._config;else if(e.parentLocale!=null)if(dt[e.parentLocale]!=null)r=dt[e.parentLocale]._config;else if(n=qd(e.parentLocale),n!=null)r=n._config;else return Bu[e.parentLocale]||(Bu[e.parentLocale]=[]),Bu[e.parentLocale].push({name:t,config:e}),null;return dt[t]=new h_(Zg(r,e)),Bu[t]&&Bu[t].forEach(function(a){E_(a.name,a.config)}),Gs(t),dt[t]}else return delete dt[t],null}function UU(t,e){if(e!=null){var n,r,a=i1;dt[t]!=null&&dt[t].parentLocale!=null?dt[t].set(Zg(dt[t]._config,e)):(r=qd(t),r!=null&&(a=r._config),e=Zg(a,e),r==null&&(e.abbr=t),n=new h_(e),n.parentLocale=dt[t],dt[t]=n),Gs(t)}else dt[t]!=null&&(dt[t].parentLocale!=null?(dt[t]=dt[t].parentLocale,t===Gs()&&Gs(t)):dt[t]!=null&&delete dt[t]);return dt[t]}function Kr(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return pc;if(!vi(t)){if(e=qd(t),e)return e;t=[t]}return PU(t)}function LU(){return Jg(dt)}function w_(t){var e,n=t._a;return n&&ke(t).overflow===-2&&(e=n[Nr]<0||n[Nr]>11?Nr:n[zi]<1||n[zi]>y_(n[pn],n[Nr])?zi:n[Ft]<0||n[Ft]>24||n[Ft]===24&&(n[gi]!==0||n[xr]!==0||n[Ba]!==0)?Ft:n[gi]<0||n[gi]>59?gi:n[xr]<0||n[xr]>59?xr:n[Ba]<0||n[Ba]>999?Ba:-1,ke(t)._overflowDayOfYear&&(e<pn||e>zi)&&(e=zi),ke(t)._overflowWeeks&&e===-1&&(e=HV),ke(t)._overflowWeekday&&e===-1&&(e=FV),ke(t).overflow=e),t}var zU=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,BU=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jU=/Z|[+-]\d\d(?::?\d\d)?/,pf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pg=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],HU=/^\/?Date\((-?\d+)/i,FU=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,qU={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function r1(t){var e,n,r=t._i,a=zU.exec(r)||BU.exec(r),l,c,d,p,g=pf.length,T=pg.length;if(a){for(ke(t).iso=!0,e=0,n=g;e<n;e++)if(pf[e][1].exec(a[1])){c=pf[e][0],l=pf[e][2]!==!1;break}if(c==null){t._isValid=!1;return}if(a[3]){for(e=0,n=T;e<n;e++)if(pg[e][1].exec(a[3])){d=(a[2]||" ")+pg[e][0];break}if(d==null){t._isValid=!1;return}}if(!l&&d!=null){t._isValid=!1;return}if(a[4])if(jU.exec(a[4]))p="Z";else{t._isValid=!1;return}t._f=c+(d||"")+(p||""),A_(t)}else t._isValid=!1}function YU(t,e,n,r,a,l){var c=[GU(t),Kb.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return l&&c.push(parseInt(l,10)),c}function GU(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function WU(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function KU(t,e,n){if(t){var r=e1.indexOf(t),a=new Date(e[0],e[1],e[2]).getDay();if(r!==a)return ke(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function QU(t,e,n){if(t)return qU[t];if(e)return 0;var r=parseInt(n,10),a=r%100,l=(r-a)/100;return l*60+a}function s1(t){var e=FU.exec(WU(t._i)),n;if(e){if(n=YU(e[4],e[3],e[2],e[5],e[6],e[7]),!KU(e[1],n,t))return;t._a=n,t._tzm=QU(e[8],e[9],e[10]),t._d=dc.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ke(t).rfc2822=!0}else t._isValid=!1}function $U(t){var e=HU.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(r1(t),t._isValid===!1)delete t._isValid;else return;if(s1(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:le.createFromInputFallback(t)}le.createFromInputFallback=oi("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function tl(t,e,n){return t??e??n}function XU(t){var e=new Date(le.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function S_(t){var e,n,r=[],a,l,c;if(!t._d){for(a=XU(t),t._w&&t._a[zi]==null&&t._a[Nr]==null&&ZU(t),t._dayOfYear!=null&&(c=tl(t._a[pn],a[pn]),(t._dayOfYear>Ju(c)||t._dayOfYear===0)&&(ke(t)._overflowDayOfYear=!0),n=dc(c,0,t._dayOfYear),t._a[Nr]=n.getUTCMonth(),t._a[zi]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=a[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Ft]===24&&t._a[gi]===0&&t._a[xr]===0&&t._a[Ba]===0&&(t._nextDay=!0,t._a[Ft]=0),t._d=(t._useUTC?dc:rU).apply(null,r),l=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ft]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==l&&(ke(t).weekdayMismatch=!0)}}function ZU(t){var e,n,r,a,l,c,d,p,g;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(l=1,c=4,n=tl(e.GG,t._a[pn],mc(ht(),1,4).year),r=tl(e.W,1),a=tl(e.E,1),(a<1||a>7)&&(p=!0)):(l=t._locale._week.dow,c=t._locale._week.doy,g=mc(ht(),l,c),n=tl(e.gg,t._a[pn],g.year),r=tl(e.w,g.week),e.d!=null?(a=e.d,(a<0||a>6)&&(p=!0)):e.e!=null?(a=e.e+l,(e.e<0||e.e>6)&&(p=!0)):a=l),r<1||r>zr(n,l,c)?ke(t)._overflowWeeks=!0:p!=null?ke(t)._overflowWeekday=!0:(d=Jb(n,r,a,l,c),t._a[pn]=d.year,t._dayOfYear=d.dayOfYear)}le.ISO_8601=function(){};le.RFC_2822=function(){};function A_(t){if(t._f===le.ISO_8601){r1(t);return}if(t._f===le.RFC_2822){s1(t);return}t._a=[],ke(t).empty=!0;var e=""+t._i,n,r,a,l,c,d=e.length,p=0,g,T;for(a=jb(t._f,t._locale).match(f_)||[],T=a.length,n=0;n<T;n++)l=a[n],r=(e.match(zV(l,t))||[])[0],r&&(c=e.substr(0,e.indexOf(r)),c.length>0&&ke(t).unusedInput.push(c),e=e.slice(e.indexOf(r)+r.length),p+=r.length),ll[l]?(r?ke(t).empty=!1:ke(t).unusedTokens.push(l),jV(l,r,t)):t._strict&&!r&&ke(t).unusedTokens.push(l);ke(t).charsLeftOver=d-p,e.length>0&&ke(t).unusedInput.push(e),t._a[Ft]<=12&&ke(t).bigHour===!0&&t._a[Ft]>0&&(ke(t).bigHour=void 0),ke(t).parsedDateParts=t._a.slice(0),ke(t).meridiem=t._meridiem,t._a[Ft]=JU(t._locale,t._a[Ft],t._meridiem),g=ke(t).era,g!==null&&(t._a[pn]=t._locale.erasConvertYear(g,t._a[pn])),S_(t),w_(t)}function JU(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function eL(t){var e,n,r,a,l,c,d=!1,p=t._f.length;if(p===0){ke(t).invalidFormat=!0,t._d=new Date(NaN);return}for(a=0;a<p;a++)l=0,c=!1,e=c_({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[a],A_(e),u_(e)&&(c=!0),l+=ke(e).charsLeftOver,l+=ke(e).unusedTokens.length*10,ke(e).score=l,d?l<r&&(r=l,n=e):(r==null||l<r||c)&&(r=l,n=e,c&&(d=!0));zs(t,n||e)}function tL(t){if(!t._d){var e=d_(t._i),n=e.day===void 0?e.date:e.day;t._a=Lb([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),S_(t)}}function nL(t){var e=new Pc(w_(a1(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function a1(t){var e=t._i,n=t._f;return t._locale=t._locale||Kr(t._l),e===null||n===void 0&&e===""?Ud({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Ti(e)?new Pc(w_(e)):(xc(e)?t._d=e:vi(n)?eL(t):n?A_(t):iL(t),u_(t)||(t._d=null),t))}function iL(t){var e=t._i;In(e)?t._d=new Date(le.now()):xc(e)?t._d=new Date(e.valueOf()):typeof e=="string"?$U(t):vi(e)?(t._a=Lb(e.slice(0),function(n){return parseInt(n,10)}),S_(t)):Ha(e)?tL(t):Gr(e)?t._d=new Date(e):le.createFromInputFallback(t)}function o1(t,e,n,r,a){var l={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Ha(t)&&l_(t)||vi(t)&&t.length===0)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=n,l._i=t,l._f=e,l._strict=r,nL(l)}function ht(t,e,n,r){return o1(t,e,n,r,!1)}var rL=oi("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ht.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Ud()}),sL=oi("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ht.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Ud()});function l1(t,e){var n,r;if(e.length===1&&vi(e[0])&&(e=e[0]),!e.length)return ht();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function aL(){var t=[].slice.call(arguments,0);return l1("isBefore",t)}function oL(){var t=[].slice.call(arguments,0);return l1("isAfter",t)}var lL=function(){return Date.now?Date.now():+new Date},ju=["year","quarter","month","week","day","hour","minute","second","millisecond"];function uL(t){var e,n=!1,r,a=ju.length;for(e in t)if(Ze(t,e)&&!(Ct.call(ju,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<a;++r)if(t[ju[r]]){if(n)return!1;parseFloat(t[ju[r]])!==ze(t[ju[r]])&&(n=!0)}return!0}function cL(){return this._isValid}function hL(){return Ei(NaN)}function Yd(t){var e=d_(t),n=e.year||0,r=e.quarter||0,a=e.month||0,l=e.week||e.isoWeek||0,c=e.day||0,d=e.hour||0,p=e.minute||0,g=e.second||0,T=e.millisecond||0;this._isValid=uL(e),this._milliseconds=+T+g*1e3+p*6e4+d*1e3*60*60,this._days=+c+l*7,this._months=+a+r*3+n*12,this._data={},this._locale=Kr(),this._bubble()}function Of(t){return t instanceof Yd}function ty(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function fL(t,e,n){var r=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),l=0,c;for(c=0;c<r;c++)ze(t[c])!==ze(e[c])&&l++;return l+a}function u1(t,e){Te(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Qi(~~(n/60),2)+e+Qi(~~n%60,2)})}u1("Z",":");u1("ZZ","");fe("Z",Hd);fe("ZZ",Hd);at(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=b_(Hd,t)});var dL=/([\+\-]|\d\d)/gi;function b_(t,e){var n=(e||"").match(t),r,a,l;return n===null?null:(r=n[n.length-1]||[],a=(r+"").match(dL)||["-",0,0],l=+(a[1]*60)+ze(a[2]),l===0?0:a[0]==="+"?l:-l)}function R_(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Ti(t)||xc(t)?t.valueOf():ht(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),le.updateOffset(n,!1),n):ht(t).local()}function ny(t){return-Math.round(t._d.getTimezoneOffset())}le.updateOffset=function(){};function mL(t,e,n){var r=this._offset||0,a;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=b_(Hd,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(a=ny(this)),this._offset=t,this._isUTC=!0,a!=null&&this.add(a,"m"),r!==t&&(!e||this._changeInProgress?f1(this,Ei(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,le.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:ny(this)}function pL(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function gL(t){return this.utcOffset(0,t)}function yL(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ny(this),"m")),this}function _L(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=b_(UV,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function vL(t){return this.isValid()?(t=t?ht(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function TL(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function EL(){if(!In(this._isDSTShifted))return this._isDSTShifted;var t={},e;return c_(t,this),t=a1(t),t._a?(e=t._isUTC?Ji(t._a):ht(t._a),this._isDSTShifted=this.isValid()&&fL(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function wL(){return this.isValid()?!this._isUTC:!1}function SL(){return this.isValid()?this._isUTC:!1}function c1(){return this.isValid()?this._isUTC&&this._offset===0:!1}var AL=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,bL=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ei(t,e){var n=t,r=null,a,l,c;return Of(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Gr(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=AL.exec(t))?(a=r[1]==="-"?-1:1,n={y:0,d:ze(r[zi])*a,h:ze(r[Ft])*a,m:ze(r[gi])*a,s:ze(r[xr])*a,ms:ze(ty(r[Ba]*1e3))*a}):(r=bL.exec(t))?(a=r[1]==="-"?-1:1,n={y:Ua(r[2],a),M:Ua(r[3],a),w:Ua(r[4],a),d:Ua(r[5],a),h:Ua(r[6],a),m:Ua(r[7],a),s:Ua(r[8],a)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(c=RL(ht(n.from),ht(n.to)),n={},n.ms=c.milliseconds,n.M=c.months),l=new Yd(n),Of(t)&&Ze(t,"_locale")&&(l._locale=t._locale),Of(t)&&Ze(t,"_isValid")&&(l._isValid=t._isValid),l}Ei.fn=Yd.prototype;Ei.invalid=hL;function Ua(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Nw(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function RL(t,e){var n;return t.isValid()&&e.isValid()?(e=R_(e,t),t.isBefore(e)?n=Nw(t,e):(n=Nw(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function h1(t,e){return function(n,r){var a,l;return r!==null&&!isNaN(+r)&&(Bb(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),l=n,n=r,r=l),a=Ei(n,r),f1(this,a,t),this}}function f1(t,e,n,r){var a=e._milliseconds,l=ty(e._days),c=ty(e._months);t.isValid()&&(r=r??!0,c&&$b(t,fc(t,"Month")+c*n),l&&Wb(t,"Date",fc(t,"Date")+l*n),a&&t._d.setTime(t._d.valueOf()+a*n),r&&le.updateOffset(t,l||c))}var IL=h1(1,"add"),CL=h1(-1,"subtract");function d1(t){return typeof t=="string"||t instanceof String}function DL(t){return Ti(t)||xc(t)||d1(t)||Gr(t)||kL(t)||OL(t)||t===null||t===void 0}function OL(t){var e=Ha(t)&&!l_(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,l,c=r.length;for(a=0;a<c;a+=1)l=r[a],n=n||Ze(t,l);return e&&n}function kL(t){var e=vi(t),n=!1;return e&&(n=t.filter(function(r){return!Gr(r)&&d1(t)}).length===0),e&&n}function ML(t){var e=Ha(t)&&!l_(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,l;for(a=0;a<r.length;a+=1)l=r[a],n=n||Ze(t,l);return e&&n}function NL(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function xL(t,e){arguments.length===1&&(arguments[0]?DL(arguments[0])?(t=arguments[0],e=void 0):ML(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||ht(),r=R_(n,this).startOf("day"),a=le.calendarFormat(this,r)||"sameElse",l=e&&(er(e[a])?e[a].call(this,n):e[a]);return this.format(l||this.localeData().calendar(a,this,ht(n)))}function PL(){return new Pc(this)}function VL(t,e){var n=Ti(t)?t:ht(t);return this.isValid()&&n.isValid()?(e=li(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function UL(t,e){var n=Ti(t)?t:ht(t);return this.isValid()&&n.isValid()?(e=li(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function LL(t,e,n,r){var a=Ti(t)?t:ht(t),l=Ti(e)?e:ht(e);return this.isValid()&&a.isValid()&&l.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(a,n):!this.isBefore(a,n))&&(r[1]===")"?this.isBefore(l,n):!this.isAfter(l,n))):!1}function zL(t,e){var n=Ti(t)?t:ht(t),r;return this.isValid()&&n.isValid()?(e=li(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function BL(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function jL(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function HL(t,e,n){var r,a,l;if(!this.isValid())return NaN;if(r=R_(t,this),!r.isValid())return NaN;switch(a=(r.utcOffset()-this.utcOffset())*6e4,e=li(e),e){case"year":l=kf(this,r)/12;break;case"month":l=kf(this,r);break;case"quarter":l=kf(this,r)/3;break;case"second":l=(this-r)/1e3;break;case"minute":l=(this-r)/6e4;break;case"hour":l=(this-r)/36e5;break;case"day":l=(this-r-a)/864e5;break;case"week":l=(this-r-a)/6048e5;break;default:l=this-r}return n?l:si(l)}function kf(t,e){if(t.date()<e.date())return-kf(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),a,l;return e-r<0?(a=t.clone().add(n-1,"months"),l=(e-r)/(r-a)):(a=t.clone().add(n+1,"months"),l=(e-r)/(a-r)),-(n+l)||0}le.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";le.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function FL(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function qL(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Df(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):er(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Df(n,"Z")):Df(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function YL(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,a,l;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",l=e+'[")]',this.format(n+r+a+l)}function GL(t){t||(t=this.isUtc()?le.defaultFormatUtc:le.defaultFormat);var e=Df(this,t);return this.localeData().postformat(e)}function WL(t,e){return this.isValid()&&(Ti(t)&&t.isValid()||ht(t).isValid())?Ei({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function KL(t){return this.from(ht(),t)}function QL(t,e){return this.isValid()&&(Ti(t)&&t.isValid()||ht(t).isValid())?Ei({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function $L(t){return this.to(ht(),t)}function m1(t){var e;return t===void 0?this._locale._abbr:(e=Kr(t),e!=null&&(this._locale=e),this)}var p1=oi("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function g1(){return this._locale}var sd=1e3,ul=60*sd,ad=60*ul,y1=(365*400+97)*24*ad;function cl(t,e){return(t%e+e)%e}function _1(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-y1:new Date(t,e,n).valueOf()}function v1(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-y1:Date.UTC(t,e,n)}function XL(t){var e,n;if(t=li(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?v1:_1,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=cl(e+(this._isUTC?0:this.utcOffset()*ul),ad);break;case"minute":e=this._d.valueOf(),e-=cl(e,ul);break;case"second":e=this._d.valueOf(),e-=cl(e,sd);break}return this._d.setTime(e),le.updateOffset(this,!0),this}function ZL(t){var e,n;if(t=li(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?v1:_1,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ad-cl(e+(this._isUTC?0:this.utcOffset()*ul),ad)-1;break;case"minute":e=this._d.valueOf(),e+=ul-cl(e,ul)-1;break;case"second":e=this._d.valueOf(),e+=sd-cl(e,sd)-1;break}return this._d.setTime(e),le.updateOffset(this,!0),this}function JL(){return this._d.valueOf()-(this._offset||0)*6e4}function e4(){return Math.floor(this.valueOf()/1e3)}function t4(){return new Date(this.valueOf())}function n4(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function i4(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function r4(){return this.isValid()?this.toISOString():null}function s4(){return u_(this)}function a4(){return zs({},ke(this))}function o4(){return ke(this).overflow}function l4(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Te("N",0,0,"eraAbbr");Te("NN",0,0,"eraAbbr");Te("NNN",0,0,"eraAbbr");Te("NNNN",0,0,"eraName");Te("NNNNN",0,0,"eraNarrow");Te("y",["y",1],"yo","eraYear");Te("y",["yy",2],0,"eraYear");Te("y",["yyy",3],0,"eraYear");Te("y",["yyyy",4],0,"eraYear");fe("N",I_);fe("NN",I_);fe("NNN",I_);fe("NNNN",v4);fe("NNNNN",T4);at(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var a=n._locale.erasParse(t,r,n._strict);a?ke(n).era=a:ke(n).invalidEra=t});fe("y",Cl);fe("yy",Cl);fe("yyy",Cl);fe("yyyy",Cl);fe("yo",E4);at(["y","yy","yyy","yyyy"],pn);at(["yo"],function(t,e,n,r){var a;n._locale._eraYearOrdinalRegex&&(a=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[pn]=n._locale.eraYearOrdinalParse(t,a):e[pn]=parseInt(t,10)});function u4(t,e){var n,r,a,l=this._eras||Kr("en")._eras;for(n=0,r=l.length;n<r;++n){switch(typeof l[n].since){case"string":a=le(l[n].since).startOf("day"),l[n].since=a.valueOf();break}switch(typeof l[n].until){case"undefined":l[n].until=1/0;break;case"string":a=le(l[n].until).startOf("day").valueOf(),l[n].until=a.valueOf();break}}return l}function c4(t,e,n){var r,a,l=this.eras(),c,d,p;for(t=t.toUpperCase(),r=0,a=l.length;r<a;++r)if(c=l[r].name.toUpperCase(),d=l[r].abbr.toUpperCase(),p=l[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(d===t)return l[r];break;case"NNNN":if(c===t)return l[r];break;case"NNNNN":if(p===t)return l[r];break}else if([c,d,p].indexOf(t)>=0)return l[r]}function h4(t,e){var n=t.since<=t.until?1:-1;return e===void 0?le(t.since).year():le(t.since).year()+(e-t.offset)*n}function f4(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function d4(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function m4(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function p4(){var t,e,n,r,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(n=a[t].since<=a[t].until?1:-1,r=this.clone().startOf("day").valueOf(),a[t].since<=r&&r<=a[t].until||a[t].until<=r&&r<=a[t].since)return(this.year()-le(a[t].since).year())*n+a[t].offset;return this.year()}function g4(t){return Ze(this,"_erasNameRegex")||C_.call(this),t?this._erasNameRegex:this._erasRegex}function y4(t){return Ze(this,"_erasAbbrRegex")||C_.call(this),t?this._erasAbbrRegex:this._erasRegex}function _4(t){return Ze(this,"_erasNarrowRegex")||C_.call(this),t?this._erasNarrowRegex:this._erasRegex}function I_(t,e){return e.erasAbbrRegex(t)}function v4(t,e){return e.erasNameRegex(t)}function T4(t,e){return e.erasNarrowRegex(t)}function E4(t,e){return e._eraYearOrdinalRegex||Cl}function C_(){var t=[],e=[],n=[],r=[],a,l,c,d,p,g=this.eras();for(a=0,l=g.length;a<l;++a)c=Lr(g[a].name),d=Lr(g[a].abbr),p=Lr(g[a].narrow),e.push(c),t.push(d),n.push(p),r.push(c),r.push(d),r.push(p);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Te(0,["gg",2],0,function(){return this.weekYear()%100});Te(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Gd(t,e){Te(0,[t,t.length],0,e)}Gd("gggg","weekYear");Gd("ggggg","weekYear");Gd("GGGG","isoWeekYear");Gd("GGGGG","isoWeekYear");fe("G",jd);fe("g",jd);fe("GG",ft,jn);fe("gg",ft,jn);fe("GGGG",p_,m_);fe("gggg",p_,m_);fe("GGGGG",Bd,Ld);fe("ggggg",Bd,Ld);Uc(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=ze(t)});Uc(["gg","GG"],function(t,e,n,r){e[r]=le.parseTwoDigitYear(t)});function w4(t){return T1.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function S4(t){return T1.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function A4(){return zr(this.year(),1,4)}function b4(){return zr(this.isoWeekYear(),1,4)}function R4(){var t=this.localeData()._week;return zr(this.year(),t.dow,t.doy)}function I4(){var t=this.localeData()._week;return zr(this.weekYear(),t.dow,t.doy)}function T1(t,e,n,r,a){var l;return t==null?mc(this,r,a).year:(l=zr(t,r,a),e>l&&(e=l),C4.call(this,t,e,n,r,a))}function C4(t,e,n,r,a){var l=Jb(t,e,n,r,a),c=dc(l.year,0,l.dayOfYear);return this.year(c.getUTCFullYear()),this.month(c.getUTCMonth()),this.date(c.getUTCDate()),this}Te("Q",0,"Qo","quarter");fe("Q",Hb);at("Q",function(t,e){e[Nr]=(ze(t)-1)*3});function D4(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Te("D",["DD",2],"Do","date");fe("D",ft,Dl);fe("DD",ft,jn);fe("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});at(["D","DD"],zi);at("Do",function(t,e){e[zi]=ze(t.match(ft)[0])});var E1=Ol("Date",!0);Te("DDD",["DDDD",3],"DDDo","dayOfYear");fe("DDD",zd);fe("DDDD",Fb);at(["DDD","DDDD"],function(t,e,n){n._dayOfYear=ze(t)});function O4(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Te("m",["mm",2],0,"minute");fe("m",ft,g_);fe("mm",ft,jn);at(["m","mm"],gi);var k4=Ol("Minutes",!1);Te("s",["ss",2],0,"second");fe("s",ft,g_);fe("ss",ft,jn);at(["s","ss"],xr);var M4=Ol("Seconds",!1);Te("S",0,0,function(){return~~(this.millisecond()/100)});Te(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Te(0,["SSS",3],0,"millisecond");Te(0,["SSSS",4],0,function(){return this.millisecond()*10});Te(0,["SSSSS",5],0,function(){return this.millisecond()*100});Te(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Te(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Te(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Te(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});fe("S",zd,Hb);fe("SS",zd,jn);fe("SSS",zd,Fb);var Bs,w1;for(Bs="SSSS";Bs.length<=9;Bs+="S")fe(Bs,Cl);function N4(t,e){e[Ba]=ze(("0."+t)*1e3)}for(Bs="S";Bs.length<=9;Bs+="S")at(Bs,N4);w1=Ol("Milliseconds",!1);Te("z",0,0,"zoneAbbr");Te("zz",0,0,"zoneName");function x4(){return this._isUTC?"UTC":""}function P4(){return this._isUTC?"Coordinated Universal Time":""}var ie=Pc.prototype;ie.add=IL;ie.calendar=xL;ie.clone=PL;ie.diff=HL;ie.endOf=ZL;ie.format=GL;ie.from=WL;ie.fromNow=KL;ie.to=QL;ie.toNow=$L;ie.get=YV;ie.invalidAt=o4;ie.isAfter=VL;ie.isBefore=UL;ie.isBetween=LL;ie.isSame=zL;ie.isSameOrAfter=BL;ie.isSameOrBefore=jL;ie.isValid=s4;ie.lang=p1;ie.locale=m1;ie.localeData=g1;ie.max=sL;ie.min=rL;ie.parsingFlags=a4;ie.set=GV;ie.startOf=XL;ie.subtract=CL;ie.toArray=n4;ie.toObject=i4;ie.toDate=t4;ie.toISOString=qL;ie.inspect=YL;typeof Symbol<"u"&&Symbol.for!=null&&(ie[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ie.toJSON=r4;ie.toString=FL;ie.unix=e4;ie.valueOf=JL;ie.creationData=l4;ie.eraName=f4;ie.eraNarrow=d4;ie.eraAbbr=m4;ie.eraYear=p4;ie.year=Gb;ie.isLeapYear=qV;ie.weekYear=w4;ie.isoWeekYear=S4;ie.quarter=ie.quarters=D4;ie.month=Xb;ie.daysInMonth=tU;ie.week=ie.weeks=uU;ie.isoWeek=ie.isoWeeks=cU;ie.weeksInYear=R4;ie.weeksInWeekYear=I4;ie.isoWeeksInYear=A4;ie.isoWeeksInISOWeekYear=b4;ie.date=E1;ie.day=ie.days=SU;ie.weekday=AU;ie.isoWeekday=bU;ie.dayOfYear=O4;ie.hour=ie.hours=MU;ie.minute=ie.minutes=k4;ie.second=ie.seconds=M4;ie.millisecond=ie.milliseconds=w1;ie.utcOffset=mL;ie.utc=gL;ie.local=yL;ie.parseZone=_L;ie.hasAlignedHourOffset=vL;ie.isDST=TL;ie.isLocal=wL;ie.isUtcOffset=SL;ie.isUtc=c1;ie.isUTC=c1;ie.zoneAbbr=x4;ie.zoneName=P4;ie.dates=oi("dates accessor is deprecated. Use date instead.",E1);ie.months=oi("months accessor is deprecated. Use month instead",Xb);ie.years=oi("years accessor is deprecated. Use year instead",Gb);ie.zone=oi("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",pL);ie.isDSTShifted=oi("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",EL);function V4(t){return ht(t*1e3)}function U4(){return ht.apply(null,arguments).parseZone()}function S1(t){return t}var Je=h_.prototype;Je.calendar=wV;Je.longDateFormat=RV;Je.invalidDate=CV;Je.ordinal=kV;Je.preparse=S1;Je.postformat=S1;Je.relativeTime=NV;Je.pastFuture=xV;Je.set=TV;Je.eras=u4;Je.erasParse=c4;Je.erasConvertYear=h4;Je.erasAbbrRegex=y4;Je.erasNameRegex=g4;Je.erasNarrowRegex=_4;Je.months=XV;Je.monthsShort=ZV;Je.monthsParse=eU;Je.monthsRegex=iU;Je.monthsShortRegex=nU;Je.week=sU;Je.firstDayOfYear=lU;Je.firstDayOfWeek=oU;Je.weekdays=_U;Je.weekdaysMin=TU;Je.weekdaysShort=vU;Je.weekdaysParse=wU;Je.weekdaysRegex=RU;Je.weekdaysShortRegex=IU;Je.weekdaysMinRegex=CU;Je.isPM=OU;Je.meridiem=NU;function od(t,e,n,r){var a=Kr(),l=Ji().set(r,e);return a[n](l,t)}function A1(t,e,n){if(Gr(t)&&(e=t,t=void 0),t=t||"",e!=null)return od(t,e,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=od(t,r,n,"month");return a}function D_(t,e,n,r){typeof t=="boolean"?(Gr(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Gr(e)&&(n=e,e=void 0),e=e||"");var a=Kr(),l=t?a._week.dow:0,c,d=[];if(n!=null)return od(e,(n+l)%7,r,"day");for(c=0;c<7;c++)d[c]=od(e,(c+l)%7,r,"day");return d}function L4(t,e){return A1(t,e,"months")}function z4(t,e){return A1(t,e,"monthsShort")}function B4(t,e,n){return D_(t,e,n,"weekdays")}function j4(t,e,n){return D_(t,e,n,"weekdaysShort")}function H4(t,e,n){return D_(t,e,n,"weekdaysMin")}Gs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=ze(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});le.lang=oi("moment.lang is deprecated. Use moment.locale instead.",Gs);le.langData=oi("moment.langData is deprecated. Use moment.localeData instead.",Kr);var Cr=Math.abs;function F4(){var t=this._data;return this._milliseconds=Cr(this._milliseconds),this._days=Cr(this._days),this._months=Cr(this._months),t.milliseconds=Cr(t.milliseconds),t.seconds=Cr(t.seconds),t.minutes=Cr(t.minutes),t.hours=Cr(t.hours),t.months=Cr(t.months),t.years=Cr(t.years),this}function b1(t,e,n,r){var a=Ei(e,n);return t._milliseconds+=r*a._milliseconds,t._days+=r*a._days,t._months+=r*a._months,t._bubble()}function q4(t,e){return b1(this,t,e,1)}function Y4(t,e){return b1(this,t,e,-1)}function xw(t){return t<0?Math.floor(t):Math.ceil(t)}function G4(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,a,l,c,d,p;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=xw(iy(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,a=si(t/1e3),r.seconds=a%60,l=si(a/60),r.minutes=l%60,c=si(l/60),r.hours=c%24,e+=si(c/24),p=si(R1(e)),n+=p,e-=xw(iy(p)),d=si(n/12),n%=12,r.days=e,r.months=n,r.years=d,this}function R1(t){return t*4800/146097}function iy(t){return t*146097/4800}function W4(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=li(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+R1(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(iy(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function Qr(t){return function(){return this.as(t)}}var I1=Qr("ms"),K4=Qr("s"),Q4=Qr("m"),$4=Qr("h"),X4=Qr("d"),Z4=Qr("w"),J4=Qr("M"),e6=Qr("Q"),t6=Qr("y"),n6=I1;function i6(){return Ei(this)}function r6(t){return t=li(t),this.isValid()?this[t+"s"]():NaN}function ro(t){return function(){return this.isValid()?this._data[t]:NaN}}var s6=ro("milliseconds"),a6=ro("seconds"),o6=ro("minutes"),l6=ro("hours"),u6=ro("days"),c6=ro("months"),h6=ro("years");function f6(){return si(this.days()/7)}var Dr=Math.round,il={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function d6(t,e,n,r,a){return a.relativeTime(e||1,!!n,t,r)}function m6(t,e,n,r){var a=Ei(t).abs(),l=Dr(a.as("s")),c=Dr(a.as("m")),d=Dr(a.as("h")),p=Dr(a.as("d")),g=Dr(a.as("M")),T=Dr(a.as("w")),E=Dr(a.as("y")),A=l<=n.ss&&["s",l]||l<n.s&&["ss",l]||c<=1&&["m"]||c<n.m&&["mm",c]||d<=1&&["h"]||d<n.h&&["hh",d]||p<=1&&["d"]||p<n.d&&["dd",p];return n.w!=null&&(A=A||T<=1&&["w"]||T<n.w&&["ww",T]),A=A||g<=1&&["M"]||g<n.M&&["MM",g]||E<=1&&["y"]||["yy",E],A[2]=e,A[3]=+t>0,A[4]=r,d6.apply(null,A)}function p6(t){return t===void 0?Dr:typeof t=="function"?(Dr=t,!0):!1}function g6(t,e){return il[t]===void 0?!1:e===void 0?il[t]:(il[t]=e,t==="s"&&(il.ss=e-1),!0)}function y6(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=il,a,l;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},il,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),a=this.localeData(),l=m6(this,!n,r,a),n&&(l=a.pastFuture(+this,l)),a.postformat(l)}var gg=Math.abs;function $o(t){return(t>0)-(t<0)||+t}function Wd(){if(!this.isValid())return this.localeData().invalidDate();var t=gg(this._milliseconds)/1e3,e=gg(this._days),n=gg(this._months),r,a,l,c,d=this.asSeconds(),p,g,T,E;return d?(r=si(t/60),a=si(r/60),t%=60,r%=60,l=si(n/12),n%=12,c=t?t.toFixed(3).replace(/\.?0+$/,""):"",p=d<0?"-":"",g=$o(this._months)!==$o(d)?"-":"",T=$o(this._days)!==$o(d)?"-":"",E=$o(this._milliseconds)!==$o(d)?"-":"",p+"P"+(l?g+l+"Y":"")+(n?g+n+"M":"")+(e?T+e+"D":"")+(a||r||t?"T":"")+(a?E+a+"H":"")+(r?E+r+"M":"")+(t?E+c+"S":"")):"P0D"}var Ge=Yd.prototype;Ge.isValid=cL;Ge.abs=F4;Ge.add=q4;Ge.subtract=Y4;Ge.as=W4;Ge.asMilliseconds=I1;Ge.asSeconds=K4;Ge.asMinutes=Q4;Ge.asHours=$4;Ge.asDays=X4;Ge.asWeeks=Z4;Ge.asMonths=J4;Ge.asQuarters=e6;Ge.asYears=t6;Ge.valueOf=n6;Ge._bubble=G4;Ge.clone=i6;Ge.get=r6;Ge.milliseconds=s6;Ge.seconds=a6;Ge.minutes=o6;Ge.hours=l6;Ge.days=u6;Ge.weeks=f6;Ge.months=c6;Ge.years=h6;Ge.humanize=y6;Ge.toISOString=Wd;Ge.toString=Wd;Ge.toJSON=Wd;Ge.locale=m1;Ge.localeData=g1;Ge.toIsoString=oi("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wd);Ge.lang=p1;Te("X",0,0,"unix");Te("x",0,0,"valueOf");fe("x",jd);fe("X",LV);at("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});at("x",function(t,e,n){n._d=new Date(ze(t))});//! moment.js
le.version="2.30.1";_V(ht);le.fn=ie;le.min=aL;le.max=oL;le.now=lL;le.utc=Ji;le.unix=V4;le.months=L4;le.isDate=xc;le.locale=Gs;le.invalid=Ud;le.duration=Ei;le.isMoment=Ti;le.weekdays=B4;le.parseZone=U4;le.localeData=Kr;le.isDuration=Of;le.monthsShort=z4;le.weekdaysMin=H4;le.defineLocale=E_;le.updateLocale=UU;le.locales=LU;le.weekdaysShort=j4;le.normalizeUnits=li;le.relativeTimeRounding=p6;le.relativeTimeThreshold=g6;le.calendarFormat=NL;le.prototype=ie;le.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const _6=()=>{var p;const{userData:t,messagesId:e,chatUser:n,messages:r,setMessages:a}=F.useContext(io),[l,c]=F.useState(""),d=async()=>{try{if(l&&e){await Qa(zn(Bn,"messages",e),{messages:Gg({sId:t.id,text:l,createdAt:new Date})});const g=[n.rId,t.id];for(const T of g){const E=zn(Bn,"chats",T),A=await cc(E);if(A.exists()){const C=A.data(),M=C.chatsData.findIndex(z=>z.messageId===e);C.chatsData[M].lastMessage=l.slice(0,30),C.chatsData[M].updatedAt=Date.now(),C.chatsData[M].rId===t.id&&(C.chatsData[M].messageSeen=!1),await Qa(E,{chatsData:C.chatsData})}}}}catch(g){Le.error(g.message)}c("")};return F.useEffect(()=>{if(e){const g=wb(zn(Bn,"messages",e),T=>{a(T.data().messages.reverse())});return()=>{g()}}},[e]),n?re.jsxs("div",{className:"chat-box",children:[re.jsxs("div",{className:"chat-user",children:[re.jsx(o_,{size:28}),re.jsxs("p",{children:[((p=n.userData)==null?void 0:p.name)||"Unknown User",re.jsx("img",{src:js.green_dot,className:"dot",alt:"Online"})]})]}),re.jsx("div",{className:"chat-msg",children:r.map((g,T)=>re.jsxs("div",{className:g.sId===t.id?"s-msg":"r-msg",children:[re.jsx("p",{className:"msg",children:g.text}),re.jsx("span",{className:"timestamp",children:g.createdAt?le(g.createdAt.toDate()).format("hh:mm A"):"Just now"})]},T))}),re.jsxs("div",{className:"chat-input",children:[re.jsx("input",{onChange:g=>c(g.target.value),value:l,type:"text",placeholder:"Send a message"}),re.jsx("img",{onClick:d,src:js.send_button,alt:"Send"})]})]}):re.jsx("div",{className:"chat-welcome",children:re.jsx("p",{children:"Chat anytime, anywhere"})})},v6=()=>{const{userData:t}=F.useContext(io);return re.jsxs("div",{className:"rs",children:[re.jsxs("div",{className:"rs-profile",children:[re.jsx(o_,{size:180}),re.jsxs("h3",{children:[(t==null?void 0:t.name)||"User Name",re.jsx("img",{src:js.green_dot,className:"dot",alt:"Online"})]}),re.jsx("p",{children:(t==null?void 0:t.bio)||"Hey there! I'm using this chat app."})]}),re.jsx("hr",{}),re.jsx("div",{className:"rs-media"}),re.jsx("button",{onClick:aV,children:"Logout"})]})},T6=()=>{const{chatData:t,userData:e}=F.useContext(io),[n,r]=F.useState(!0);return F.useEffect(()=>{r(!1)},[t,e]),re.jsx("div",{className:"chat",children:n?re.jsx("p",{className:"loading",children:"Loading..."}):re.jsxs("div",{className:"chat-container",children:[re.jsx(yV,{}),re.jsx(_6,{}),re.jsx(v6,{})]})})},E6=()=>{const t=_c(),{setUserData:e}=F.useContext(io),[n,r]=F.useState(""),[a,l]=F.useState(""),[c,d]=F.useState(""),[p,g]=F.useState("");F.useEffect(()=>{VS(Il,async E=>{if(E){g(E.uid);const A=zn(Bn,"users",E.uid),C=await cc(A);if(C.exists()){const M=C.data();r(M.name||""),l(M.bio||""),d(M.avatar||js.avatar_icon)}}else t("/")})},[t]);const T=async E=>{E.preventDefault();try{const A=zn(Bn,"users",p);await Qa(A,{bio:a,name:n});const C=await cc(A);e(C.data()),Le.success("Profile updated successfully!"),setTimeout(()=>{t("/chat")},500)}catch(A){console.error("Error updating profile:",A),Le.error("Profile update failed")}};return re.jsx("div",{className:"profile",children:re.jsx("div",{className:"profile-container",children:re.jsxs("form",{onSubmit:T,children:[re.jsx("h3",{children:"Profile Details"}),re.jsx("div",{className:"avatar-container",children:re.jsx("img",{src:c,alt:"Profile Avatar",className:"profile-avatar"})}),re.jsx("input",{onChange:E=>r(E.target.value),value:n,type:"text",placeholder:"Your name",required:!0}),re.jsx("textarea",{onChange:E=>l(E.target.value),value:a,placeholder:"Write profile bio",required:!0}),re.jsx("button",{type:"submit",children:"Save"})]})})})},w6=()=>{const t=_c(),{loadUserData:e}=F.useContext(io);return F.useEffect(()=>{VS(Il,async n=>{n?(t("/chat"),console.log(n),await e(n.uid)):t("")})},[]),re.jsxs(re.Fragment,{children:[re.jsx(IP,{}),re.jsxs(JI,{children:[re.jsx(gf,{path:"/",element:re.jsx(oV,{})}),re.jsx(gf,{path:"/chat",element:re.jsx(T6,{})}),re.jsx(gf,{path:"/profile",element:re.jsx(E6,{})})]})]})};uI.createRoot(document.getElementById("root")).render(re.jsx(F.StrictMode,{children:re.jsx(wC,{children:re.jsx(lV,{children:re.jsx(w6,{})})})}))});export default S6();
